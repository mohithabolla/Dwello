var GB=Object.defineProperty;var VB=(t,e,n)=>e in t?GB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xx=(t,e,n)=>VB(t,typeof e!="symbol"?e+"":e,n);function WB(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function Ia(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yx={exports:{}},gf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function qB(){if(AT)return gf;AT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var c in r)c!=="key"&&(o[c]=r[c])}else o=r;return r=o.ref,{$$typeof:t,type:i,key:l,ref:r!==void 0?r:null,props:o}}return gf.Fragment=e,gf.jsx=n,gf.jsxs=n,gf}var TT;function XB(){return TT||(TT=1,yx.exports=qB()),yx.exports}var x=XB(),bx={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function $B(){if(CT)return xt;CT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function _(H,ne,ye){this.props=H,this.context=ne,this.refs=v,this.updater=ye||S}_.prototype.isReactComponent={},_.prototype.setState=function(H,ne){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ne,"setState")},_.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function A(){}A.prototype=_.prototype;function T(H,ne,ye){this.props=H,this.context=ne,this.refs=v,this.updater=ye||S}var C=T.prototype=new A;C.constructor=T,w(C,_.prototype),C.isPureReactComponent=!0;var P=Array.isArray;function O(){}var D={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function R(H,ne,ye){var Te=ye.ref;return{$$typeof:t,type:H,key:ne,ref:Te!==void 0?Te:null,props:ye}}function U(H,ne){return R(H.type,ne,H.props)}function F(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function j(H){var ne={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ye){return ne[ye]})}var W=/\/+/g;function $(H,ne){return typeof H=="object"&&H!==null&&H.key!=null?j(""+H.key):ne.toString(36)}function Q(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(O,O):(H.status="pending",H.then(function(ne){H.status==="pending"&&(H.status="fulfilled",H.value=ne)},function(ne){H.status==="pending"&&(H.status="rejected",H.reason=ne)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function B(H,ne,ye,Te,Ie){var le=typeof H;(le==="undefined"||le==="boolean")&&(H=null);var de=!1;if(H===null)de=!0;else switch(le){case"bigint":case"string":case"number":de=!0;break;case"object":switch(H.$$typeof){case t:case e:de=!0;break;case h:return de=H._init,B(de(H._payload),ne,ye,Te,Ie)}}if(de)return Ie=Ie(H),de=Te===""?"."+$(H,0):Te,P(Ie)?(ye="",de!=null&&(ye=de.replace(W,"$&/")+"/"),B(Ie,ne,ye,"",function(Ce){return Ce})):Ie!=null&&(F(Ie)&&(Ie=U(Ie,ye+(Ie.key==null||H&&H.key===Ie.key?"":(""+Ie.key).replace(W,"$&/")+"/")+de)),ne.push(Ie)),1;de=0;var Le=Te===""?".":Te+":";if(P(H))for(var ae=0;ae<H.length;ae++)Te=H[ae],le=Le+$(Te,ae),de+=B(Te,ne,ye,le,Ie);else if(ae=y(H),typeof ae=="function")for(H=ae.call(H),ae=0;!(Te=H.next()).done;)Te=Te.value,le=Le+$(Te,ae++),de+=B(Te,ne,ye,le,Ie);else if(le==="object"){if(typeof H.then=="function")return B(Q(H),ne,ye,Te,Ie);throw ne=String(H),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return de}function V(H,ne,ye){if(H==null)return H;var Te=[],Ie=0;return B(H,Te,"","",function(le){return ne.call(ye,le,Ie++)}),Te}function K(H){if(H._status===-1){var ne=H._result;ne=ne(),ne.then(function(ye){(H._status===0||H._status===-1)&&(H._status=1,H._result=ye)},function(ye){(H._status===0||H._status===-1)&&(H._status=2,H._result=ye)}),H._status===-1&&(H._status=0,H._result=ne)}if(H._status===1)return H._result.default;throw H._result}var ge=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},ve={map:V,forEach:function(H,ne,ye){V(H,function(){ne.apply(this,arguments)},ye)},count:function(H){var ne=0;return V(H,function(){ne++}),ne},toArray:function(H){return V(H,function(ne){return ne})||[]},only:function(H){if(!F(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return xt.Activity=m,xt.Children=ve,xt.Component=_,xt.Fragment=n,xt.Profiler=r,xt.PureComponent=T,xt.StrictMode=i,xt.Suspense=f,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,xt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return D.H.useMemoCache(H)}},xt.cache=function(H){return function(){return H.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(H,ne,ye){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Te=w({},H.props),Ie=H.key;if(ne!=null)for(le in ne.key!==void 0&&(Ie=""+ne.key),ne)!z.call(ne,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&ne.ref===void 0||(Te[le]=ne[le]);var le=arguments.length-2;if(le===1)Te.children=ye;else if(1<le){for(var de=Array(le),Le=0;Le<le;Le++)de[Le]=arguments[Le+2];Te.children=de}return R(H.type,Ie,Te)},xt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},xt.createElement=function(H,ne,ye){var Te,Ie={},le=null;if(ne!=null)for(Te in ne.key!==void 0&&(le=""+ne.key),ne)z.call(ne,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Ie[Te]=ne[Te]);var de=arguments.length-2;if(de===1)Ie.children=ye;else if(1<de){for(var Le=Array(de),ae=0;ae<de;ae++)Le[ae]=arguments[ae+2];Ie.children=Le}if(H&&H.defaultProps)for(Te in de=H.defaultProps,de)Ie[Te]===void 0&&(Ie[Te]=de[Te]);return R(H,le,Ie)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(H){return{$$typeof:c,render:H}},xt.isValidElement=F,xt.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:K}},xt.memo=function(H,ne){return{$$typeof:d,type:H,compare:ne===void 0?null:ne}},xt.startTransition=function(H){var ne=D.T,ye={};D.T=ye;try{var Te=H(),Ie=D.S;Ie!==null&&Ie(ye,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(O,ge)}catch(le){ge(le)}finally{ne!==null&&ye.types!==null&&(ne.types=ye.types),D.T=ne}},xt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},xt.use=function(H){return D.H.use(H)},xt.useActionState=function(H,ne,ye){return D.H.useActionState(H,ne,ye)},xt.useCallback=function(H,ne){return D.H.useCallback(H,ne)},xt.useContext=function(H){return D.H.useContext(H)},xt.useDebugValue=function(){},xt.useDeferredValue=function(H,ne){return D.H.useDeferredValue(H,ne)},xt.useEffect=function(H,ne){return D.H.useEffect(H,ne)},xt.useEffectEvent=function(H){return D.H.useEffectEvent(H)},xt.useId=function(){return D.H.useId()},xt.useImperativeHandle=function(H,ne,ye){return D.H.useImperativeHandle(H,ne,ye)},xt.useInsertionEffect=function(H,ne){return D.H.useInsertionEffect(H,ne)},xt.useLayoutEffect=function(H,ne){return D.H.useLayoutEffect(H,ne)},xt.useMemo=function(H,ne){return D.H.useMemo(H,ne)},xt.useOptimistic=function(H,ne){return D.H.useOptimistic(H,ne)},xt.useReducer=function(H,ne,ye){return D.H.useReducer(H,ne,ye)},xt.useRef=function(H){return D.H.useRef(H)},xt.useState=function(H){return D.H.useState(H)},xt.useSyncExternalStore=function(H,ne,ye){return D.H.useSyncExternalStore(H,ne,ye)},xt.useTransition=function(){return D.H.useTransition()},xt.version="19.2.4",xt}var RT;function su(){return RT||(RT=1,bx.exports=$B()),bx.exports}var M=su();const ea=Ia(M),YB=WB({__proto__:null,default:ea},[M]);var _x={exports:{}},vf={},wx={exports:{}},Sx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function KB(){return NT||(NT=1,(function(t){function e(B,V){var K=B.length;B.push(V);e:for(;0<K;){var ge=K-1>>>1,ve=B[ge];if(0<r(ve,V))B[ge]=V,B[K]=ve,K=ge;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var V=B[0],K=B.pop();if(K!==V){B[0]=K;e:for(var ge=0,ve=B.length,H=ve>>>1;ge<H;){var ne=2*(ge+1)-1,ye=B[ne],Te=ne+1,Ie=B[Te];if(0>r(ye,K))Te<ve&&0>r(Ie,ye)?(B[ge]=Ie,B[Te]=K,ge=Te):(B[ge]=ye,B[ne]=K,ge=ne);else if(Te<ve&&0>r(Ie,K))B[ge]=Ie,B[Te]=K,ge=Te;else break e}}return V}function r(B,V){var K=B.sortIndex-V.sortIndex;return K!==0?K:B.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],h=1,m=null,g=3,y=!1,S=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var V=n(d);V!==null;){if(V.callback===null)i(d);else if(V.startTime<=B)i(d),V.sortIndex=V.expirationTime,e(f,V);else break;V=n(d)}}function P(B){if(w=!1,C(B),!S)if(n(f)!==null)S=!0,O||(O=!0,j());else{var V=n(d);V!==null&&Q(P,V.startTime-B)}}var O=!1,D=-1,z=5,R=-1;function U(){return v?!0:!(t.unstable_now()-R<z)}function F(){if(v=!1,O){var B=t.unstable_now();R=B;var V=!0;try{e:{S=!1,w&&(w=!1,A(D),D=-1),y=!0;var K=g;try{t:{for(C(B),m=n(f);m!==null&&!(m.expirationTime>B&&U());){var ge=m.callback;if(typeof ge=="function"){m.callback=null,g=m.priorityLevel;var ve=ge(m.expirationTime<=B);if(B=t.unstable_now(),typeof ve=="function"){m.callback=ve,C(B),V=!0;break t}m===n(f)&&i(f),C(B)}else i(f);m=n(f)}if(m!==null)V=!0;else{var H=n(d);H!==null&&Q(P,H.startTime-B),V=!1}}break e}finally{m=null,g=K,y=!1}V=void 0}}finally{V?j():O=!1}}}var j;if(typeof T=="function")j=function(){T(F)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=F,j=function(){$.postMessage(null)}}else j=function(){_(F,0)};function Q(B,V){D=_(function(){B(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var V=3;break;default:V=g}var K=g;g=V;try{return B()}finally{g=K}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=g;g=B;try{return V()}finally{g=K}},t.unstable_scheduleCallback=function(B,V,K){var ge=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ge+K:ge):K=ge,B){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=K+ve,B={id:h++,callback:V,priorityLevel:B,startTime:K,expirationTime:ve,sortIndex:-1},K>ge?(B.sortIndex=K,e(d,B),n(f)===null&&B===n(d)&&(w?(A(D),D=-1):w=!0,Q(P,K-ge))):(B.sortIndex=ve,e(f,B),S||y||(S=!0,O||(O=!0,j()))),B},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(B){var V=g;return function(){var K=g;g=V;try{return B.apply(this,arguments)}finally{g=K}}}})(Sx)),Sx}var OT;function ZB(){return OT||(OT=1,wx.exports=KB()),wx.exports}var Ex={exports:{}},wi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function QB(){if(PT)return wi;PT=1;var t=su();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:f,containerInfo:d,implementation:h}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wi.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,h)},wi.flushSync=function(f){var d=l.T,h=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=h,i.d.f()}},wi.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},wi.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},wi.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,m=c(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):h==="script"&&i.d.X(f,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},wi.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},wi.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=c(h,d.crossOrigin);i.d.L(f,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},wi.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},wi.requestFormReset=function(f){i.d.r(f)},wi.unstable_batchedUpdates=function(f,d){return f(d)},wi.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},wi.useFormStatus=function(){return l.H.useHostTransitionStatus()},wi.version="19.2.4",wi}var DT;function iD(){if(DT)return Ex.exports;DT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ex.exports=QB(),Ex.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function JB(){if(LT)return vf;LT=1;var t=ZB(),e=su(),n=iD();function i(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(i(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(i(188));return s!==a?null:a}for(var u=a,p=s;;){var b=u.return;if(b===null)break;var E=b.alternate;if(E===null){if(p=b.return,p!==null){u=p;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===u)return f(b),a;if(E===p)return f(b),s;E=E.sibling}throw Error(i(188))}if(u.return!==p.return)u=b,p=E;else{for(var N=!1,k=b.child;k;){if(k===u){N=!0,u=b,p=E;break}if(k===p){N=!0,p=b,u=E;break}k=k.sibling}if(!N){for(k=E.child;k;){if(k===u){N=!0,u=E,p=b;break}if(k===p){N=!0,p=E,u=b;break}k=k.sibling}if(!N)throw Error(i(189))}}if(u.alternate!==p)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function j(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var W=Symbol.for("react.client.reference");function $(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===W?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case _:return"Profiler";case v:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case T:return a.displayName||"Context";case A:return(a._context.displayName||"Context")+".Consumer";case C:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return s=a.displayName||null,s!==null?s:$(a.type)||"Memo";case z:s=a._payload,a=a._init;try{return $(a(s))}catch{}}return null}var Q=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ge=[],ve=-1;function H(a){return{current:a}}function ne(a){0>ve||(a.current=ge[ve],ge[ve]=null,ve--)}function ye(a,s){ve++,ge[ve]=a.current,a.current=s}var Te=H(null),Ie=H(null),le=H(null),de=H(null);function Le(a,s){switch(ye(le,s),ye(Ie,a),ye(Te,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?YA(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=YA(s),a=KA(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ne(Te),ye(Te,a)}function ae(){ne(Te),ne(Ie),ne(le)}function Ce(a){a.memoizedState!==null&&ye(de,a);var s=Te.current,u=KA(s,a.type);s!==u&&(ye(Ie,a),ye(Te,u))}function We(a){Ie.current===a&&(ne(Te),ne(Ie)),de.current===a&&(ne(de),df._currentValue=K)}var Ee,ct;function Ze(a){if(Ee===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Ee=s&&s[1]||"",ct=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+a+ct}var gt=!1;function rt(a,s){if(!a||gt)return"";gt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(me){var ue=me}Reflect.construct(a,[],Se)}else{try{Se.call()}catch(me){ue=me}a.call(Se.prototype)}}else{try{throw Error()}catch(me){ue=me}(Se=a())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(me){if(me&&ue&&typeof me.stack=="string")return[me.stack,ue.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=p.DetermineComponentFrameRoot(),N=E[0],k=E[1];if(N&&k){var q=N.split(`
`),se=k.split(`
`);for(b=p=0;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;for(;b<se.length&&!se[b].includes("DetermineComponentFrameRoot");)b++;if(p===q.length||b===se.length)for(p=q.length-1,b=se.length-1;1<=p&&0<=b&&q[p]!==se[b];)b--;for(;1<=p&&0<=b;p--,b--)if(q[p]!==se[b]){if(p!==1||b!==1)do if(p--,b--,0>b||q[p]!==se[b]){var be=`
`+q[p].replace(" at new "," at ");return a.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",a.displayName)),be}while(1<=p&&0<=b);break}}}finally{gt=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ze(u):""}function Vt(a,s){switch(a.tag){case 26:case 27:case 5:return Ze(a.type);case 16:return Ze("Lazy");case 13:return a.child!==s&&s!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return rt(a.type,!1);case 11:return rt(a.type.render,!1);case 1:return rt(a.type,!0);case 31:return Ze("Activity");default:return""}}function X(a){try{var s="",u=null;do s+=Vt(a,u),u=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var mn=Object.prototype.hasOwnProperty,Lt=t.unstable_scheduleCallback,Wt=t.unstable_cancelCallback,tt=t.unstable_shouldYield,G=t.unstable_requestPaint,L=t.unstable_now,J=t.unstable_getCurrentPriorityLevel,_e=t.unstable_ImmediatePriority,Ae=t.unstable_UserBlockingPriority,xe=t.unstable_NormalPriority,it=t.unstable_LowPriority,Ue=t.unstable_IdlePriority,Qe=t.log,dt=t.unstable_setDisableYieldValue,Ne=null,Oe=null;function Ve(a){if(typeof Qe=="function"&&dt(a),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Ne,a)}catch{}}var He=Math.clz32?Math.clz32:Z,ke=Math.log,wt=Math.LN2;function Z(a){return a>>>=0,a===0?32:31-(ke(a)/wt|0)|0}var Be=256,Pe=262144,Ge=4194304;function Re(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Me(a,s,u){var p=a.pendingLanes;if(p===0)return 0;var b=0,E=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var k=p&134217727;return k!==0?(p=k&~E,p!==0?b=Re(p):(N&=k,N!==0?b=Re(N):u||(u=k&~a,u!==0&&(b=Re(u))))):(k=p&~E,k!==0?b=Re(k):N!==0?b=Re(N):u||(u=p&~a,u!==0&&(b=Re(u)))),b===0?0:s!==0&&s!==b&&(s&E)===0&&(E=b&-b,u=s&-s,E>=u||E===32&&(u&4194048)!==0)?s:b}function De(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function mt(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var a=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),a}function Ut(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function _i(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Wr(a,s,u,p,b,E){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var k=a.entanglements,q=a.expirationTimes,se=a.hiddenUpdates;for(u=N&~u;0<u;){var be=31-He(u),Se=1<<be;k[be]=0,q[be]=-1;var ue=se[be];if(ue!==null)for(se[be]=null,be=0;be<ue.length;be++){var me=ue[be];me!==null&&(me.lane&=-536870913)}u&=~Se}p!==0&&Bd(a,p,0),E!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=E&~(N&~s))}function Bd(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-He(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function Su(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var p=31-He(u),b=1<<p;b&s|a[p]&s&&(a[p]|=s),u&=~b}}function jl(a,s){var u=s&-s;return u=(u&42)!==0?1:Eu(u),(u&(a.suspendedLanes|s))!==0?0:u}function Eu(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Bl(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Mu(){var a=V.p;return a!==0?a:(a=window.event,a===void 0?32:yT(a.type))}function pa(a,s){var u=V.p;try{return V.p=a,s()}finally{V.p=u}}var br=Math.random().toString(36).slice(2),Dn="__reactFiber$"+br,oi="__reactProps$"+br,qr="__reactContainer$"+br,Fl="__reactEvents$"+br,zl="__reactListeners$"+br,Fd="__reactHandles$"+br,Au="__reactResources$"+br,Ds="__reactMarker$"+br;function Tu(a){delete a[Dn],delete a[oi],delete a[Fl],delete a[zl],delete a[Fd]}function Fo(a){var s=a[Dn];if(s)return s;for(var u=a.parentNode;u;){if(s=u[qr]||u[Dn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=iT(a);a!==null;){if(u=a[Dn])return u;a=iT(a)}return s}a=u,u=a.parentNode}return null}function zo(a){if(a=a[Dn]||a[qr]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Ls(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(i(33))}function Ho(a){var s=a[Au];return s||(s=a[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function I(a){a[Ds]=!0}var ee=new Set,he={};function ce(a,s){ie(a,s),ie(a+"Capture",s)}function ie(a,s){for(he[a]=s,a=0;a<s.length;a++)ee.add(s[a])}var je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xe={},Fe={};function Ye(a){return mn.call(Fe,a)?!0:mn.call(Xe,a)?!1:je.test(a)?Fe[a]=!0:(Xe[a]=!0,!1)}function Je(a,s,u){if(Ye(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function lt(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function et(a,s,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+p)}}function ut(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function zt(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gn(a,s,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,E=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return b.call(this)},set:function(N){u=""+N,E.call(this,N)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function un(a){if(!a._valueTracker){var s=zt(a)?"checked":"value";a._valueTracker=gn(a,s,""+a[s])}}function qt(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),p="";return a&&(p=zt(a)?a.checked?"true":"false":a.value),a=p,a!==u?(s.setValue(a),!0):!1}function at(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ht=/[\n"\\]/g;function vt(a){return a.replace(Ht,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function si(a,s,u,p,b,E,N,k){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),s!=null?N==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+ut(s)):a.value!==""+ut(s)&&(a.value=""+ut(s)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),s!=null?li(a,N,ut(s)):u!=null?li(a,N,ut(u)):p!=null&&a.removeAttribute("value"),b==null&&E!=null&&(a.defaultChecked=!!E),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+ut(k):a.removeAttribute("name")}function za(a,s,u,p,b,E,N,k){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.type=E),s!=null||u!=null){if(!(E!=="submit"&&E!=="reset"||s!=null)){un(a);return}u=u!=null?""+ut(u):"",s=s!=null?""+ut(s):u,k||s===a.value||(a.value=s),a.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=k?a.checked:!!p,a.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),un(a)}function li(a,s,u){s==="number"&&at(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function _r(a,s,u,p){if(a=a.options,s){s={};for(var b=0;b<u.length;b++)s["$"+u[b]]=!0;for(u=0;u<a.length;u++)b=s.hasOwnProperty("$"+a[u].value),a[u].selected!==b&&(a[u].selected=b),b&&p&&(a[u].defaultSelected=!0)}else{for(u=""+ut(u),s=null,b=0;b<a.length;b++){if(a[b].value===u){a[b].selected=!0,p&&(a[b].defaultSelected=!0);return}s!==null||a[b].disabled||(s=a[b])}s!==null&&(s.selected=!0)}}function Yt(a,s,u){if(s!=null&&(s=""+ut(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+ut(u):""}function ci(a,s,u,p){if(s==null){if(p!=null){if(u!=null)throw Error(i(92));if(Q(p)){if(1<p.length)throw Error(i(93));p=p[0]}u=p}u==null&&(u=""),s=u}u=ut(s),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),un(a)}function zn(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var ui=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fi(a,s,u){var p=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,u):typeof u!="number"||u===0||ui.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function Hl(a,s,u){if(s!=null&&typeof s!="object")throw Error(i(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&u[b]!==p&&fi(a,b,p)}else for(var E in s)s.hasOwnProperty(E)&&fi(a,E,s[E])}function Xr(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zd(a){return Fj.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ha(){}var mv=null;function gv(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Gl=null,Vl=null;function $1(a){var s=zo(a);if(s&&(a=s.stateNode)){var u=a[oi]||null;e:switch(a=s.stateNode,s.type){case"input":if(si(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+vt(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var p=u[s];if(p!==a&&p.form===a.form){var b=p[oi]||null;if(!b)throw Error(i(90));si(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<u.length;s++)p=u[s],p.form===a.form&&qt(p)}break e;case"textarea":Yt(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&_r(a,!!u.multiple,s,!1)}}}var vv=!1;function Y1(a,s,u){if(vv)return a(s,u);vv=!0;try{var p=a(s);return p}finally{if(vv=!1,(Gl!==null||Vl!==null)&&(Ch(),Gl&&(s=Gl,a=Vl,Vl=Gl=null,$1(s),a)))for(s=0;s<a.length;s++)$1(a[s])}}function Cu(a,s){var u=a.stateNode;if(u===null)return null;var p=u[oi]||null;if(p===null)return null;u=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,s,typeof u));return u}var Ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xv=!1;if(Ga)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){xv=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{xv=!1}var Go=null,yv=null,Hd=null;function K1(){if(Hd)return Hd;var a,s=yv,u=s.length,p,b="value"in Go?Go.value:Go.textContent,E=b.length;for(a=0;a<u&&s[a]===b[a];a++);var N=u-a;for(p=1;p<=N&&s[u-p]===b[E-p];p++);return Hd=b.slice(a,1<p?1-p:void 0)}function Gd(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Vd(){return!0}function Z1(){return!1}function Hi(a){function s(u,p,b,E,N){this._reactName=u,this._targetInst=b,this.type=p,this.nativeEvent=E,this.target=N,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(u=a[k],this[k]=u?u(E):E[k]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Vd:Z1,this.isPropagationStopped=Z1,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vd)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vd)},persist:function(){},isPersistent:Vd}),s}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wd=Hi(Us),Nu=m({},Us,{view:0,detail:0}),zj=Hi(Nu),bv,_v,Ou,qd=m({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sv,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ou&&(Ou&&a.type==="mousemove"?(bv=a.screenX-Ou.screenX,_v=a.screenY-Ou.screenY):_v=bv=0,Ou=a),bv)},movementY:function(a){return"movementY"in a?a.movementY:_v}}),Q1=Hi(qd),Hj=m({},qd,{dataTransfer:0}),Gj=Hi(Hj),Vj=m({},Nu,{relatedTarget:0}),wv=Hi(Vj),Wj=m({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),qj=Hi(Wj),Xj=m({},Us,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),$j=Hi(Xj),Yj=m({},Us,{data:0}),J1=Hi(Yj),Kj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jj(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Qj[a])?!!s[a]:!1}function Sv(){return Jj}var e4=m({},Nu,{key:function(a){if(a.key){var s=Kj[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Gd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Zj[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sv,charCode:function(a){return a.type==="keypress"?Gd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Gd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),t4=Hi(e4),n4=m({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eE=Hi(n4),i4=m({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sv}),r4=Hi(i4),a4=m({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),o4=Hi(a4),s4=m({},qd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),l4=Hi(s4),c4=m({},Us,{newState:0,oldState:0}),u4=Hi(c4),f4=[9,13,27,32],Ev=Ga&&"CompositionEvent"in window,Pu=null;Ga&&"documentMode"in document&&(Pu=document.documentMode);var d4=Ga&&"TextEvent"in window&&!Pu,tE=Ga&&(!Ev||Pu&&8<Pu&&11>=Pu),nE=" ",iE=!1;function rE(a,s){switch(a){case"keyup":return f4.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aE(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Wl=!1;function h4(a,s){switch(a){case"compositionend":return aE(s);case"keypress":return s.which!==32?null:(iE=!0,nE);case"textInput":return a=s.data,a===nE&&iE?null:a;default:return null}}function p4(a,s){if(Wl)return a==="compositionend"||!Ev&&rE(a,s)?(a=K1(),Hd=yv=Go=null,Wl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return tE&&s.locale!=="ko"?null:s.data;default:return null}}var m4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oE(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!m4[a.type]:s==="textarea"}function sE(a,s,u,p){Gl?Vl?Vl.push(p):Vl=[p]:Gl=p,s=Uh(s,"onChange"),0<s.length&&(u=new Wd("onChange","change",null,u,p),a.push({event:u,listeners:s}))}var Du=null,Lu=null;function g4(a){GA(a,0)}function Xd(a){var s=Ls(a);if(qt(s))return a}function lE(a,s){if(a==="change")return s}var cE=!1;if(Ga){var Mv;if(Ga){var Av="oninput"in document;if(!Av){var uE=document.createElement("div");uE.setAttribute("oninput","return;"),Av=typeof uE.oninput=="function"}Mv=Av}else Mv=!1;cE=Mv&&(!document.documentMode||9<document.documentMode)}function fE(){Du&&(Du.detachEvent("onpropertychange",dE),Lu=Du=null)}function dE(a){if(a.propertyName==="value"&&Xd(Lu)){var s=[];sE(s,Lu,a,gv(a)),Y1(g4,s)}}function v4(a,s,u){a==="focusin"?(fE(),Du=s,Lu=u,Du.attachEvent("onpropertychange",dE)):a==="focusout"&&fE()}function x4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Xd(Lu)}function y4(a,s){if(a==="click")return Xd(s)}function b4(a,s){if(a==="input"||a==="change")return Xd(s)}function _4(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var ir=typeof Object.is=="function"?Object.is:_4;function Uu(a,s){if(ir(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),p=Object.keys(s);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var b=u[p];if(!mn.call(s,b)||!ir(a[b],s[b]))return!1}return!0}function hE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function pE(a,s){var u=hE(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=s&&p>=s)return{node:u,offset:s-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hE(u)}}function mE(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?mE(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function gE(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=at(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=at(a.document)}return s}function Tv(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var w4=Ga&&"documentMode"in document&&11>=document.documentMode,ql=null,Cv=null,ku=null,Rv=!1;function vE(a,s,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Rv||ql==null||ql!==at(p)||(p=ql,"selectionStart"in p&&Tv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ku&&Uu(ku,p)||(ku=p,p=Uh(Cv,"onSelect"),0<p.length&&(s=new Wd("onSelect","select",null,s,u),a.push({event:s,listeners:p}),s.target=ql)))}function ks(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var Xl={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Nv={},xE={};Ga&&(xE=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function Is(a){if(Nv[a])return Nv[a];if(!Xl[a])return a;var s=Xl[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in xE)return Nv[a]=s[u];return a}var yE=Is("animationend"),bE=Is("animationiteration"),_E=Is("animationstart"),S4=Is("transitionrun"),E4=Is("transitionstart"),M4=Is("transitioncancel"),wE=Is("transitionend"),SE=new Map,Ov="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ov.push("scrollEnd");function $r(a,s){SE.set(a,s),ce(s,[a])}var $d=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},wr=[],$l=0,Pv=0;function Yd(){for(var a=$l,s=Pv=$l=0;s<a;){var u=wr[s];wr[s++]=null;var p=wr[s];wr[s++]=null;var b=wr[s];wr[s++]=null;var E=wr[s];if(wr[s++]=null,p!==null&&b!==null){var N=p.pending;N===null?b.next=b:(b.next=N.next,N.next=b),p.pending=b}E!==0&&EE(u,b,E)}}function Kd(a,s,u,p){wr[$l++]=a,wr[$l++]=s,wr[$l++]=u,wr[$l++]=p,Pv|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Dv(a,s,u,p){return Kd(a,s,u,p),Zd(a)}function js(a,s){return Kd(a,null,null,s),Zd(a)}function EE(a,s,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var b=!1,E=a.return;E!==null;)E.childLanes|=u,p=E.alternate,p!==null&&(p.childLanes|=u),E.tag===22&&(a=E.stateNode,a===null||a._visibility&1||(b=!0)),a=E,E=E.return;return a.tag===3?(E=a.stateNode,b&&s!==null&&(b=31-He(u),a=E.hiddenUpdates,p=a[b],p===null?a[b]=[s]:p.push(s),s.lane=u|536870912),E):null}function Zd(a){if(50<af)throw af=0,H0=null,Error(i(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Yl={};function A4(a,s,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(a,s,u,p){return new A4(a,s,u,p)}function Lv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Va(a,s){var u=a.alternate;return u===null?(u=rr(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function ME(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Qd(a,s,u,p,b,E){var N=0;if(p=a,typeof a=="function")Lv(a)&&(N=1);else if(typeof a=="string")N=OB(a,u,Te.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=rr(31,u,s,b),a.elementType=R,a.lanes=E,a;case w:return Bs(u.children,b,E,s);case v:N=8,b|=24;break;case _:return a=rr(12,u,s,b|2),a.elementType=_,a.lanes=E,a;case P:return a=rr(13,u,s,b),a.elementType=P,a.lanes=E,a;case O:return a=rr(19,u,s,b),a.elementType=O,a.lanes=E,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:N=10;break e;case A:N=9;break e;case C:N=11;break e;case D:N=14;break e;case z:N=16,p=null;break e}N=29,u=Error(i(130,a===null?"null":typeof a,"")),p=null}return s=rr(N,u,s,b),s.elementType=a,s.type=p,s.lanes=E,s}function Bs(a,s,u,p){return a=rr(7,a,p,s),a.lanes=u,a}function Uv(a,s,u){return a=rr(6,a,null,s),a.lanes=u,a}function AE(a){var s=rr(18,null,null,0);return s.stateNode=a,s}function kv(a,s,u){return s=rr(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var TE=new WeakMap;function Sr(a,s){if(typeof a=="object"&&a!==null){var u=TE.get(a);return u!==void 0?u:(s={value:a,source:s,stack:X(s)},TE.set(a,s),s)}return{value:a,source:s,stack:X(s)}}var Kl=[],Zl=0,Jd=null,Iu=0,Er=[],Mr=0,Vo=null,ma=1,ga="";function Wa(a,s){Kl[Zl++]=Iu,Kl[Zl++]=Jd,Jd=a,Iu=s}function CE(a,s,u){Er[Mr++]=ma,Er[Mr++]=ga,Er[Mr++]=Vo,Vo=a;var p=ma;a=ga;var b=32-He(p)-1;p&=~(1<<b),u+=1;var E=32-He(s)+b;if(30<E){var N=b-b%5;E=(p&(1<<N)-1).toString(32),p>>=N,b-=N,ma=1<<32-He(s)+b|u<<b|p,ga=E+a}else ma=1<<E|u<<b|p,ga=a}function Iv(a){a.return!==null&&(Wa(a,1),CE(a,1,0))}function jv(a){for(;a===Jd;)Jd=Kl[--Zl],Kl[Zl]=null,Iu=Kl[--Zl],Kl[Zl]=null;for(;a===Vo;)Vo=Er[--Mr],Er[Mr]=null,ga=Er[--Mr],Er[Mr]=null,ma=Er[--Mr],Er[Mr]=null}function RE(a,s){Er[Mr++]=ma,Er[Mr++]=ga,Er[Mr++]=Vo,ma=s.id,ga=s.overflow,Vo=a}var di=null,dn=null,Pt=!1,Wo=null,Ar=!1,Bv=Error(i(519));function qo(a){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ju(Sr(s,a)),Bv}function NE(a){var s=a.stateNode,u=a.type,p=a.memoizedProps;switch(s[Dn]=a,s[oi]=p,u){case"dialog":Ct("cancel",s),Ct("close",s);break;case"iframe":case"object":case"embed":Ct("load",s);break;case"video":case"audio":for(u=0;u<sf.length;u++)Ct(sf[u],s);break;case"source":Ct("error",s);break;case"img":case"image":case"link":Ct("error",s),Ct("load",s);break;case"details":Ct("toggle",s);break;case"input":Ct("invalid",s),za(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ct("invalid",s);break;case"textarea":Ct("invalid",s),ci(s,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||p.suppressHydrationWarning===!0||XA(s.textContent,u)?(p.popover!=null&&(Ct("beforetoggle",s),Ct("toggle",s)),p.onScroll!=null&&Ct("scroll",s),p.onScrollEnd!=null&&Ct("scrollend",s),p.onClick!=null&&(s.onclick=Ha),s=!0):s=!1,s||qo(a,!0)}function OE(a){for(di=a.return;di;)switch(di.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:di=di.return}}function Ql(a){if(a!==di)return!1;if(!Pt)return OE(a),Pt=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||ix(a.type,a.memoizedProps)),u=!u),u&&dn&&qo(a),OE(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));dn=nT(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));dn=nT(a)}else s===27?(s=dn,os(a.type)?(a=lx,lx=null,dn=a):dn=s):dn=di?Cr(a.stateNode.nextSibling):null;return!0}function Fs(){dn=di=null,Pt=!1}function Fv(){var a=Wo;return a!==null&&(qi===null?qi=a:qi.push.apply(qi,a),Wo=null),a}function ju(a){Wo===null?Wo=[a]:Wo.push(a)}var zv=H(null),zs=null,qa=null;function Xo(a,s,u){ye(zv,s._currentValue),s._currentValue=u}function Xa(a){a._currentValue=zv.current,ne(zv)}function Hv(a,s,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===u)break;a=a.return}}function Gv(a,s,u,p){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var E=b.dependencies;if(E!==null){var N=b.child;E=E.firstContext;e:for(;E!==null;){var k=E;E=b;for(var q=0;q<s.length;q++)if(k.context===s[q]){E.lanes|=u,k=E.alternate,k!==null&&(k.lanes|=u),Hv(E.return,u,a),p||(N=null);break e}E=k.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(i(341));N.lanes|=u,E=N.alternate,E!==null&&(E.lanes|=u),Hv(N,u,a),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===a){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function Jl(a,s,u,p){a=null;for(var b=s,E=!1;b!==null;){if(!E){if((b.flags&524288)!==0)E=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var k=b.type;ir(b.pendingProps.value,N.value)||(a!==null?a.push(k):a=[k])}}else if(b===de.current){if(N=b.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(df):a=[df])}b=b.return}a!==null&&Gv(s,a,u,p),s.flags|=262144}function eh(a){for(a=a.firstContext;a!==null;){if(!ir(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Hs(a){zs=a,qa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function hi(a){return PE(zs,a)}function th(a,s){return zs===null&&Hs(a),PE(a,s)}function PE(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},qa===null){if(a===null)throw Error(i(308));qa=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else qa=qa.next=s;return u}var T4=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},C4=t.unstable_scheduleCallback,R4=t.unstable_NormalPriority,Ln={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vv(){return{controller:new T4,data:new Map,refCount:0}}function Bu(a){a.refCount--,a.refCount===0&&C4(R4,function(){a.controller.abort()})}var Fu=null,Wv=0,ec=0,tc=null;function N4(a,s){if(Fu===null){var u=Fu=[];Wv=0,ec=$0(),tc={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Wv++,s.then(DE,DE),s}function DE(){if(--Wv===0&&Fu!==null){tc!==null&&(tc.status="fulfilled");var a=Fu;Fu=null,ec=0,tc=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function O4(a,s){var u=[],p={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<u.length;b++)(0,u[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),p}var LE=B.S;B.S=function(a,s){vA=L(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&N4(a,s),LE!==null&&LE(a,s)};var Gs=H(null);function qv(){var a=Gs.current;return a!==null?a:ln.pooledCache}function nh(a,s){s===null?ye(Gs,Gs.current):ye(Gs,s.pool)}function UE(){var a=qv();return a===null?null:{parent:Ln._currentValue,pool:a}}var nc=Error(i(460)),Xv=Error(i(474)),ih=Error(i(542)),rh={then:function(){}};function kE(a){return a=a.status,a==="fulfilled"||a==="rejected"}function IE(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(Ha,Ha),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,BE(a),a;default:if(typeof s.status=="string")s.then(Ha,Ha);else{if(a=ln,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,BE(a),a}throw Ws=s,nc}}function Vs(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ws=u,nc):u}}var Ws=null;function jE(){if(Ws===null)throw Error(i(459));var a=Ws;return Ws=null,a}function BE(a){if(a===nc||a===ih)throw Error(i(483))}var ic=null,zu=0;function ah(a){var s=zu;return zu+=1,ic===null&&(ic=[]),IE(ic,a,s)}function Hu(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function oh(a,s){throw s.$$typeof===g?Error(i(525)):(a=Object.prototype.toString.call(s),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function FE(a){function s(te,Y){if(a){var oe=te.deletions;oe===null?(te.deletions=[Y],te.flags|=16):oe.push(Y)}}function u(te,Y){if(!a)return null;for(;Y!==null;)s(te,Y),Y=Y.sibling;return null}function p(te){for(var Y=new Map;te!==null;)te.key!==null?Y.set(te.key,te):Y.set(te.index,te),te=te.sibling;return Y}function b(te,Y){return te=Va(te,Y),te.index=0,te.sibling=null,te}function E(te,Y,oe){return te.index=oe,a?(oe=te.alternate,oe!==null?(oe=oe.index,oe<Y?(te.flags|=67108866,Y):oe):(te.flags|=67108866,Y)):(te.flags|=1048576,Y)}function N(te){return a&&te.alternate===null&&(te.flags|=67108866),te}function k(te,Y,oe,we){return Y===null||Y.tag!==6?(Y=Uv(oe,te.mode,we),Y.return=te,Y):(Y=b(Y,oe),Y.return=te,Y)}function q(te,Y,oe,we){var st=oe.type;return st===w?be(te,Y,oe.props.children,we,oe.key):Y!==null&&(Y.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===z&&Vs(st)===Y.type)?(Y=b(Y,oe.props),Hu(Y,oe),Y.return=te,Y):(Y=Qd(oe.type,oe.key,oe.props,null,te.mode,we),Hu(Y,oe),Y.return=te,Y)}function se(te,Y,oe,we){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==oe.containerInfo||Y.stateNode.implementation!==oe.implementation?(Y=kv(oe,te.mode,we),Y.return=te,Y):(Y=b(Y,oe.children||[]),Y.return=te,Y)}function be(te,Y,oe,we,st){return Y===null||Y.tag!==7?(Y=Bs(oe,te.mode,we,st),Y.return=te,Y):(Y=b(Y,oe),Y.return=te,Y)}function Se(te,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Uv(""+Y,te.mode,oe),Y.return=te,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case y:return oe=Qd(Y.type,Y.key,Y.props,null,te.mode,oe),Hu(oe,Y),oe.return=te,oe;case S:return Y=kv(Y,te.mode,oe),Y.return=te,Y;case z:return Y=Vs(Y),Se(te,Y,oe)}if(Q(Y)||j(Y))return Y=Bs(Y,te.mode,oe,null),Y.return=te,Y;if(typeof Y.then=="function")return Se(te,ah(Y),oe);if(Y.$$typeof===T)return Se(te,th(te,Y),oe);oh(te,Y)}return null}function ue(te,Y,oe,we){var st=Y!==null?Y.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return st!==null?null:k(te,Y,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return oe.key===st?q(te,Y,oe,we):null;case S:return oe.key===st?se(te,Y,oe,we):null;case z:return oe=Vs(oe),ue(te,Y,oe,we)}if(Q(oe)||j(oe))return st!==null?null:be(te,Y,oe,we,null);if(typeof oe.then=="function")return ue(te,Y,ah(oe),we);if(oe.$$typeof===T)return ue(te,Y,th(te,oe),we);oh(te,oe)}return null}function me(te,Y,oe,we,st){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return te=te.get(oe)||null,k(Y,te,""+we,st);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case y:return te=te.get(we.key===null?oe:we.key)||null,q(Y,te,we,st);case S:return te=te.get(we.key===null?oe:we.key)||null,se(Y,te,we,st);case z:return we=Vs(we),me(te,Y,oe,we,st)}if(Q(we)||j(we))return te=te.get(oe)||null,be(Y,te,we,st,null);if(typeof we.then=="function")return me(te,Y,oe,ah(we),st);if(we.$$typeof===T)return me(te,Y,oe,th(Y,we),st);oh(Y,we)}return null}function Ke(te,Y,oe,we){for(var st=null,It=null,nt=Y,St=Y=0,Ot=null;nt!==null&&St<oe.length;St++){nt.index>St?(Ot=nt,nt=null):Ot=nt.sibling;var jt=ue(te,nt,oe[St],we);if(jt===null){nt===null&&(nt=Ot);break}a&&nt&&jt.alternate===null&&s(te,nt),Y=E(jt,Y,St),It===null?st=jt:It.sibling=jt,It=jt,nt=Ot}if(St===oe.length)return u(te,nt),Pt&&Wa(te,St),st;if(nt===null){for(;St<oe.length;St++)nt=Se(te,oe[St],we),nt!==null&&(Y=E(nt,Y,St),It===null?st=nt:It.sibling=nt,It=nt);return Pt&&Wa(te,St),st}for(nt=p(nt);St<oe.length;St++)Ot=me(nt,te,St,oe[St],we),Ot!==null&&(a&&Ot.alternate!==null&&nt.delete(Ot.key===null?St:Ot.key),Y=E(Ot,Y,St),It===null?st=Ot:It.sibling=Ot,It=Ot);return a&&nt.forEach(function(fs){return s(te,fs)}),Pt&&Wa(te,St),st}function ft(te,Y,oe,we){if(oe==null)throw Error(i(151));for(var st=null,It=null,nt=Y,St=Y=0,Ot=null,jt=oe.next();nt!==null&&!jt.done;St++,jt=oe.next()){nt.index>St?(Ot=nt,nt=null):Ot=nt.sibling;var fs=ue(te,nt,jt.value,we);if(fs===null){nt===null&&(nt=Ot);break}a&&nt&&fs.alternate===null&&s(te,nt),Y=E(fs,Y,St),It===null?st=fs:It.sibling=fs,It=fs,nt=Ot}if(jt.done)return u(te,nt),Pt&&Wa(te,St),st;if(nt===null){for(;!jt.done;St++,jt=oe.next())jt=Se(te,jt.value,we),jt!==null&&(Y=E(jt,Y,St),It===null?st=jt:It.sibling=jt,It=jt);return Pt&&Wa(te,St),st}for(nt=p(nt);!jt.done;St++,jt=oe.next())jt=me(nt,te,St,jt.value,we),jt!==null&&(a&&jt.alternate!==null&&nt.delete(jt.key===null?St:jt.key),Y=E(jt,Y,St),It===null?st=jt:It.sibling=jt,It=jt);return a&&nt.forEach(function(HB){return s(te,HB)}),Pt&&Wa(te,St),st}function nn(te,Y,oe,we){if(typeof oe=="object"&&oe!==null&&oe.type===w&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:e:{for(var st=oe.key;Y!==null;){if(Y.key===st){if(st=oe.type,st===w){if(Y.tag===7){u(te,Y.sibling),we=b(Y,oe.props.children),we.return=te,te=we;break e}}else if(Y.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===z&&Vs(st)===Y.type){u(te,Y.sibling),we=b(Y,oe.props),Hu(we,oe),we.return=te,te=we;break e}u(te,Y);break}else s(te,Y);Y=Y.sibling}oe.type===w?(we=Bs(oe.props.children,te.mode,we,oe.key),we.return=te,te=we):(we=Qd(oe.type,oe.key,oe.props,null,te.mode,we),Hu(we,oe),we.return=te,te=we)}return N(te);case S:e:{for(st=oe.key;Y!==null;){if(Y.key===st)if(Y.tag===4&&Y.stateNode.containerInfo===oe.containerInfo&&Y.stateNode.implementation===oe.implementation){u(te,Y.sibling),we=b(Y,oe.children||[]),we.return=te,te=we;break e}else{u(te,Y);break}else s(te,Y);Y=Y.sibling}we=kv(oe,te.mode,we),we.return=te,te=we}return N(te);case z:return oe=Vs(oe),nn(te,Y,oe,we)}if(Q(oe))return Ke(te,Y,oe,we);if(j(oe)){if(st=j(oe),typeof st!="function")throw Error(i(150));return oe=st.call(oe),ft(te,Y,oe,we)}if(typeof oe.then=="function")return nn(te,Y,ah(oe),we);if(oe.$$typeof===T)return nn(te,Y,th(te,oe),we);oh(te,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,Y!==null&&Y.tag===6?(u(te,Y.sibling),we=b(Y,oe),we.return=te,te=we):(u(te,Y),we=Uv(oe,te.mode,we),we.return=te,te=we),N(te)):u(te,Y)}return function(te,Y,oe,we){try{zu=0;var st=nn(te,Y,oe,we);return ic=null,st}catch(nt){if(nt===nc||nt===ih)throw nt;var It=rr(29,nt,null,te.mode);return It.lanes=we,It.return=te,It}finally{}}}var qs=FE(!0),zE=FE(!1),$o=!1;function $v(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yv(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Yo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ko(a,s,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Gt&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=Zd(a),EE(a,null,u),s}return Kd(a,p,s,u),Zd(a)}function Gu(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,u|=p,s.lanes=u,Su(a,u)}}function Kv(a,s){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var b=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};E===null?b=E=N:E=E.next=N,u=u.next}while(u!==null);E===null?b=E=s:E=E.next=s}else b=E=s;u={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var Zv=!1;function Vu(){if(Zv){var a=tc;if(a!==null)throw a}}function Wu(a,s,u,p){Zv=!1;var b=a.updateQueue;$o=!1;var E=b.firstBaseUpdate,N=b.lastBaseUpdate,k=b.shared.pending;if(k!==null){b.shared.pending=null;var q=k,se=q.next;q.next=null,N===null?E=se:N.next=se,N=q;var be=a.alternate;be!==null&&(be=be.updateQueue,k=be.lastBaseUpdate,k!==N&&(k===null?be.firstBaseUpdate=se:k.next=se,be.lastBaseUpdate=q))}if(E!==null){var Se=b.baseState;N=0,be=se=q=null,k=E;do{var ue=k.lane&-536870913,me=ue!==k.lane;if(me?(Nt&ue)===ue:(p&ue)===ue){ue!==0&&ue===ec&&(Zv=!0),be!==null&&(be=be.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ke=a,ft=k;ue=s;var nn=u;switch(ft.tag){case 1:if(Ke=ft.payload,typeof Ke=="function"){Se=Ke.call(nn,Se,ue);break e}Se=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=ft.payload,ue=typeof Ke=="function"?Ke.call(nn,Se,ue):Ke,ue==null)break e;Se=m({},Se,ue);break e;case 2:$o=!0}}ue=k.callback,ue!==null&&(a.flags|=64,me&&(a.flags|=8192),me=b.callbacks,me===null?b.callbacks=[ue]:me.push(ue))}else me={lane:ue,tag:k.tag,payload:k.payload,callback:k.callback,next:null},be===null?(se=be=me,q=Se):be=be.next=me,N|=ue;if(k=k.next,k===null){if(k=b.shared.pending,k===null)break;me=k,k=me.next,me.next=null,b.lastBaseUpdate=me,b.shared.pending=null}}while(!0);be===null&&(q=Se),b.baseState=q,b.firstBaseUpdate=se,b.lastBaseUpdate=be,E===null&&(b.shared.lanes=0),ts|=N,a.lanes=N,a.memoizedState=Se}}function HE(a,s){if(typeof a!="function")throw Error(i(191,a));a.call(s)}function GE(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)HE(u[a],s)}var rc=H(null),sh=H(0);function VE(a,s){a=no,ye(sh,a),ye(rc,s),no=a|s.baseLanes}function Qv(){ye(sh,no),ye(rc,rc.current)}function Jv(){no=sh.current,ne(rc),ne(sh)}var ar=H(null),Tr=null;function Zo(a){var s=a.alternate;ye(Rn,Rn.current&1),ye(ar,a),Tr===null&&(s===null||rc.current!==null||s.memoizedState!==null)&&(Tr=a)}function e0(a){ye(Rn,Rn.current),ye(ar,a),Tr===null&&(Tr=a)}function WE(a){a.tag===22?(ye(Rn,Rn.current),ye(ar,a),Tr===null&&(Tr=a)):Qo()}function Qo(){ye(Rn,Rn.current),ye(ar,ar.current)}function or(a){ne(ar),Tr===a&&(Tr=null),ne(Rn)}var Rn=H(0);function lh(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||ox(u)||sx(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var $a=0,bt=null,en=null,Un=null,ch=!1,ac=!1,Xs=!1,uh=0,qu=0,oc=null,P4=0;function Sn(){throw Error(i(321))}function t0(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!ir(a[u],s[u]))return!1;return!0}function n0(a,s,u,p,b,E){return $a=E,bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=a===null||a.memoizedState===null?CM:v0,Xs=!1,E=u(p,b),Xs=!1,ac&&(E=XE(s,u,p,b)),qE(a),E}function qE(a){B.H=Yu;var s=en!==null&&en.next!==null;if($a=0,Un=en=bt=null,ch=!1,qu=0,oc=null,s)throw Error(i(300));a===null||kn||(a=a.dependencies,a!==null&&eh(a)&&(kn=!0))}function XE(a,s,u,p){bt=a;var b=0;do{if(ac&&(oc=null),qu=0,ac=!1,25<=b)throw Error(i(301));if(b+=1,Un=en=null,a.updateQueue!=null){var E=a.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}B.H=RM,E=s(u,p)}while(ac);return E}function D4(){var a=B.H,s=a.useState()[0];return s=typeof s.then=="function"?Xu(s):s,a=a.useState()[0],(en!==null?en.memoizedState:null)!==a&&(bt.flags|=1024),s}function i0(){var a=uh!==0;return uh=0,a}function r0(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function a0(a){if(ch){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}ch=!1}$a=0,Un=en=bt=null,ac=!1,qu=uh=0,oc=null}function Ni(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?bt.memoizedState=Un=a:Un=Un.next=a,Un}function Nn(){if(en===null){var a=bt.alternate;a=a!==null?a.memoizedState:null}else a=en.next;var s=Un===null?bt.memoizedState:Un.next;if(s!==null)Un=s,en=a;else{if(a===null)throw bt.alternate===null?Error(i(467)):Error(i(310));en=a,a={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},Un===null?bt.memoizedState=Un=a:Un=Un.next=a}return Un}function fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xu(a){var s=qu;return qu+=1,oc===null&&(oc=[]),a=IE(oc,a,s),s=bt,(Un===null?s.memoizedState:Un.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?CM:v0),a}function dh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Xu(a);if(a.$$typeof===T)return hi(a)}throw Error(i(438,String(a)))}function o0(a){var s=null,u=bt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var p=bt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=fh(),bt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),p=0;p<a;p++)u[p]=U;return s.index++,u}function Ya(a,s){return typeof s=="function"?s(a):s}function hh(a){var s=Nn();return s0(s,en,a)}function s0(a,s,u){var p=a.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=u;var b=a.baseQueue,E=p.pending;if(E!==null){if(b!==null){var N=b.next;b.next=E.next,E.next=N}s.baseQueue=b=E,p.pending=null}if(E=a.baseState,b===null)a.memoizedState=E;else{s=b.next;var k=N=null,q=null,se=s,be=!1;do{var Se=se.lane&-536870913;if(Se!==se.lane?(Nt&Se)===Se:($a&Se)===Se){var ue=se.revertLane;if(ue===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Se===ec&&(be=!0);else if(($a&ue)===ue){se=se.next,ue===ec&&(be=!0);continue}else Se={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},q===null?(k=q=Se,N=E):q=q.next=Se,bt.lanes|=ue,ts|=ue;Se=se.action,Xs&&u(E,Se),E=se.hasEagerState?se.eagerState:u(E,Se)}else ue={lane:Se,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},q===null?(k=q=ue,N=E):q=q.next=ue,bt.lanes|=Se,ts|=Se;se=se.next}while(se!==null&&se!==s);if(q===null?N=E:q.next=k,!ir(E,a.memoizedState)&&(kn=!0,be&&(u=tc,u!==null)))throw u;a.memoizedState=E,a.baseState=N,a.baseQueue=q,p.lastRenderedState=E}return b===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function l0(a){var s=Nn(),u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var p=u.dispatch,b=u.pending,E=s.memoizedState;if(b!==null){u.pending=null;var N=b=b.next;do E=a(E,N.action),N=N.next;while(N!==b);ir(E,s.memoizedState)||(kn=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),u.lastRenderedState=E}return[E,p]}function $E(a,s,u){var p=bt,b=Nn(),E=Pt;if(E){if(u===void 0)throw Error(i(407));u=u()}else u=s();var N=!ir((en||b).memoizedState,u);if(N&&(b.memoizedState=u,kn=!0),b=b.queue,f0(ZE.bind(null,p,b,a),[a]),b.getSnapshot!==s||N||Un!==null&&Un.memoizedState.tag&1){if(p.flags|=2048,sc(9,{destroy:void 0},KE.bind(null,p,b,u,s),null),ln===null)throw Error(i(349));E||($a&127)!==0||YE(p,s,u)}return u}function YE(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=bt.updateQueue,s===null?(s=fh(),bt.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function KE(a,s,u,p){s.value=u,s.getSnapshot=p,QE(s)&&JE(a)}function ZE(a,s,u){return u(function(){QE(s)&&JE(a)})}function QE(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!ir(a,u)}catch{return!0}}function JE(a){var s=js(a,2);s!==null&&Xi(s,a,2)}function c0(a){var s=Ni();if(typeof a=="function"){var u=a;if(a=u(),Xs){Ve(!0);try{u()}finally{Ve(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:a},s}function eM(a,s,u,p){return a.baseState=u,s0(a,en,typeof p=="function"?p:Ya)}function L4(a,s,u,p,b){if(gh(a))throw Error(i(485));if(a=s.action,a!==null){var E={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){E.listeners.push(N)}};B.T!==null?u(!0):E.isTransition=!1,p(E),u=s.pending,u===null?(E.next=s.pending=E,tM(s,E)):(E.next=u.next,s.pending=u.next=E)}}function tM(a,s){var u=s.action,p=s.payload,b=a.state;if(s.isTransition){var E=B.T,N={};B.T=N;try{var k=u(b,p),q=B.S;q!==null&&q(N,k),nM(a,s,k)}catch(se){u0(a,s,se)}finally{E!==null&&N.types!==null&&(E.types=N.types),B.T=E}}else try{E=u(b,p),nM(a,s,E)}catch(se){u0(a,s,se)}}function nM(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){iM(a,s,p)},function(p){return u0(a,s,p)}):iM(a,s,u)}function iM(a,s,u){s.status="fulfilled",s.value=u,rM(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,tM(a,u)))}function u0(a,s,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=u,rM(s),s=s.next;while(s!==p)}a.action=null}function rM(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function aM(a,s){return s}function oM(a,s){if(Pt){var u=ln.formState;if(u!==null){e:{var p=bt;if(Pt){if(dn){t:{for(var b=dn,E=Ar;b.nodeType!==8;){if(!E){b=null;break t}if(b=Cr(b.nextSibling),b===null){b=null;break t}}E=b.data,b=E==="F!"||E==="F"?b:null}if(b){dn=Cr(b.nextSibling),p=b.data==="F!";break e}}qo(p)}p=!1}p&&(s=u[0])}}return u=Ni(),u.memoizedState=u.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aM,lastRenderedState:s},u.queue=p,u=MM.bind(null,bt,p),p.dispatch=u,p=c0(!1),E=g0.bind(null,bt,!1,p.queue),p=Ni(),b={state:s,dispatch:null,action:a,pending:null},p.queue=b,u=L4.bind(null,bt,b,E,u),b.dispatch=u,p.memoizedState=a,[s,u,!1]}function sM(a){var s=Nn();return lM(s,en,a)}function lM(a,s,u){if(s=s0(a,s,aM)[0],a=hh(Ya)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=Xu(s)}catch(N){throw N===nc?ih:N}else p=s;s=Nn();var b=s.queue,E=b.dispatch;return u!==s.memoizedState&&(bt.flags|=2048,sc(9,{destroy:void 0},U4.bind(null,b,u),null)),[p,E,a]}function U4(a,s){a.action=s}function cM(a){var s=Nn(),u=en;if(u!==null)return lM(s,u,a);Nn(),s=s.memoizedState,u=Nn();var p=u.queue.dispatch;return u.memoizedState=a,[s,p,!1]}function sc(a,s,u,p){return a={tag:a,create:u,deps:p,inst:s,next:null},s=bt.updateQueue,s===null&&(s=fh(),bt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,s.lastEffect=a),a}function uM(){return Nn().memoizedState}function ph(a,s,u,p){var b=Ni();bt.flags|=a,b.memoizedState=sc(1|s,{destroy:void 0},u,p===void 0?null:p)}function mh(a,s,u,p){var b=Nn();p=p===void 0?null:p;var E=b.memoizedState.inst;en!==null&&p!==null&&t0(p,en.memoizedState.deps)?b.memoizedState=sc(s,E,u,p):(bt.flags|=a,b.memoizedState=sc(1|s,E,u,p))}function fM(a,s){ph(8390656,8,a,s)}function f0(a,s){mh(2048,8,a,s)}function k4(a){bt.flags|=4;var s=bt.updateQueue;if(s===null)s=fh(),bt.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function dM(a){var s=Nn().memoizedState;return k4({ref:s,nextImpl:a}),function(){if((Gt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function hM(a,s){return mh(4,2,a,s)}function pM(a,s){return mh(4,4,a,s)}function mM(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function gM(a,s,u){u=u!=null?u.concat([a]):null,mh(4,4,mM.bind(null,s,a),u)}function d0(){}function vM(a,s){var u=Nn();s=s===void 0?null:s;var p=u.memoizedState;return s!==null&&t0(s,p[1])?p[0]:(u.memoizedState=[a,s],a)}function xM(a,s){var u=Nn();s=s===void 0?null:s;var p=u.memoizedState;if(s!==null&&t0(s,p[1]))return p[0];if(p=a(),Xs){Ve(!0);try{a()}finally{Ve(!1)}}return u.memoizedState=[p,s],p}function h0(a,s,u){return u===void 0||($a&1073741824)!==0&&(Nt&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=yA(),bt.lanes|=a,ts|=a,u)}function yM(a,s,u,p){return ir(u,s)?u:rc.current!==null?(a=h0(a,u,p),ir(a,s)||(kn=!0),a):($a&42)===0||($a&1073741824)!==0&&(Nt&261930)===0?(kn=!0,a.memoizedState=u):(a=yA(),bt.lanes|=a,ts|=a,s)}function bM(a,s,u,p,b){var E=V.p;V.p=E!==0&&8>E?E:8;var N=B.T,k={};B.T=k,g0(a,!1,s,u);try{var q=b(),se=B.S;if(se!==null&&se(k,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var be=O4(q,p);$u(a,s,be,cr(a))}else $u(a,s,p,cr(a))}catch(Se){$u(a,s,{then:function(){},status:"rejected",reason:Se},cr())}finally{V.p=E,N!==null&&k.types!==null&&(N.types=k.types),B.T=N}}function I4(){}function p0(a,s,u,p){if(a.tag!==5)throw Error(i(476));var b=_M(a).queue;bM(a,b,s,K,u===null?I4:function(){return wM(a),u(p)})}function _M(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:K},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function wM(a){var s=_M(a);s.next===null&&(s=a.alternate.memoizedState),$u(a,s.next.queue,{},cr())}function m0(){return hi(df)}function SM(){return Nn().memoizedState}function EM(){return Nn().memoizedState}function j4(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=cr();a=Yo(u);var p=Ko(s,a,u);p!==null&&(Xi(p,s,u),Gu(p,s,u)),s={cache:Vv()},a.payload=s;return}s=s.return}}function B4(a,s,u){var p=cr();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},gh(a)?AM(s,u):(u=Dv(a,s,u,p),u!==null&&(Xi(u,a,p),TM(u,s,p)))}function MM(a,s,u){var p=cr();$u(a,s,u,p)}function $u(a,s,u,p){var b={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(gh(a))AM(s,b);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var N=s.lastRenderedState,k=E(N,u);if(b.hasEagerState=!0,b.eagerState=k,ir(k,N))return Kd(a,s,b,0),ln===null&&Yd(),!1}catch{}finally{}if(u=Dv(a,s,b,p),u!==null)return Xi(u,a,p),TM(u,s,p),!0}return!1}function g0(a,s,u,p){if(p={lane:2,revertLane:$0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},gh(a)){if(s)throw Error(i(479))}else s=Dv(a,u,p,2),s!==null&&Xi(s,a,2)}function gh(a){var s=a.alternate;return a===bt||s!==null&&s===bt}function AM(a,s){ac=ch=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function TM(a,s,u){if((u&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,u|=p,s.lanes=u,Su(a,u)}}var Yu={readContext:hi,use:dh,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useLayoutEffect:Sn,useInsertionEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useSyncExternalStore:Sn,useId:Sn,useHostTransitionStatus:Sn,useFormState:Sn,useActionState:Sn,useOptimistic:Sn,useMemoCache:Sn,useCacheRefresh:Sn};Yu.useEffectEvent=Sn;var CM={readContext:hi,use:dh,useCallback:function(a,s){return Ni().memoizedState=[a,s===void 0?null:s],a},useContext:hi,useEffect:fM,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,ph(4194308,4,mM.bind(null,s,a),u)},useLayoutEffect:function(a,s){return ph(4194308,4,a,s)},useInsertionEffect:function(a,s){ph(4,2,a,s)},useMemo:function(a,s){var u=Ni();s=s===void 0?null:s;var p=a();if(Xs){Ve(!0);try{a()}finally{Ve(!1)}}return u.memoizedState=[p,s],p},useReducer:function(a,s,u){var p=Ni();if(u!==void 0){var b=u(s);if(Xs){Ve(!0);try{u(s)}finally{Ve(!1)}}}else b=s;return p.memoizedState=p.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},p.queue=a,a=a.dispatch=B4.bind(null,bt,a),[p.memoizedState,a]},useRef:function(a){var s=Ni();return a={current:a},s.memoizedState=a},useState:function(a){a=c0(a);var s=a.queue,u=MM.bind(null,bt,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:d0,useDeferredValue:function(a,s){var u=Ni();return h0(u,a,s)},useTransition:function(){var a=c0(!1);return a=bM.bind(null,bt,a.queue,!0,!1),Ni().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var p=bt,b=Ni();if(Pt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=s(),ln===null)throw Error(i(349));(Nt&127)!==0||YE(p,s,u)}b.memoizedState=u;var E={value:u,getSnapshot:s};return b.queue=E,fM(ZE.bind(null,p,E,a),[a]),p.flags|=2048,sc(9,{destroy:void 0},KE.bind(null,p,E,u,s),null),u},useId:function(){var a=Ni(),s=ln.identifierPrefix;if(Pt){var u=ga,p=ma;u=(p&~(1<<32-He(p)-1)).toString(32)+u,s="_"+s+"R_"+u,u=uh++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=P4++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:m0,useFormState:oM,useActionState:oM,useOptimistic:function(a){var s=Ni();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=g0.bind(null,bt,!0,u),u.dispatch=s,[a,s]},useMemoCache:o0,useCacheRefresh:function(){return Ni().memoizedState=j4.bind(null,bt)},useEffectEvent:function(a){var s=Ni(),u={impl:a};return s.memoizedState=u,function(){if((Gt&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},v0={readContext:hi,use:dh,useCallback:vM,useContext:hi,useEffect:f0,useImperativeHandle:gM,useInsertionEffect:hM,useLayoutEffect:pM,useMemo:xM,useReducer:hh,useRef:uM,useState:function(){return hh(Ya)},useDebugValue:d0,useDeferredValue:function(a,s){var u=Nn();return yM(u,en.memoizedState,a,s)},useTransition:function(){var a=hh(Ya)[0],s=Nn().memoizedState;return[typeof a=="boolean"?a:Xu(a),s]},useSyncExternalStore:$E,useId:SM,useHostTransitionStatus:m0,useFormState:sM,useActionState:sM,useOptimistic:function(a,s){var u=Nn();return eM(u,en,a,s)},useMemoCache:o0,useCacheRefresh:EM};v0.useEffectEvent=dM;var RM={readContext:hi,use:dh,useCallback:vM,useContext:hi,useEffect:f0,useImperativeHandle:gM,useInsertionEffect:hM,useLayoutEffect:pM,useMemo:xM,useReducer:l0,useRef:uM,useState:function(){return l0(Ya)},useDebugValue:d0,useDeferredValue:function(a,s){var u=Nn();return en===null?h0(u,a,s):yM(u,en.memoizedState,a,s)},useTransition:function(){var a=l0(Ya)[0],s=Nn().memoizedState;return[typeof a=="boolean"?a:Xu(a),s]},useSyncExternalStore:$E,useId:SM,useHostTransitionStatus:m0,useFormState:cM,useActionState:cM,useOptimistic:function(a,s){var u=Nn();return en!==null?eM(u,en,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:o0,useCacheRefresh:EM};RM.useEffectEvent=dM;function x0(a,s,u,p){s=a.memoizedState,u=u(p,s),u=u==null?s:m({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var y0={enqueueSetState:function(a,s,u){a=a._reactInternals;var p=cr(),b=Yo(p);b.payload=s,u!=null&&(b.callback=u),s=Ko(a,b,p),s!==null&&(Xi(s,a,p),Gu(s,a,p))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var p=cr(),b=Yo(p);b.tag=1,b.payload=s,u!=null&&(b.callback=u),s=Ko(a,b,p),s!==null&&(Xi(s,a,p),Gu(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=cr(),p=Yo(u);p.tag=2,s!=null&&(p.callback=s),s=Ko(a,p,u),s!==null&&(Xi(s,a,u),Gu(s,a,u))}};function NM(a,s,u,p,b,E,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,E,N):s.prototype&&s.prototype.isPureReactComponent?!Uu(u,p)||!Uu(b,E):!0}function OM(a,s,u,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,p),s.state!==a&&y0.enqueueReplaceState(s,s.state,null)}function $s(a,s){var u=s;if("ref"in s){u={};for(var p in s)p!=="ref"&&(u[p]=s[p])}if(a=a.defaultProps){u===s&&(u=m({},u));for(var b in a)u[b]===void 0&&(u[b]=a[b])}return u}function PM(a){$d(a)}function DM(a){console.error(a)}function LM(a){$d(a)}function vh(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function UM(a,s,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function b0(a,s,u){return u=Yo(u),u.tag=3,u.payload={element:null},u.callback=function(){vh(a,s)},u}function kM(a){return a=Yo(a),a.tag=3,a}function IM(a,s,u,p){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var E=p.value;a.payload=function(){return b(E)},a.callback=function(){UM(s,u,p)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){UM(s,u,p),typeof b!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var k=p.stack;this.componentDidCatch(p.value,{componentStack:k!==null?k:""})})}function F4(a,s,u,p,b){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=u.alternate,s!==null&&Jl(s,u,b,!0),u=ar.current,u!==null){switch(u.tag){case 31:case 13:return Tr===null?Rh():u.alternate===null&&En===0&&(En=3),u.flags&=-257,u.flags|=65536,u.lanes=b,p===rh?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([p]):s.add(p),W0(a,p,b)),!1;case 22:return u.flags|=65536,p===rh?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([p]):u.add(p)),W0(a,p,b)),!1}throw Error(i(435,u.tag))}return W0(a,p,b),Rh(),!1}if(Pt)return s=ar.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==Bv&&(a=Error(i(422),{cause:p}),ju(Sr(a,u)))):(p!==Bv&&(s=Error(i(423),{cause:p}),ju(Sr(s,u))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,p=Sr(p,u),b=b0(a.stateNode,p,b),Kv(a,b),En!==4&&(En=2)),!1;var E=Error(i(520),{cause:p});if(E=Sr(E,u),rf===null?rf=[E]:rf.push(E),En!==4&&(En=2),s===null)return!0;p=Sr(p,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=b&-b,u.lanes|=a,a=b0(u.stateNode,p,a),Kv(u,a),!1;case 1:if(s=u.type,E=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ns===null||!ns.has(E))))return u.flags|=65536,b&=-b,u.lanes|=b,b=kM(b),IM(b,a,u,p),Kv(u,b),!1}u=u.return}while(u!==null);return!1}var _0=Error(i(461)),kn=!1;function pi(a,s,u,p){s.child=a===null?zE(s,null,u,p):qs(s,a.child,u,p)}function jM(a,s,u,p,b){u=u.render;var E=s.ref;if("ref"in p){var N={};for(var k in p)k!=="ref"&&(N[k]=p[k])}else N=p;return Hs(s),p=n0(a,s,u,N,E,b),k=i0(),a!==null&&!kn?(r0(a,s,b),Ka(a,s,b)):(Pt&&k&&Iv(s),s.flags|=1,pi(a,s,p,b),s.child)}function BM(a,s,u,p,b){if(a===null){var E=u.type;return typeof E=="function"&&!Lv(E)&&E.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=E,FM(a,s,E,p,b)):(a=Qd(u.type,null,p,s,s.mode,b),a.ref=s.ref,a.return=s,s.child=a)}if(E=a.child,!R0(a,b)){var N=E.memoizedProps;if(u=u.compare,u=u!==null?u:Uu,u(N,p)&&a.ref===s.ref)return Ka(a,s,b)}return s.flags|=1,a=Va(E,p),a.ref=s.ref,a.return=s,s.child=a}function FM(a,s,u,p,b){if(a!==null){var E=a.memoizedProps;if(Uu(E,p)&&a.ref===s.ref)if(kn=!1,s.pendingProps=p=E,R0(a,b))(a.flags&131072)!==0&&(kn=!0);else return s.lanes=a.lanes,Ka(a,s,b)}return w0(a,s,u,p,b)}function zM(a,s,u,p){var b=p.children,E=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(E=E!==null?E.baseLanes|u:u,a!==null){for(p=s.child=a.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~E}else p=0,s.child=null;return HM(a,s,E,u,p)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&nh(s,E!==null?E.cachePool:null),E!==null?VE(s,E):Qv(),WE(s);else return p=s.lanes=536870912,HM(a,s,E!==null?E.baseLanes|u:u,u,p)}else E!==null?(nh(s,E.cachePool),VE(s,E),Qo(),s.memoizedState=null):(a!==null&&nh(s,null),Qv(),Qo());return pi(a,s,b,u),s.child}function Ku(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function HM(a,s,u,p,b){var E=qv();return E=E===null?null:{parent:Ln._currentValue,pool:E},s.memoizedState={baseLanes:u,cachePool:E},a!==null&&nh(s,null),Qv(),WE(s),a!==null&&Jl(a,s,p,!0),s.childLanes=b,null}function xh(a,s){return s=bh({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function GM(a,s,u){return qs(s,a.child,null,u),a=xh(s,s.pendingProps),a.flags|=2,or(s),s.memoizedState=null,a}function z4(a,s,u){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Pt){if(p.mode==="hidden")return a=xh(s,p),s.lanes=536870912,Ku(null,a);if(e0(s),(a=dn)?(a=tT(a,Ar),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Vo!==null?{id:ma,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},u=AE(a),u.return=s,s.child=u,di=s,dn=null)):a=null,a===null)throw qo(s);return s.lanes=536870912,null}return xh(s,p)}var E=a.memoizedState;if(E!==null){var N=E.dehydrated;if(e0(s),b)if(s.flags&256)s.flags&=-257,s=GM(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(i(558));else if(kn||Jl(a,s,u,!1),b=(u&a.childLanes)!==0,kn||b){if(p=ln,p!==null&&(N=jl(p,u),N!==0&&N!==E.retryLane))throw E.retryLane=N,js(a,N),Xi(p,a,N),_0;Rh(),s=GM(a,s,u)}else a=E.treeContext,dn=Cr(N.nextSibling),di=s,Pt=!0,Wo=null,Ar=!1,a!==null&&RE(s,a),s=xh(s,p),s.flags|=4096;return s}return a=Va(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function yh(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function w0(a,s,u,p,b){return Hs(s),u=n0(a,s,u,p,void 0,b),p=i0(),a!==null&&!kn?(r0(a,s,b),Ka(a,s,b)):(Pt&&p&&Iv(s),s.flags|=1,pi(a,s,u,b),s.child)}function VM(a,s,u,p,b,E){return Hs(s),s.updateQueue=null,u=XE(s,p,u,b),qE(a),p=i0(),a!==null&&!kn?(r0(a,s,E),Ka(a,s,E)):(Pt&&p&&Iv(s),s.flags|=1,pi(a,s,u,E),s.child)}function WM(a,s,u,p,b){if(Hs(s),s.stateNode===null){var E=Yl,N=u.contextType;typeof N=="object"&&N!==null&&(E=hi(N)),E=new u(p,E),s.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=y0,s.stateNode=E,E._reactInternals=s,E=s.stateNode,E.props=p,E.state=s.memoizedState,E.refs={},$v(s),N=u.contextType,E.context=typeof N=="object"&&N!==null?hi(N):Yl,E.state=s.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(x0(s,u,N,p),E.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(N=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),N!==E.state&&y0.enqueueReplaceState(E,E.state,null),Wu(s,p,E,b),Vu(),E.state=s.memoizedState),typeof E.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){E=s.stateNode;var k=s.memoizedProps,q=$s(u,k);E.props=q;var se=E.context,be=u.contextType;N=Yl,typeof be=="object"&&be!==null&&(N=hi(be));var Se=u.getDerivedStateFromProps;be=typeof Se=="function"||typeof E.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,be||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k||se!==N)&&OM(s,E,p,N),$o=!1;var ue=s.memoizedState;E.state=ue,Wu(s,p,E,b),Vu(),se=s.memoizedState,k||ue!==se||$o?(typeof Se=="function"&&(x0(s,u,Se,p),se=s.memoizedState),(q=$o||NM(s,u,q,p,ue,se,N))?(be||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=se),E.props=p,E.state=se,E.context=N,p=q):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{E=s.stateNode,Yv(a,s),N=s.memoizedProps,be=$s(u,N),E.props=be,Se=s.pendingProps,ue=E.context,se=u.contextType,q=Yl,typeof se=="object"&&se!==null&&(q=hi(se)),k=u.getDerivedStateFromProps,(se=typeof k=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==Se||ue!==q)&&OM(s,E,p,q),$o=!1,ue=s.memoizedState,E.state=ue,Wu(s,p,E,b),Vu();var me=s.memoizedState;N!==Se||ue!==me||$o||a!==null&&a.dependencies!==null&&eh(a.dependencies)?(typeof k=="function"&&(x0(s,u,k,p),me=s.memoizedState),(be=$o||NM(s,u,be,p,ue,me,q)||a!==null&&a.dependencies!==null&&eh(a.dependencies))?(se||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,me,q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,me,q)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||N===a.memoizedProps&&ue===a.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ue===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=me),E.props=p,E.state=me,E.context=q,p=be):(typeof E.componentDidUpdate!="function"||N===a.memoizedProps&&ue===a.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ue===a.memoizedState||(s.flags|=1024),p=!1)}return E=p,yh(a,s),p=(s.flags&128)!==0,E||p?(E=s.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:E.render(),s.flags|=1,a!==null&&p?(s.child=qs(s,a.child,null,b),s.child=qs(s,null,u,b)):pi(a,s,u,b),s.memoizedState=E.state,a=s.child):a=Ka(a,s,b),a}function qM(a,s,u,p){return Fs(),s.flags|=256,pi(a,s,u,p),s.child}var S0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function E0(a){return{baseLanes:a,cachePool:UE()}}function M0(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=lr),a}function XM(a,s,u){var p=s.pendingProps,b=!1,E=(s.flags&128)!==0,N;if((N=E)||(N=a!==null&&a.memoizedState===null?!1:(Rn.current&2)!==0),N&&(b=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,a===null){if(Pt){if(b?Zo(s):Qo(),(a=dn)?(a=tT(a,Ar),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Vo!==null?{id:ma,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},u=AE(a),u.return=s,s.child=u,di=s,dn=null)):a=null,a===null)throw qo(s);return sx(a)?s.lanes=32:s.lanes=536870912,null}var k=p.children;return p=p.fallback,b?(Qo(),b=s.mode,k=bh({mode:"hidden",children:k},b),p=Bs(p,b,u,null),k.return=s,p.return=s,k.sibling=p,s.child=k,p=s.child,p.memoizedState=E0(u),p.childLanes=M0(a,N,u),s.memoizedState=S0,Ku(null,p)):(Zo(s),A0(s,k))}var q=a.memoizedState;if(q!==null&&(k=q.dehydrated,k!==null)){if(E)s.flags&256?(Zo(s),s.flags&=-257,s=T0(a,s,u)):s.memoizedState!==null?(Qo(),s.child=a.child,s.flags|=128,s=null):(Qo(),k=p.fallback,b=s.mode,p=bh({mode:"visible",children:p.children},b),k=Bs(k,b,u,null),k.flags|=2,p.return=s,k.return=s,p.sibling=k,s.child=p,qs(s,a.child,null,u),p=s.child,p.memoizedState=E0(u),p.childLanes=M0(a,N,u),s.memoizedState=S0,s=Ku(null,p));else if(Zo(s),sx(k)){if(N=k.nextSibling&&k.nextSibling.dataset,N)var se=N.dgst;N=se,p=Error(i(419)),p.stack="",p.digest=N,ju({value:p,source:null,stack:null}),s=T0(a,s,u)}else if(kn||Jl(a,s,u,!1),N=(u&a.childLanes)!==0,kn||N){if(N=ln,N!==null&&(p=jl(N,u),p!==0&&p!==q.retryLane))throw q.retryLane=p,js(a,p),Xi(N,a,p),_0;ox(k)||Rh(),s=T0(a,s,u)}else ox(k)?(s.flags|=192,s.child=a.child,s=null):(a=q.treeContext,dn=Cr(k.nextSibling),di=s,Pt=!0,Wo=null,Ar=!1,a!==null&&RE(s,a),s=A0(s,p.children),s.flags|=4096);return s}return b?(Qo(),k=p.fallback,b=s.mode,q=a.child,se=q.sibling,p=Va(q,{mode:"hidden",children:p.children}),p.subtreeFlags=q.subtreeFlags&65011712,se!==null?k=Va(se,k):(k=Bs(k,b,u,null),k.flags|=2),k.return=s,p.return=s,p.sibling=k,s.child=p,Ku(null,p),p=s.child,k=a.child.memoizedState,k===null?k=E0(u):(b=k.cachePool,b!==null?(q=Ln._currentValue,b=b.parent!==q?{parent:q,pool:q}:b):b=UE(),k={baseLanes:k.baseLanes|u,cachePool:b}),p.memoizedState=k,p.childLanes=M0(a,N,u),s.memoizedState=S0,Ku(a.child,p)):(Zo(s),u=a.child,a=u.sibling,u=Va(u,{mode:"visible",children:p.children}),u.return=s,u.sibling=null,a!==null&&(N=s.deletions,N===null?(s.deletions=[a],s.flags|=16):N.push(a)),s.child=u,s.memoizedState=null,u)}function A0(a,s){return s=bh({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function bh(a,s){return a=rr(22,a,null,s),a.lanes=0,a}function T0(a,s,u){return qs(s,a.child,null,u),a=A0(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function $M(a,s,u){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),Hv(a.return,s,u)}function C0(a,s,u,p,b,E){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:b,treeForkCount:E}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=u,N.tailMode=b,N.treeForkCount=E)}function YM(a,s,u){var p=s.pendingProps,b=p.revealOrder,E=p.tail;p=p.children;var N=Rn.current,k=(N&2)!==0;if(k?(N=N&1|2,s.flags|=128):N&=1,ye(Rn,N),pi(a,s,p,u),p=Pt?Iu:0,!k&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&$M(a,u,s);else if(a.tag===19)$M(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(u=s.child,b=null;u!==null;)a=u.alternate,a!==null&&lh(a)===null&&(b=u),u=u.sibling;u=b,u===null?(b=s.child,s.child=null):(b=u.sibling,u.sibling=null),C0(s,!1,b,u,E,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=s.child,s.child=null;b!==null;){if(a=b.alternate,a!==null&&lh(a)===null){s.child=b;break}a=b.sibling,b.sibling=u,u=b,b=a}C0(s,!0,u,null,E,p);break;case"together":C0(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function Ka(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),ts|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(Jl(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(i(153));if(s.child!==null){for(a=s.child,u=Va(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=Va(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function R0(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&eh(a)))}function H4(a,s,u){switch(s.tag){case 3:Le(s,s.stateNode.containerInfo),Xo(s,Ln,a.memoizedState.cache),Fs();break;case 27:case 5:Ce(s);break;case 4:Le(s,s.stateNode.containerInfo);break;case 10:Xo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,e0(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Zo(s),s.flags|=128,null):(u&s.child.childLanes)!==0?XM(a,s,u):(Zo(s),a=Ka(a,s,u),a!==null?a.sibling:null);Zo(s);break;case 19:var b=(a.flags&128)!==0;if(p=(u&s.childLanes)!==0,p||(Jl(a,s,u,!1),p=(u&s.childLanes)!==0),b){if(p)return YM(a,s,u);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ye(Rn,Rn.current),p)break;return null;case 22:return s.lanes=0,zM(a,s,u,s.pendingProps);case 24:Xo(s,Ln,a.memoizedState.cache)}return Ka(a,s,u)}function KM(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)kn=!0;else{if(!R0(a,u)&&(s.flags&128)===0)return kn=!1,H4(a,s,u);kn=(a.flags&131072)!==0}else kn=!1,Pt&&(s.flags&1048576)!==0&&CE(s,Iu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=Vs(s.elementType),s.type=a,typeof a=="function")Lv(a)?(p=$s(a,p),s.tag=1,s=WM(null,s,a,p,u)):(s.tag=0,s=w0(null,s,a,p,u));else{if(a!=null){var b=a.$$typeof;if(b===C){s.tag=11,s=jM(null,s,a,p,u);break e}else if(b===D){s.tag=14,s=BM(null,s,a,p,u);break e}}throw s=$(a)||a,Error(i(306,s,""))}}return s;case 0:return w0(a,s,s.type,s.pendingProps,u);case 1:return p=s.type,b=$s(p,s.pendingProps),WM(a,s,p,b,u);case 3:e:{if(Le(s,s.stateNode.containerInfo),a===null)throw Error(i(387));p=s.pendingProps;var E=s.memoizedState;b=E.element,Yv(a,s),Wu(s,p,null,u);var N=s.memoizedState;if(p=N.cache,Xo(s,Ln,p),p!==E.cache&&Gv(s,[Ln],u,!0),Vu(),p=N.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){s=qM(a,s,p,u);break e}else if(p!==b){b=Sr(Error(i(424)),s),ju(b),s=qM(a,s,p,u);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(dn=Cr(a.firstChild),di=s,Pt=!0,Wo=null,Ar=!0,u=zE(s,null,p,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Fs(),p===b){s=Ka(a,s,u);break e}pi(a,s,p,u)}s=s.child}return s;case 26:return yh(a,s),a===null?(u=sT(s.type,null,s.pendingProps,null))?s.memoizedState=u:Pt||(u=s.type,a=s.pendingProps,p=kh(le.current).createElement(u),p[Dn]=s,p[oi]=a,mi(p,u,a),I(p),s.stateNode=p):s.memoizedState=sT(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ce(s),a===null&&Pt&&(p=s.stateNode=rT(s.type,s.pendingProps,le.current),di=s,Ar=!0,b=dn,os(s.type)?(lx=b,dn=Cr(p.firstChild)):dn=b),pi(a,s,s.pendingProps.children,u),yh(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Pt&&((b=p=dn)&&(p=xB(p,s.type,s.pendingProps,Ar),p!==null?(s.stateNode=p,di=s,dn=Cr(p.firstChild),Ar=!1,b=!0):b=!1),b||qo(s)),Ce(s),b=s.type,E=s.pendingProps,N=a!==null?a.memoizedProps:null,p=E.children,ix(b,E)?p=null:N!==null&&ix(b,N)&&(s.flags|=32),s.memoizedState!==null&&(b=n0(a,s,D4,null,null,u),df._currentValue=b),yh(a,s),pi(a,s,p,u),s.child;case 6:return a===null&&Pt&&((a=u=dn)&&(u=yB(u,s.pendingProps,Ar),u!==null?(s.stateNode=u,di=s,dn=null,a=!0):a=!1),a||qo(s)),null;case 13:return XM(a,s,u);case 4:return Le(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=qs(s,null,p,u):pi(a,s,p,u),s.child;case 11:return jM(a,s,s.type,s.pendingProps,u);case 7:return pi(a,s,s.pendingProps,u),s.child;case 8:return pi(a,s,s.pendingProps.children,u),s.child;case 12:return pi(a,s,s.pendingProps.children,u),s.child;case 10:return p=s.pendingProps,Xo(s,s.type,p.value),pi(a,s,p.children,u),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,Hs(s),b=hi(b),p=p(b),s.flags|=1,pi(a,s,p,u),s.child;case 14:return BM(a,s,s.type,s.pendingProps,u);case 15:return FM(a,s,s.type,s.pendingProps,u);case 19:return YM(a,s,u);case 31:return z4(a,s,u);case 22:return zM(a,s,u,s.pendingProps);case 24:return Hs(s),p=hi(Ln),a===null?(b=qv(),b===null&&(b=ln,E=Vv(),b.pooledCache=E,E.refCount++,E!==null&&(b.pooledCacheLanes|=u),b=E),s.memoizedState={parent:p,cache:b},$v(s),Xo(s,Ln,b)):((a.lanes&u)!==0&&(Yv(a,s),Wu(s,null,null,u),Vu()),b=a.memoizedState,E=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Xo(s,Ln,p)):(p=E.cache,Xo(s,Ln,p),p!==b.cache&&Gv(s,[Ln],u,!0))),pi(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Za(a){a.flags|=4}function N0(a,s,u,p,b){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(SA())a.flags|=8192;else throw Ws=rh,Xv}else a.flags&=-16777217}function ZM(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!dT(s))if(SA())a.flags|=8192;else throw Ws=rh,Xv}function _h(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?$t():536870912,a.lanes|=s,fc|=s)}function Zu(a,s){if(!Pt)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function hn(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(s)for(var b=a.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=p,a.childLanes=u,s}function G4(a,s,u){var p=s.pendingProps;switch(jv(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(s),null;case 1:return hn(s),null;case 3:return u=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Xa(Ln),ae(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Ql(s)?Za(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Fv())),hn(s),null;case 26:var b=s.type,E=s.memoizedState;return a===null?(Za(s),E!==null?(hn(s),ZM(s,E)):(hn(s),N0(s,b,null,p,u))):E?E!==a.memoizedState?(Za(s),hn(s),ZM(s,E)):(hn(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&Za(s),hn(s),N0(s,b,a,p,u)),null;case 27:if(We(s),u=le.current,b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&Za(s);else{if(!p){if(s.stateNode===null)throw Error(i(166));return hn(s),null}a=Te.current,Ql(s)?NE(s):(a=rT(b,p,u),s.stateNode=a,Za(s))}return hn(s),null;case 5:if(We(s),b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&Za(s);else{if(!p){if(s.stateNode===null)throw Error(i(166));return hn(s),null}if(E=Te.current,Ql(s))NE(s);else{var N=kh(le.current);switch(E){case 1:E=N.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:E=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":E=N.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":E=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":E=N.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof p.is=="string"?N.createElement("select",{is:p.is}):N.createElement("select"),p.multiple?E.multiple=!0:p.size&&(E.size=p.size);break;default:E=typeof p.is=="string"?N.createElement(b,{is:p.is}):N.createElement(b)}}E[Dn]=s,E[oi]=p;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)E.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=E;e:switch(mi(E,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Za(s)}}return hn(s),N0(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&Za(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(i(166));if(a=le.current,Ql(s)){if(a=s.stateNode,u=s.memoizedProps,p=null,b=di,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}a[Dn]=s,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||XA(a.nodeValue,u)),a||qo(s,!0)}else a=kh(a).createTextNode(p),a[Dn]=s,s.stateNode=a}return hn(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(p=Ql(s),u!==null){if(a===null){if(!p)throw Error(i(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[Dn]=s}else Fs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;hn(s),a=!1}else u=Fv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(or(s),s):(or(s),null);if((s.flags&128)!==0)throw Error(i(558))}return hn(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Ql(s),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(i(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[Dn]=s}else Fs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;hn(s),b=!1}else b=Fv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(or(s),s):(or(s),null)}return or(s),(s.flags&128)!==0?(s.lanes=u,s):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),E=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),E!==b&&(p.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),_h(s,s.updateQueue),hn(s),null);case 4:return ae(),a===null&&Q0(s.stateNode.containerInfo),hn(s),null;case 10:return Xa(s.type),hn(s),null;case 19:if(ne(Rn),p=s.memoizedState,p===null)return hn(s),null;if(b=(s.flags&128)!==0,E=p.rendering,E===null)if(b)Zu(p,!1);else{if(En!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(E=lh(a),E!==null){for(s.flags|=128,Zu(p,!1),a=E.updateQueue,s.updateQueue=a,_h(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)ME(u,a),u=u.sibling;return ye(Rn,Rn.current&1|2),Pt&&Wa(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&L()>Ah&&(s.flags|=128,b=!0,Zu(p,!1),s.lanes=4194304)}else{if(!b)if(a=lh(E),a!==null){if(s.flags|=128,b=!0,a=a.updateQueue,s.updateQueue=a,_h(s,a),Zu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!Pt)return hn(s),null}else 2*L()-p.renderingStartTime>Ah&&u!==536870912&&(s.flags|=128,b=!0,Zu(p,!1),s.lanes=4194304);p.isBackwards?(E.sibling=s.child,s.child=E):(a=p.last,a!==null?a.sibling=E:s.child=E,p.last=E)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=L(),a.sibling=null,u=Rn.current,ye(Rn,b?u&1|2:u&1),Pt&&Wa(s,p.treeForkCount),a):(hn(s),null);case 22:case 23:return or(s),Jv(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(u&536870912)!==0&&(s.flags&128)===0&&(hn(s),s.subtreeFlags&6&&(s.flags|=8192)):hn(s),u=s.updateQueue,u!==null&&_h(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==u&&(s.flags|=2048),a!==null&&ne(Gs),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Xa(Ln),hn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function V4(a,s){switch(jv(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Xa(Ln),ae(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return We(s),null;case 31:if(s.memoizedState!==null){if(or(s),s.alternate===null)throw Error(i(340));Fs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(or(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Fs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return ne(Rn),null;case 4:return ae(),null;case 10:return Xa(s.type),null;case 22:case 23:return or(s),Jv(),a!==null&&ne(Gs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Xa(Ln),null;case 25:return null;default:return null}}function QM(a,s){switch(jv(s),s.tag){case 3:Xa(Ln),ae();break;case 26:case 27:case 5:We(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&or(s);break;case 13:or(s);break;case 19:ne(Rn);break;case 10:Xa(s.type);break;case 22:case 23:or(s),Jv(),a!==null&&ne(Gs);break;case 24:Xa(Ln)}}function Qu(a,s){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var b=p.next;u=b;do{if((u.tag&a)===a){p=void 0;var E=u.create,N=u.inst;p=E(),N.destroy=p}u=u.next}while(u!==b)}}catch(k){Zt(s,s.return,k)}}function Jo(a,s,u){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var E=b.next;p=E;do{if((p.tag&a)===a){var N=p.inst,k=N.destroy;if(k!==void 0){N.destroy=void 0,b=s;var q=u,se=k;try{se()}catch(be){Zt(b,q,be)}}}p=p.next}while(p!==E)}}catch(be){Zt(s,s.return,be)}}function JM(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{GE(s,u)}catch(p){Zt(a,a.return,p)}}}function eA(a,s,u){u.props=$s(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){Zt(a,s,p)}}function Ju(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(b){Zt(a,s,b)}}function va(a,s){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(b){Zt(a,s,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Zt(a,s,b)}else u.current=null}function tA(a){var s=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(b){Zt(a,a.return,b)}}function O0(a,s,u){try{var p=a.stateNode;dB(p,a.type,u,s),p[oi]=s}catch(b){Zt(a,a.return,b)}}function nA(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&os(a.type)||a.tag===4}function P0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||nA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&os(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function D0(a,s,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Ha));else if(p!==4&&(p===27&&os(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(D0(a,s,u),a=a.sibling;a!==null;)D0(a,s,u),a=a.sibling}function wh(a,s,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(p!==4&&(p===27&&os(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(wh(a,s,u),a=a.sibling;a!==null;)wh(a,s,u),a=a.sibling}function iA(a){var s=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);mi(s,p,u),s[Dn]=a,s[oi]=u}catch(E){Zt(a,a.return,E)}}var Qa=!1,In=!1,L0=!1,rA=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function W4(a,s){if(a=a.containerInfo,tx=Gh,a=gE(a),Tv(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var b=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var N=0,k=-1,q=-1,se=0,be=0,Se=a,ue=null;t:for(;;){for(var me;Se!==u||b!==0&&Se.nodeType!==3||(k=N+b),Se!==E||p!==0&&Se.nodeType!==3||(q=N+p),Se.nodeType===3&&(N+=Se.nodeValue.length),(me=Se.firstChild)!==null;)ue=Se,Se=me;for(;;){if(Se===a)break t;if(ue===u&&++se===b&&(k=N),ue===E&&++be===p&&(q=N),(me=Se.nextSibling)!==null)break;Se=ue,ue=Se.parentNode}Se=me}u=k===-1||q===-1?null:{start:k,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(nx={focusedElem:a,selectionRange:u},Gh=!1,Yn=s;Yn!==null;)if(s=Yn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Yn=a;else for(;Yn!==null;){switch(s=Yn,E=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)b=a[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&E!==null){a=void 0,u=s,b=E.memoizedProps,E=E.memoizedState,p=u.stateNode;try{var Ke=$s(u.type,b);a=p.getSnapshotBeforeUpdate(Ke,E),p.__reactInternalSnapshotBeforeUpdate=a}catch(ft){Zt(u,u.return,ft)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)ax(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ax(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=s.sibling,a!==null){a.return=s.return,Yn=a;break}Yn=s.return}}function aA(a,s,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:eo(a,u),p&4&&Qu(5,u);break;case 1:if(eo(a,u),p&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(N){Zt(u,u.return,N)}else{var b=$s(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(b,s,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Zt(u,u.return,N)}}p&64&&JM(u),p&512&&Ju(u,u.return);break;case 3:if(eo(a,u),p&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{GE(a,s)}catch(N){Zt(u,u.return,N)}}break;case 27:s===null&&p&4&&iA(u);case 26:case 5:eo(a,u),s===null&&p&4&&tA(u),p&512&&Ju(u,u.return);break;case 12:eo(a,u);break;case 31:eo(a,u),p&4&&lA(a,u);break;case 13:eo(a,u),p&4&&cA(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=eB.bind(null,u),bB(a,u))));break;case 22:if(p=u.memoizedState!==null||Qa,!p){s=s!==null&&s.memoizedState!==null||In,b=Qa;var E=In;Qa=p,(In=s)&&!E?to(a,u,(u.subtreeFlags&8772)!==0):eo(a,u),Qa=b,In=E}break;case 30:break;default:eo(a,u)}}function oA(a){var s=a.alternate;s!==null&&(a.alternate=null,oA(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Tu(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var vn=null,Gi=!1;function Ja(a,s,u){for(u=u.child;u!==null;)sA(a,s,u),u=u.sibling}function sA(a,s,u){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Ne,u)}catch{}switch(u.tag){case 26:In||va(u,s),Ja(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:In||va(u,s);var p=vn,b=Gi;os(u.type)&&(vn=u.stateNode,Gi=!1),Ja(a,s,u),cf(u.stateNode),vn=p,Gi=b;break;case 5:In||va(u,s);case 6:if(p=vn,b=Gi,vn=null,Ja(a,s,u),vn=p,Gi=b,vn!==null)if(Gi)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(u.stateNode)}catch(E){Zt(u,s,E)}else try{vn.removeChild(u.stateNode)}catch(E){Zt(u,s,E)}break;case 18:vn!==null&&(Gi?(a=vn,JA(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),yc(a)):JA(vn,u.stateNode));break;case 4:p=vn,b=Gi,vn=u.stateNode.containerInfo,Gi=!0,Ja(a,s,u),vn=p,Gi=b;break;case 0:case 11:case 14:case 15:Jo(2,u,s),In||Jo(4,u,s),Ja(a,s,u);break;case 1:In||(va(u,s),p=u.stateNode,typeof p.componentWillUnmount=="function"&&eA(u,s,p)),Ja(a,s,u);break;case 21:Ja(a,s,u);break;case 22:In=(p=In)||u.memoizedState!==null,Ja(a,s,u),In=p;break;default:Ja(a,s,u)}}function lA(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{yc(a)}catch(u){Zt(s,s.return,u)}}}function cA(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{yc(a)}catch(u){Zt(s,s.return,u)}}function q4(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new rA),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new rA),s;default:throw Error(i(435,a.tag))}}function Sh(a,s){var u=q4(a);s.forEach(function(p){if(!u.has(p)){u.add(p);var b=tB.bind(null,a,p);p.then(b,b)}})}function Vi(a,s){var u=s.deletions;if(u!==null)for(var p=0;p<u.length;p++){var b=u[p],E=a,N=s,k=N;e:for(;k!==null;){switch(k.tag){case 27:if(os(k.type)){vn=k.stateNode,Gi=!1;break e}break;case 5:vn=k.stateNode,Gi=!1;break e;case 3:case 4:vn=k.stateNode.containerInfo,Gi=!0;break e}k=k.return}if(vn===null)throw Error(i(160));sA(E,N,b),vn=null,Gi=!1,E=b.alternate,E!==null&&(E.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)uA(s,a),s=s.sibling}var Yr=null;function uA(a,s){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vi(s,a),Wi(a),p&4&&(Jo(3,a,a.return),Qu(3,a),Jo(5,a,a.return));break;case 1:Vi(s,a),Wi(a),p&512&&(In||u===null||va(u,u.return)),p&64&&Qa&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var b=Yr;if(Vi(s,a),Wi(a),p&512&&(In||u===null||va(u,u.return)),p&4){var E=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":E=b.getElementsByTagName("title")[0],(!E||E[Ds]||E[Dn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=b.createElement(p),b.head.insertBefore(E,b.querySelector("head > title"))),mi(E,p,u),E[Dn]=a,I(E),p=E;break e;case"link":var N=uT("link","href",b).get(p+(u.href||""));if(N){for(var k=0;k<N.length;k++)if(E=N[k],E.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&E.getAttribute("rel")===(u.rel==null?null:u.rel)&&E.getAttribute("title")===(u.title==null?null:u.title)&&E.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(k,1);break t}}E=b.createElement(p),mi(E,p,u),b.head.appendChild(E);break;case"meta":if(N=uT("meta","content",b).get(p+(u.content||""))){for(k=0;k<N.length;k++)if(E=N[k],E.getAttribute("content")===(u.content==null?null:""+u.content)&&E.getAttribute("name")===(u.name==null?null:u.name)&&E.getAttribute("property")===(u.property==null?null:u.property)&&E.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&E.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(k,1);break t}}E=b.createElement(p),mi(E,p,u),b.head.appendChild(E);break;default:throw Error(i(468,p))}E[Dn]=a,I(E),p=E}a.stateNode=p}else fT(b,a.type,a.stateNode);else a.stateNode=cT(b,p,a.memoizedProps);else E!==p?(E===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):E.count--,p===null?fT(b,a.type,a.stateNode):cT(b,p,a.memoizedProps)):p===null&&a.stateNode!==null&&O0(a,a.memoizedProps,u.memoizedProps)}break;case 27:Vi(s,a),Wi(a),p&512&&(In||u===null||va(u,u.return)),u!==null&&p&4&&O0(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Vi(s,a),Wi(a),p&512&&(In||u===null||va(u,u.return)),a.flags&32){b=a.stateNode;try{zn(b,"")}catch(Ke){Zt(a,a.return,Ke)}}p&4&&a.stateNode!=null&&(b=a.memoizedProps,O0(a,b,u!==null?u.memoizedProps:b)),p&1024&&(L0=!0);break;case 6:if(Vi(s,a),Wi(a),p&4){if(a.stateNode===null)throw Error(i(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(Ke){Zt(a,a.return,Ke)}}break;case 3:if(Bh=null,b=Yr,Yr=Ih(s.containerInfo),Vi(s,a),Yr=b,Wi(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{yc(s.containerInfo)}catch(Ke){Zt(a,a.return,Ke)}L0&&(L0=!1,fA(a));break;case 4:p=Yr,Yr=Ih(a.stateNode.containerInfo),Vi(s,a),Wi(a),Yr=p;break;case 12:Vi(s,a),Wi(a);break;case 31:Vi(s,a),Wi(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Sh(a,p)));break;case 13:Vi(s,a),Wi(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Mh=L()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Sh(a,p)));break;case 22:b=a.memoizedState!==null;var q=u!==null&&u.memoizedState!==null,se=Qa,be=In;if(Qa=se||b,In=be||q,Vi(s,a),In=be,Qa=se,Wi(a),p&8192)e:for(s=a.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(u===null||q||Qa||In||Ys(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){q=u=s;try{if(E=q.stateNode,b)N=E.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{k=q.stateNode;var Se=q.memoizedProps.style,ue=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;k.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Ke){Zt(q,q.return,Ke)}}}else if(s.tag===6){if(u===null){q=s;try{q.stateNode.nodeValue=b?"":q.memoizedProps}catch(Ke){Zt(q,q.return,Ke)}}}else if(s.tag===18){if(u===null){q=s;try{var me=q.stateNode;b?eT(me,!0):eT(q.stateNode,!1)}catch(Ke){Zt(q,q.return,Ke)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Sh(a,u))));break;case 19:Vi(s,a),Wi(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Sh(a,p)));break;case 30:break;case 21:break;default:Vi(s,a),Wi(a)}}function Wi(a){var s=a.flags;if(s&2){try{for(var u,p=a.return;p!==null;){if(nA(p)){u=p;break}p=p.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var b=u.stateNode,E=P0(a);wh(a,E,b);break;case 5:var N=u.stateNode;u.flags&32&&(zn(N,""),u.flags&=-33);var k=P0(a);wh(a,k,N);break;case 3:case 4:var q=u.stateNode.containerInfo,se=P0(a);D0(a,se,q);break;default:throw Error(i(161))}}catch(be){Zt(a,a.return,be)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function fA(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;fA(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function eo(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)aA(a,s.alternate,s),s=s.sibling}function Ys(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Jo(4,s,s.return),Ys(s);break;case 1:va(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&eA(s,s.return,u),Ys(s);break;case 27:cf(s.stateNode);case 26:case 5:va(s,s.return),Ys(s);break;case 22:s.memoizedState===null&&Ys(s);break;case 30:Ys(s);break;default:Ys(s)}a=a.sibling}}function to(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=a,E=s,N=E.flags;switch(E.tag){case 0:case 11:case 15:to(b,E,u),Qu(4,E);break;case 1:if(to(b,E,u),p=E,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(se){Zt(p,p.return,se)}if(p=E,b=p.updateQueue,b!==null){var k=p.stateNode;try{var q=b.shared.hiddenCallbacks;if(q!==null)for(b.shared.hiddenCallbacks=null,b=0;b<q.length;b++)HE(q[b],k)}catch(se){Zt(p,p.return,se)}}u&&N&64&&JM(E),Ju(E,E.return);break;case 27:iA(E);case 26:case 5:to(b,E,u),u&&p===null&&N&4&&tA(E),Ju(E,E.return);break;case 12:to(b,E,u);break;case 31:to(b,E,u),u&&N&4&&lA(b,E);break;case 13:to(b,E,u),u&&N&4&&cA(b,E);break;case 22:E.memoizedState===null&&to(b,E,u),Ju(E,E.return);break;case 30:break;default:to(b,E,u)}s=s.sibling}}function U0(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Bu(u))}function k0(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Bu(a))}function Kr(a,s,u,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dA(a,s,u,p),s=s.sibling}function dA(a,s,u,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Kr(a,s,u,p),b&2048&&Qu(9,s);break;case 1:Kr(a,s,u,p);break;case 3:Kr(a,s,u,p),b&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Bu(a)));break;case 12:if(b&2048){Kr(a,s,u,p),a=s.stateNode;try{var E=s.memoizedProps,N=E.id,k=E.onPostCommit;typeof k=="function"&&k(N,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(q){Zt(s,s.return,q)}}else Kr(a,s,u,p);break;case 31:Kr(a,s,u,p);break;case 13:Kr(a,s,u,p);break;case 23:break;case 22:E=s.stateNode,N=s.alternate,s.memoizedState!==null?E._visibility&2?Kr(a,s,u,p):ef(a,s):E._visibility&2?Kr(a,s,u,p):(E._visibility|=2,lc(a,s,u,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&U0(N,s);break;case 24:Kr(a,s,u,p),b&2048&&k0(s.alternate,s);break;default:Kr(a,s,u,p)}}function lc(a,s,u,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var E=a,N=s,k=u,q=p,se=N.flags;switch(N.tag){case 0:case 11:case 15:lc(E,N,k,q,b),Qu(8,N);break;case 23:break;case 22:var be=N.stateNode;N.memoizedState!==null?be._visibility&2?lc(E,N,k,q,b):ef(E,N):(be._visibility|=2,lc(E,N,k,q,b)),b&&se&2048&&U0(N.alternate,N);break;case 24:lc(E,N,k,q,b),b&&se&2048&&k0(N.alternate,N);break;default:lc(E,N,k,q,b)}s=s.sibling}}function ef(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,p=s,b=p.flags;switch(p.tag){case 22:ef(u,p),b&2048&&U0(p.alternate,p);break;case 24:ef(u,p),b&2048&&k0(p.alternate,p);break;default:ef(u,p)}s=s.sibling}}var tf=8192;function cc(a,s,u){if(a.subtreeFlags&tf)for(a=a.child;a!==null;)hA(a,s,u),a=a.sibling}function hA(a,s,u){switch(a.tag){case 26:cc(a,s,u),a.flags&tf&&a.memoizedState!==null&&PB(u,Yr,a.memoizedState,a.memoizedProps);break;case 5:cc(a,s,u);break;case 3:case 4:var p=Yr;Yr=Ih(a.stateNode.containerInfo),cc(a,s,u),Yr=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=tf,tf=16777216,cc(a,s,u),tf=p):cc(a,s,u));break;default:cc(a,s,u)}}function pA(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function nf(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var p=s[u];Yn=p,gA(p,a)}pA(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)mA(a),a=a.sibling}function mA(a){switch(a.tag){case 0:case 11:case 15:nf(a),a.flags&2048&&Jo(9,a,a.return);break;case 3:nf(a);break;case 12:nf(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Eh(a)):nf(a);break;default:nf(a)}}function Eh(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var p=s[u];Yn=p,gA(p,a)}pA(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Jo(8,s,s.return),Eh(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Eh(s));break;default:Eh(s)}a=a.sibling}}function gA(a,s){for(;Yn!==null;){var u=Yn;switch(u.tag){case 0:case 11:case 15:Jo(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Bu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Yn=p;else e:for(u=a;Yn!==null;){p=Yn;var b=p.sibling,E=p.return;if(oA(p),p===u){Yn=null;break e}if(b!==null){b.return=E,Yn=b;break e}Yn=E}}}var X4={getCacheForType:function(a){var s=hi(Ln),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return hi(Ln).controller.signal}},$4=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ln=null,Tt=null,Nt=0,Kt=0,sr=null,es=!1,uc=!1,I0=!1,no=0,En=0,ts=0,Ks=0,j0=0,lr=0,fc=0,rf=null,qi=null,B0=!1,Mh=0,vA=0,Ah=1/0,Th=null,ns=null,Hn=0,is=null,dc=null,io=0,F0=0,z0=null,xA=null,af=0,H0=null;function cr(){return(Gt&2)!==0&&Nt!==0?Nt&-Nt:B.T!==null?$0():Mu()}function yA(){if(lr===0)if((Nt&536870912)===0||Pt){var a=Pe;Pe<<=1,(Pe&3932160)===0&&(Pe=262144),lr=a}else lr=536870912;return a=ar.current,a!==null&&(a.flags|=32),lr}function Xi(a,s,u){(a===ln&&(Kt===2||Kt===9)||a.cancelPendingCommit!==null)&&(hc(a,0),rs(a,Nt,lr,!1)),_i(a,u),((Gt&2)===0||a!==ln)&&(a===ln&&((Gt&2)===0&&(Ks|=u),En===4&&rs(a,Nt,lr,!1)),xa(a))}function bA(a,s,u){if((Gt&6)!==0)throw Error(i(327));var p=!u&&(s&127)===0&&(s&a.expiredLanes)===0||De(a,s),b=p?Z4(a,s):V0(a,s,!0),E=p;do{if(b===0){uc&&!p&&rs(a,s,0,!1);break}else{if(u=a.current.alternate,E&&!Y4(u)){b=V0(a,s,!1),E=!1;continue}if(b===2){if(E=s,a.errorRecoveryDisabledLanes&E)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var k=a;b=rf;var q=k.current.memoizedState.isDehydrated;if(q&&(hc(k,N).flags|=256),N=V0(k,N,!1),N!==2){if(I0&&!q){k.errorRecoveryDisabledLanes|=E,Ks|=E,b=4;break e}E=qi,qi=b,E!==null&&(qi===null?qi=E:qi.push.apply(qi,E))}b=N}if(E=!1,b!==2)continue}}if(b===1){hc(a,0),rs(a,s,0,!0);break}e:{switch(p=a,E=b,E){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:rs(p,s,lr,!es);break e;case 2:qi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(b=Mh+300-L(),10<b)){if(rs(p,s,lr,!es),Me(p,0,!0)!==0)break e;io=s,p.timeoutHandle=ZA(_A.bind(null,p,u,qi,Th,B0,s,lr,Ks,fc,es,E,"Throttled",-0,0),b);break e}_A(p,u,qi,Th,B0,s,lr,Ks,fc,es,E,null,-0,0)}}break}while(!0);xa(a)}function _A(a,s,u,p,b,E,N,k,q,se,be,Se,ue,me){if(a.timeoutHandle=-1,Se=s.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ha},hA(s,E,Se);var Ke=(E&62914560)===E?Mh-L():(E&4194048)===E?vA-L():0;if(Ke=DB(Se,Ke),Ke!==null){io=E,a.cancelPendingCommit=Ke(RA.bind(null,a,s,E,u,p,b,N,k,q,be,Se,null,ue,me)),rs(a,E,N,!se);return}}RA(a,s,E,u,p,b,N,k,q)}function Y4(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var b=u[p],E=b.getSnapshot;b=b.value;try{if(!ir(E(),b))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rs(a,s,u,p){s&=~j0,s&=~Ks,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var b=s;0<b;){var E=31-He(b),N=1<<E;p[E]=-1,b&=~N}u!==0&&Bd(a,u,s)}function Ch(){return(Gt&6)===0?(of(0),!1):!0}function G0(){if(Tt!==null){if(Kt===0)var a=Tt.return;else a=Tt,qa=zs=null,a0(a),ic=null,zu=0,a=Tt;for(;a!==null;)QM(a.alternate,a),a=a.return;Tt=null}}function hc(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,mB(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),io=0,G0(),ln=a,Tt=u=Va(a.current,null),Nt=s,Kt=0,sr=null,es=!1,uc=De(a,s),I0=!1,fc=lr=j0=Ks=ts=En=0,qi=rf=null,B0=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var b=31-He(p),E=1<<b;s|=a[b],p&=~E}return no=s,Yd(),u}function wA(a,s){bt=null,B.H=Yu,s===nc||s===ih?(s=jE(),Kt=3):s===Xv?(s=jE(),Kt=4):Kt=s===_0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,sr=s,Tt===null&&(En=1,vh(a,Sr(s,a.current)))}function SA(){var a=ar.current;return a===null?!0:(Nt&4194048)===Nt?Tr===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?a===Tr:!1}function EA(){var a=B.H;return B.H=Yu,a===null?Yu:a}function MA(){var a=B.A;return B.A=X4,a}function Rh(){En=4,es||(Nt&4194048)!==Nt&&ar.current!==null||(uc=!0),(ts&134217727)===0&&(Ks&134217727)===0||ln===null||rs(ln,Nt,lr,!1)}function V0(a,s,u){var p=Gt;Gt|=2;var b=EA(),E=MA();(ln!==a||Nt!==s)&&(Th=null,hc(a,s)),s=!1;var N=En;e:do try{if(Kt!==0&&Tt!==null){var k=Tt,q=sr;switch(Kt){case 8:G0(),N=6;break e;case 3:case 2:case 9:case 6:ar.current===null&&(s=!0);var se=Kt;if(Kt=0,sr=null,pc(a,k,q,se),u&&uc){N=0;break e}break;default:se=Kt,Kt=0,sr=null,pc(a,k,q,se)}}K4(),N=En;break}catch(be){wA(a,be)}while(!0);return s&&a.shellSuspendCounter++,qa=zs=null,Gt=p,B.H=b,B.A=E,Tt===null&&(ln=null,Nt=0,Yd()),N}function K4(){for(;Tt!==null;)AA(Tt)}function Z4(a,s){var u=Gt;Gt|=2;var p=EA(),b=MA();ln!==a||Nt!==s?(Th=null,Ah=L()+500,hc(a,s)):uc=De(a,s);e:do try{if(Kt!==0&&Tt!==null){s=Tt;var E=sr;t:switch(Kt){case 1:Kt=0,sr=null,pc(a,s,E,1);break;case 2:case 9:if(kE(E)){Kt=0,sr=null,TA(s);break}s=function(){Kt!==2&&Kt!==9||ln!==a||(Kt=7),xa(a)},E.then(s,s);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:kE(E)?(Kt=0,sr=null,TA(s)):(Kt=0,sr=null,pc(a,s,E,7));break;case 5:var N=null;switch(Tt.tag){case 26:N=Tt.memoizedState;case 5:case 27:var k=Tt;if(N?dT(N):k.stateNode.complete){Kt=0,sr=null;var q=k.sibling;if(q!==null)Tt=q;else{var se=k.return;se!==null?(Tt=se,Nh(se)):Tt=null}break t}}Kt=0,sr=null,pc(a,s,E,5);break;case 6:Kt=0,sr=null,pc(a,s,E,6);break;case 8:G0(),En=6;break e;default:throw Error(i(462))}}Q4();break}catch(be){wA(a,be)}while(!0);return qa=zs=null,B.H=p,B.A=b,Gt=u,Tt!==null?0:(ln=null,Nt=0,Yd(),En)}function Q4(){for(;Tt!==null&&!tt();)AA(Tt)}function AA(a){var s=KM(a.alternate,a,no);a.memoizedProps=a.pendingProps,s===null?Nh(a):Tt=s}function TA(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=VM(u,s,s.pendingProps,s.type,void 0,Nt);break;case 11:s=VM(u,s,s.pendingProps,s.type.render,s.ref,Nt);break;case 5:a0(s);default:QM(u,s),s=Tt=ME(s,no),s=KM(u,s,no)}a.memoizedProps=a.pendingProps,s===null?Nh(a):Tt=s}function pc(a,s,u,p){qa=zs=null,a0(s),ic=null,zu=0;var b=s.return;try{if(F4(a,b,s,u,Nt)){En=1,vh(a,Sr(u,a.current)),Tt=null;return}}catch(E){if(b!==null)throw Tt=b,E;En=1,vh(a,Sr(u,a.current)),Tt=null;return}s.flags&32768?(Pt||p===1?a=!0:uc||(Nt&536870912)!==0?a=!1:(es=a=!0,(p===2||p===9||p===3||p===6)&&(p=ar.current,p!==null&&p.tag===13&&(p.flags|=16384))),CA(s,a)):Nh(s)}function Nh(a){var s=a;do{if((s.flags&32768)!==0){CA(s,es);return}a=s.return;var u=G4(s.alternate,s,no);if(u!==null){Tt=u;return}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=a}while(s!==null);En===0&&(En=5)}function CA(a,s){do{var u=V4(a.alternate,a);if(u!==null){u.flags&=32767,Tt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){Tt=a;return}Tt=a=u}while(a!==null);En=6,Tt=null}function RA(a,s,u,p,b,E,N,k,q){a.cancelPendingCommit=null;do Oh();while(Hn!==0);if((Gt&6)!==0)throw Error(i(327));if(s!==null){if(s===a.current)throw Error(i(177));if(E=s.lanes|s.childLanes,E|=Pv,Wr(a,u,E,N,k,q),a===ln&&(Tt=ln=null,Nt=0),dc=s,is=a,io=u,F0=E,z0=b,xA=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,nB(xe,function(){return LA(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,b=V.p,V.p=2,N=Gt,Gt|=4;try{W4(a,s,u)}finally{Gt=N,V.p=b,B.T=p}}Hn=1,NA(),OA(),PA()}}function NA(){if(Hn===1){Hn=0;var a=is,s=dc,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var p=V.p;V.p=2;var b=Gt;Gt|=4;try{uA(s,a);var E=nx,N=gE(a.containerInfo),k=E.focusedElem,q=E.selectionRange;if(N!==k&&k&&k.ownerDocument&&mE(k.ownerDocument.documentElement,k)){if(q!==null&&Tv(k)){var se=q.start,be=q.end;if(be===void 0&&(be=se),"selectionStart"in k)k.selectionStart=se,k.selectionEnd=Math.min(be,k.value.length);else{var Se=k.ownerDocument||document,ue=Se&&Se.defaultView||window;if(ue.getSelection){var me=ue.getSelection(),Ke=k.textContent.length,ft=Math.min(q.start,Ke),nn=q.end===void 0?ft:Math.min(q.end,Ke);!me.extend&&ft>nn&&(N=nn,nn=ft,ft=N);var te=pE(k,ft),Y=pE(k,nn);if(te&&Y&&(me.rangeCount!==1||me.anchorNode!==te.node||me.anchorOffset!==te.offset||me.focusNode!==Y.node||me.focusOffset!==Y.offset)){var oe=Se.createRange();oe.setStart(te.node,te.offset),me.removeAllRanges(),ft>nn?(me.addRange(oe),me.extend(Y.node,Y.offset)):(oe.setEnd(Y.node,Y.offset),me.addRange(oe))}}}}for(Se=[],me=k;me=me.parentNode;)me.nodeType===1&&Se.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Se.length;k++){var we=Se[k];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Gh=!!tx,nx=tx=null}finally{Gt=b,V.p=p,B.T=u}}a.current=s,Hn=2}}function OA(){if(Hn===2){Hn=0;var a=is,s=dc,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var p=V.p;V.p=2;var b=Gt;Gt|=4;try{aA(a,s.alternate,s)}finally{Gt=b,V.p=p,B.T=u}}Hn=3}}function PA(){if(Hn===4||Hn===3){Hn=0,G();var a=is,s=dc,u=io,p=xA;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Hn=5:(Hn=0,dc=is=null,DA(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(ns=null),Bl(u),s=s.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Ne,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=B.T,b=V.p,V.p=2,B.T=null;try{for(var E=a.onRecoverableError,N=0;N<p.length;N++){var k=p[N];E(k.value,{componentStack:k.stack})}}finally{B.T=s,V.p=b}}(io&3)!==0&&Oh(),xa(a),b=a.pendingLanes,(u&261930)!==0&&(b&42)!==0?a===H0?af++:(af=0,H0=a):af=0,of(0)}}function DA(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Bu(s)))}function Oh(){return NA(),OA(),PA(),LA()}function LA(){if(Hn!==5)return!1;var a=is,s=F0;F0=0;var u=Bl(io),p=B.T,b=V.p;try{V.p=32>u?32:u,B.T=null,u=z0,z0=null;var E=is,N=io;if(Hn=0,dc=is=null,io=0,(Gt&6)!==0)throw Error(i(331));var k=Gt;if(Gt|=4,mA(E.current),dA(E,E.current,N,u),Gt=k,of(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Ne,E)}catch{}return!0}finally{V.p=b,B.T=p,DA(a,s)}}function UA(a,s,u){s=Sr(u,s),s=b0(a.stateNode,s,2),a=Ko(a,s,2),a!==null&&(_i(a,2),xa(a))}function Zt(a,s,u){if(a.tag===3)UA(a,a,u);else for(;s!==null;){if(s.tag===3){UA(s,a,u);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ns===null||!ns.has(p))){a=Sr(u,a),u=kM(2),p=Ko(s,u,2),p!==null&&(IM(u,p,s,a),_i(p,2),xa(p));break}}s=s.return}}function W0(a,s,u){var p=a.pingCache;if(p===null){p=a.pingCache=new $4;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(u)||(I0=!0,b.add(u),a=J4.bind(null,a,s,u),s.then(a,a))}function J4(a,s,u){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,ln===a&&(Nt&u)===u&&(En===4||En===3&&(Nt&62914560)===Nt&&300>L()-Mh?(Gt&2)===0&&hc(a,0):j0|=u,fc===Nt&&(fc=0)),xa(a)}function kA(a,s){s===0&&(s=$t()),a=js(a,s),a!==null&&(_i(a,s),xa(a))}function eB(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),kA(a,u)}function tB(a,s){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,b=a.memoizedState;b!==null&&(u=b.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(s),kA(a,u)}function nB(a,s){return Lt(a,s)}var Ph=null,mc=null,q0=!1,Dh=!1,X0=!1,as=0;function xa(a){a!==mc&&a.next===null&&(mc===null?Ph=mc=a:mc=mc.next=a),Dh=!0,q0||(q0=!0,rB())}function of(a,s){if(!X0&&Dh){X0=!0;do for(var u=!1,p=Ph;p!==null;){if(a!==0){var b=p.pendingLanes;if(b===0)var E=0;else{var N=p.suspendedLanes,k=p.pingedLanes;E=(1<<31-He(42|a)+1)-1,E&=b&~(N&~k),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(u=!0,FA(p,E))}else E=Nt,E=Me(p,p===ln?E:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(E&3)===0||De(p,E)||(u=!0,FA(p,E));p=p.next}while(u);X0=!1}}function iB(){IA()}function IA(){Dh=q0=!1;var a=0;as!==0&&pB()&&(a=as);for(var s=L(),u=null,p=Ph;p!==null;){var b=p.next,E=jA(p,s);E===0?(p.next=null,u===null?Ph=b:u.next=b,b===null&&(mc=u)):(u=p,(a!==0||(E&3)!==0)&&(Dh=!0)),p=b}Hn!==0&&Hn!==5||of(a),as!==0&&(as=0)}function jA(a,s){for(var u=a.suspendedLanes,p=a.pingedLanes,b=a.expirationTimes,E=a.pendingLanes&-62914561;0<E;){var N=31-He(E),k=1<<N,q=b[N];q===-1?((k&u)===0||(k&p)!==0)&&(b[N]=mt(k,s)):q<=s&&(a.expiredLanes|=k),E&=~k}if(s=ln,u=Nt,u=Me(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===s&&(Kt===2||Kt===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Wt(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||De(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(p!==null&&Wt(p),Bl(u)){case 2:case 8:u=Ae;break;case 32:u=xe;break;case 268435456:u=Ue;break;default:u=xe}return p=BA.bind(null,a),u=Lt(u,p),a.callbackPriority=s,a.callbackNode=u,s}return p!==null&&p!==null&&Wt(p),a.callbackPriority=2,a.callbackNode=null,2}function BA(a,s){if(Hn!==0&&Hn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Oh()&&a.callbackNode!==u)return null;var p=Nt;return p=Me(a,a===ln?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(bA(a,p,s),jA(a,L()),a.callbackNode!=null&&a.callbackNode===u?BA.bind(null,a):null)}function FA(a,s){if(Oh())return null;bA(a,s,!0)}function rB(){gB(function(){(Gt&6)!==0?Lt(_e,iB):IA()})}function $0(){if(as===0){var a=ec;a===0&&(a=Be,Be<<=1,(Be&261888)===0&&(Be=256)),as=a}return as}function zA(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:zd(""+a)}function HA(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function aB(a,s,u,p,b){if(s==="submit"&&u&&u.stateNode===b){var E=zA((b[oi]||null).action),N=p.submitter;N&&(s=(s=N[oi]||null)?zA(s.formAction):N.getAttribute("formAction"),s!==null&&(E=s,N=null));var k=new Wd("action","action",null,p,b);a.push({event:k,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(as!==0){var q=N?HA(b,N):new FormData(b);p0(u,{pending:!0,data:q,method:b.method,action:E},null,q)}}else typeof E=="function"&&(k.preventDefault(),q=N?HA(b,N):new FormData(b),p0(u,{pending:!0,data:q,method:b.method,action:E},E,q))},currentTarget:b}]})}}for(var Y0=0;Y0<Ov.length;Y0++){var K0=Ov[Y0],oB=K0.toLowerCase(),sB=K0[0].toUpperCase()+K0.slice(1);$r(oB,"on"+sB)}$r(yE,"onAnimationEnd"),$r(bE,"onAnimationIteration"),$r(_E,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(S4,"onTransitionRun"),$r(E4,"onTransitionStart"),$r(M4,"onTransitionCancel"),$r(wE,"onTransitionEnd"),ie("onMouseEnter",["mouseout","mouseover"]),ie("onMouseLeave",["mouseout","mouseover"]),ie("onPointerEnter",["pointerout","pointerover"]),ie("onPointerLeave",["pointerout","pointerover"]),ce("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ce("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ce("onBeforeInput",["compositionend","keypress","textInput","paste"]),ce("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ce("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ce("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sf));function GA(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],b=p.event;p=p.listeners;e:{var E=void 0;if(s)for(var N=p.length-1;0<=N;N--){var k=p[N],q=k.instance,se=k.currentTarget;if(k=k.listener,q!==E&&b.isPropagationStopped())break e;E=k,b.currentTarget=se;try{E(b)}catch(be){$d(be)}b.currentTarget=null,E=q}else for(N=0;N<p.length;N++){if(k=p[N],q=k.instance,se=k.currentTarget,k=k.listener,q!==E&&b.isPropagationStopped())break e;E=k,b.currentTarget=se;try{E(b)}catch(be){$d(be)}b.currentTarget=null,E=q}}}}function Ct(a,s){var u=s[Fl];u===void 0&&(u=s[Fl]=new Set);var p=a+"__bubble";u.has(p)||(VA(s,a,2,!1),u.add(p))}function Z0(a,s,u){var p=0;s&&(p|=4),VA(u,a,p,s)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function Q0(a){if(!a[Lh]){a[Lh]=!0,ee.forEach(function(u){u!=="selectionchange"&&(lB.has(u)||Z0(u,!1,a),Z0(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Lh]||(s[Lh]=!0,Z0("selectionchange",!1,s))}}function VA(a,s,u,p){switch(yT(s)){case 2:var b=kB;break;case 8:b=IB;break;default:b=hx}u=b.bind(null,s,u,a),b=void 0,!xv||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?a.addEventListener(s,u,{capture:!0,passive:b}):a.addEventListener(s,u,!0):b!==void 0?a.addEventListener(s,u,{passive:b}):a.addEventListener(s,u,!1)}function J0(a,s,u,p,b){var E=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var k=p.stateNode.containerInfo;if(k===b)break;if(N===4)for(N=p.return;N!==null;){var q=N.tag;if((q===3||q===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;k!==null;){if(N=Fo(k),N===null)return;if(q=N.tag,q===5||q===6||q===26||q===27){p=E=N;continue e}k=k.parentNode}}p=p.return}Y1(function(){var se=E,be=gv(u),Se=[];e:{var ue=SE.get(a);if(ue!==void 0){var me=Wd,Ke=a;switch(a){case"keypress":if(Gd(u)===0)break e;case"keydown":case"keyup":me=t4;break;case"focusin":Ke="focus",me=wv;break;case"focusout":Ke="blur",me=wv;break;case"beforeblur":case"afterblur":me=wv;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Q1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Gj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=r4;break;case yE:case bE:case _E:me=qj;break;case wE:me=o4;break;case"scroll":case"scrollend":me=zj;break;case"wheel":me=l4;break;case"copy":case"cut":case"paste":me=$j;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=eE;break;case"toggle":case"beforetoggle":me=u4}var ft=(s&4)!==0,nn=!ft&&(a==="scroll"||a==="scrollend"),te=ft?ue!==null?ue+"Capture":null:ue;ft=[];for(var Y=se,oe;Y!==null;){var we=Y;if(oe=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||oe===null||te===null||(we=Cu(Y,te),we!=null&&ft.push(lf(Y,we,oe))),nn)break;Y=Y.return}0<ft.length&&(ue=new me(ue,Ke,null,u,be),Se.push({event:ue,listeners:ft}))}}if((s&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",ue&&u!==mv&&(Ke=u.relatedTarget||u.fromElement)&&(Fo(Ke)||Ke[qr]))break e;if((me||ue)&&(ue=be.window===be?be:(ue=be.ownerDocument)?ue.defaultView||ue.parentWindow:window,me?(Ke=u.relatedTarget||u.toElement,me=se,Ke=Ke?Fo(Ke):null,Ke!==null&&(nn=o(Ke),ft=Ke.tag,Ke!==nn||ft!==5&&ft!==27&&ft!==6)&&(Ke=null)):(me=null,Ke=se),me!==Ke)){if(ft=Q1,we="onMouseLeave",te="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(ft=eE,we="onPointerLeave",te="onPointerEnter",Y="pointer"),nn=me==null?ue:Ls(me),oe=Ke==null?ue:Ls(Ke),ue=new ft(we,Y+"leave",me,u,be),ue.target=nn,ue.relatedTarget=oe,we=null,Fo(be)===se&&(ft=new ft(te,Y+"enter",Ke,u,be),ft.target=oe,ft.relatedTarget=nn,we=ft),nn=we,me&&Ke)t:{for(ft=cB,te=me,Y=Ke,oe=0,we=te;we;we=ft(we))oe++;we=0;for(var st=Y;st;st=ft(st))we++;for(;0<oe-we;)te=ft(te),oe--;for(;0<we-oe;)Y=ft(Y),we--;for(;oe--;){if(te===Y||Y!==null&&te===Y.alternate){ft=te;break t}te=ft(te),Y=ft(Y)}ft=null}else ft=null;me!==null&&WA(Se,ue,me,ft,!1),Ke!==null&&nn!==null&&WA(Se,nn,Ke,ft,!0)}}e:{if(ue=se?Ls(se):window,me=ue.nodeName&&ue.nodeName.toLowerCase(),me==="select"||me==="input"&&ue.type==="file")var It=lE;else if(oE(ue))if(cE)It=b4;else{It=x4;var nt=v4}else me=ue.nodeName,!me||me.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?se&&Xr(se.elementType)&&(It=lE):It=y4;if(It&&(It=It(a,se))){sE(Se,It,u,be);break e}nt&&nt(a,ue,se),a==="focusout"&&se&&ue.type==="number"&&se.memoizedProps.value!=null&&li(ue,"number",ue.value)}switch(nt=se?Ls(se):window,a){case"focusin":(oE(nt)||nt.contentEditable==="true")&&(ql=nt,Cv=se,ku=null);break;case"focusout":ku=Cv=ql=null;break;case"mousedown":Rv=!0;break;case"contextmenu":case"mouseup":case"dragend":Rv=!1,vE(Se,u,be);break;case"selectionchange":if(w4)break;case"keydown":case"keyup":vE(Se,u,be)}var St;if(Ev)e:{switch(a){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else Wl?rE(a,u)&&(Ot="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ot="onCompositionStart");Ot&&(tE&&u.locale!=="ko"&&(Wl||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Wl&&(St=K1()):(Go=be,yv="value"in Go?Go.value:Go.textContent,Wl=!0)),nt=Uh(se,Ot),0<nt.length&&(Ot=new J1(Ot,a,null,u,be),Se.push({event:Ot,listeners:nt}),St?Ot.data=St:(St=aE(u),St!==null&&(Ot.data=St)))),(St=d4?h4(a,u):p4(a,u))&&(Ot=Uh(se,"onBeforeInput"),0<Ot.length&&(nt=new J1("onBeforeInput","beforeinput",null,u,be),Se.push({event:nt,listeners:Ot}),nt.data=St)),aB(Se,a,se,u,be)}GA(Se,s)})}function lf(a,s,u){return{instance:a,listener:s,currentTarget:u}}function Uh(a,s){for(var u=s+"Capture",p=[];a!==null;){var b=a,E=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||E===null||(b=Cu(a,u),b!=null&&p.unshift(lf(a,b,E)),b=Cu(a,s),b!=null&&p.push(lf(a,b,E))),a.tag===3)return p;a=a.return}return[]}function cB(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function WA(a,s,u,p,b){for(var E=s._reactName,N=[];u!==null&&u!==p;){var k=u,q=k.alternate,se=k.stateNode;if(k=k.tag,q!==null&&q===p)break;k!==5&&k!==26&&k!==27||se===null||(q=se,b?(se=Cu(u,E),se!=null&&N.unshift(lf(u,se,q))):b||(se=Cu(u,E),se!=null&&N.push(lf(u,se,q)))),u=u.return}N.length!==0&&a.push({event:s,listeners:N})}var uB=/\r\n?/g,fB=/\u0000|\uFFFD/g;function qA(a){return(typeof a=="string"?a:""+a).replace(uB,`
`).replace(fB,"")}function XA(a,s){return s=qA(s),qA(a)===s}function tn(a,s,u,p,b,E){switch(u){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||zn(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&zn(a,""+p);break;case"className":lt(a,"class",p);break;case"tabIndex":lt(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(a,u,p);break;case"style":Hl(a,p,E);break;case"data":if(s!=="object"){lt(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=zd(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(u==="formAction"?(s!=="input"&&tn(a,s,"name",b.name,b,null),tn(a,s,"formEncType",b.formEncType,b,null),tn(a,s,"formMethod",b.formMethod,b,null),tn(a,s,"formTarget",b.formTarget,b,null)):(tn(a,s,"encType",b.encType,b,null),tn(a,s,"method",b.method,b,null),tn(a,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=zd(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=Ha);break;case"onScroll":p!=null&&Ct("scroll",a);break;case"onScrollEnd":p!=null&&Ct("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=zd(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":Ct("beforetoggle",a),Ct("toggle",a),Je(a,"popover",p);break;case"xlinkActuate":et(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":et(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":et(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":et(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":et(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":et(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":et(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":et(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":et(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Je(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Bj.get(u)||u,Je(a,u,p))}}function ex(a,s,u,p,b,E){switch(u){case"style":Hl(a,p,E);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof p=="string"?zn(a,p):(typeof p=="number"||typeof p=="bigint")&&zn(a,""+p);break;case"onScroll":p!=null&&Ct("scroll",a);break;case"onScrollEnd":p!=null&&Ct("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Ha);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!he.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),s=u.slice(2,b?u.length-7:void 0),E=a[oi]||null,E=E!=null?E[u]:null,typeof E=="function"&&a.removeEventListener(s,E,b),typeof p=="function")){typeof E!="function"&&E!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,p,b);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):Je(a,u,p)}}}function mi(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",a),Ct("load",a);var p=!1,b=!1,E;for(E in u)if(u.hasOwnProperty(E)){var N=u[E];if(N!=null)switch(E){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:tn(a,s,E,N,u,null)}}b&&tn(a,s,"srcSet",u.srcSet,u,null),p&&tn(a,s,"src",u.src,u,null);return;case"input":Ct("invalid",a);var k=E=N=b=null,q=null,se=null;for(p in u)if(u.hasOwnProperty(p)){var be=u[p];if(be!=null)switch(p){case"name":b=be;break;case"type":N=be;break;case"checked":q=be;break;case"defaultChecked":se=be;break;case"value":E=be;break;case"defaultValue":k=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,s));break;default:tn(a,s,p,be,u,null)}}za(a,E,k,q,se,N,b,!1);return;case"select":Ct("invalid",a),p=N=E=null;for(b in u)if(u.hasOwnProperty(b)&&(k=u[b],k!=null))switch(b){case"value":E=k;break;case"defaultValue":N=k;break;case"multiple":p=k;default:tn(a,s,b,k,u,null)}s=E,u=N,a.multiple=!!p,s!=null?_r(a,!!p,s,!1):u!=null&&_r(a,!!p,u,!0);return;case"textarea":Ct("invalid",a),E=b=p=null;for(N in u)if(u.hasOwnProperty(N)&&(k=u[N],k!=null))switch(N){case"value":p=k;break;case"defaultValue":b=k;break;case"children":E=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:tn(a,s,N,k,u,null)}ci(a,p,b,E);return;case"option":for(q in u)if(u.hasOwnProperty(q)&&(p=u[q],p!=null))switch(q){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:tn(a,s,q,p,u,null)}return;case"dialog":Ct("beforetoggle",a),Ct("toggle",a),Ct("cancel",a),Ct("close",a);break;case"iframe":case"object":Ct("load",a);break;case"video":case"audio":for(p=0;p<sf.length;p++)Ct(sf[p],a);break;case"image":Ct("error",a),Ct("load",a);break;case"details":Ct("toggle",a);break;case"embed":case"source":case"link":Ct("error",a),Ct("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in u)if(u.hasOwnProperty(se)&&(p=u[se],p!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:tn(a,s,se,p,u,null)}return;default:if(Xr(s)){for(be in u)u.hasOwnProperty(be)&&(p=u[be],p!==void 0&&ex(a,s,be,p,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(p=u[k],p!=null&&tn(a,s,k,p,u,null))}function dB(a,s,u,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,E=null,N=null,k=null,q=null,se=null,be=null;for(me in u){var Se=u[me];if(u.hasOwnProperty(me)&&Se!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":q=Se;default:p.hasOwnProperty(me)||tn(a,s,me,null,p,Se)}}for(var ue in p){var me=p[ue];if(Se=u[ue],p.hasOwnProperty(ue)&&(me!=null||Se!=null))switch(ue){case"type":E=me;break;case"name":b=me;break;case"checked":se=me;break;case"defaultChecked":be=me;break;case"value":N=me;break;case"defaultValue":k=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,s));break;default:me!==Se&&tn(a,s,ue,me,p,Se)}}si(a,N,k,q,se,be,E,b);return;case"select":me=N=k=ue=null;for(E in u)if(q=u[E],u.hasOwnProperty(E)&&q!=null)switch(E){case"value":break;case"multiple":me=q;default:p.hasOwnProperty(E)||tn(a,s,E,null,p,q)}for(b in p)if(E=p[b],q=u[b],p.hasOwnProperty(b)&&(E!=null||q!=null))switch(b){case"value":ue=E;break;case"defaultValue":k=E;break;case"multiple":N=E;default:E!==q&&tn(a,s,b,E,p,q)}s=k,u=N,p=me,ue!=null?_r(a,!!u,ue,!1):!!p!=!!u&&(s!=null?_r(a,!!u,s,!0):_r(a,!!u,u?[]:"",!1));return;case"textarea":me=ue=null;for(k in u)if(b=u[k],u.hasOwnProperty(k)&&b!=null&&!p.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:tn(a,s,k,null,p,b)}for(N in p)if(b=p[N],E=u[N],p.hasOwnProperty(N)&&(b!=null||E!=null))switch(N){case"value":ue=b;break;case"defaultValue":me=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==E&&tn(a,s,N,b,p,E)}Yt(a,ue,me);return;case"option":for(var Ke in u)if(ue=u[Ke],u.hasOwnProperty(Ke)&&ue!=null&&!p.hasOwnProperty(Ke))switch(Ke){case"selected":a.selected=!1;break;default:tn(a,s,Ke,null,p,ue)}for(q in p)if(ue=p[q],me=u[q],p.hasOwnProperty(q)&&ue!==me&&(ue!=null||me!=null))switch(q){case"selected":a.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:tn(a,s,q,ue,p,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in u)ue=u[ft],u.hasOwnProperty(ft)&&ue!=null&&!p.hasOwnProperty(ft)&&tn(a,s,ft,null,p,ue);for(se in p)if(ue=p[se],me=u[se],p.hasOwnProperty(se)&&ue!==me&&(ue!=null||me!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,s));break;default:tn(a,s,se,ue,p,me)}return;default:if(Xr(s)){for(var nn in u)ue=u[nn],u.hasOwnProperty(nn)&&ue!==void 0&&!p.hasOwnProperty(nn)&&ex(a,s,nn,void 0,p,ue);for(be in p)ue=p[be],me=u[be],!p.hasOwnProperty(be)||ue===me||ue===void 0&&me===void 0||ex(a,s,be,ue,p,me);return}}for(var te in u)ue=u[te],u.hasOwnProperty(te)&&ue!=null&&!p.hasOwnProperty(te)&&tn(a,s,te,null,p,ue);for(Se in p)ue=p[Se],me=u[Se],!p.hasOwnProperty(Se)||ue===me||ue==null&&me==null||tn(a,s,Se,ue,p,me)}function $A(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hB(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var b=u[p],E=b.transferSize,N=b.initiatorType,k=b.duration;if(E&&k&&$A(N)){for(N=0,k=b.responseEnd,p+=1;p<u.length;p++){var q=u[p],se=q.startTime;if(se>k)break;var be=q.transferSize,Se=q.initiatorType;be&&$A(Se)&&(q=q.responseEnd,N+=be*(q<k?1:(k-se)/(q-se)))}if(--p,s+=8*(E+N)/(b.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var tx=null,nx=null;function kh(a){return a.nodeType===9?a:a.ownerDocument}function YA(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KA(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function ix(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rx=null;function pB(){var a=window.event;return a&&a.type==="popstate"?a===rx?!1:(rx=a,!0):(rx=null,!1)}var ZA=typeof setTimeout=="function"?setTimeout:void 0,mB=typeof clearTimeout=="function"?clearTimeout:void 0,QA=typeof Promise=="function"?Promise:void 0,gB=typeof queueMicrotask=="function"?queueMicrotask:typeof QA<"u"?function(a){return QA.resolve(null).then(a).catch(vB)}:ZA;function vB(a){setTimeout(function(){throw a})}function os(a){return a==="head"}function JA(a,s){var u=s,p=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(b),yc(s);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")cf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,cf(u);for(var E=u.firstChild;E;){var N=E.nextSibling,k=E.nodeName;E[Ds]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=N}}else u==="body"&&cf(a.ownerDocument.body);u=b}while(u);yc(s)}function eT(a,s){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function ax(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ax(u),Tu(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function xB(a,s,u,p){for(;a.nodeType===1;){var b=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Ds])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(E=a.getAttribute("rel"),E==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(E!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(E=a.getAttribute("src"),(E!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&E&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var E=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===E)return a}else return a;if(a=Cr(a.nextSibling),a===null)break}return null}function yB(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Cr(a.nextSibling),a===null))return null;return a}function tT(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Cr(a.nextSibling),a===null))return null;return a}function ox(a){return a.data==="$?"||a.data==="$~"}function sx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function bB(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var p=function(){s(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Cr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var lx=null;function nT(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return Cr(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function iT(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function rT(a,s,u){switch(s=kh(u),a){case"html":if(a=s.documentElement,!a)throw Error(i(452));return a;case"head":if(a=s.head,!a)throw Error(i(453));return a;case"body":if(a=s.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function cf(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Tu(a)}var Rr=new Map,aT=new Set;function Ih(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ro=V.d;V.d={f:_B,r:wB,D:SB,C:EB,L:MB,m:AB,X:CB,S:TB,M:RB};function _B(){var a=ro.f(),s=Ch();return a||s}function wB(a){var s=zo(a);s!==null&&s.tag===5&&s.type==="form"?wM(s):ro.r(a)}var gc=typeof document>"u"?null:document;function oT(a,s,u){var p=gc;if(p&&typeof s=="string"&&s){var b=vt(s);b='link[rel="'+a+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),aT.has(b)||(aT.add(b),a={rel:a,crossOrigin:u,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),mi(s,"link",a),I(s),p.head.appendChild(s)))}}function SB(a){ro.D(a),oT("dns-prefetch",a,null)}function EB(a,s){ro.C(a,s),oT("preconnect",a,s)}function MB(a,s,u){ro.L(a,s,u);var p=gc;if(p&&a&&s){var b='link[rel="preload"][as="'+vt(s)+'"]';s==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+vt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+vt(u.imageSizes)+'"]')):b+='[href="'+vt(a)+'"]';var E=b;switch(s){case"style":E=vc(a);break;case"script":E=xc(a)}Rr.has(E)||(a=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),Rr.set(E,a),p.querySelector(b)!==null||s==="style"&&p.querySelector(uf(E))||s==="script"&&p.querySelector(ff(E))||(s=p.createElement("link"),mi(s,"link",a),I(s),p.head.appendChild(s)))}}function AB(a,s){ro.m(a,s);var u=gc;if(u&&a){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+vt(p)+'"][href="'+vt(a)+'"]',E=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=xc(a)}if(!Rr.has(E)&&(a=m({rel:"modulepreload",href:a},s),Rr.set(E,a),u.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ff(E)))return}p=u.createElement("link"),mi(p,"link",a),I(p),u.head.appendChild(p)}}}function TB(a,s,u){ro.S(a,s,u);var p=gc;if(p&&a){var b=Ho(p).hoistableStyles,E=vc(a);s=s||"default";var N=b.get(E);if(!N){var k={loading:0,preload:null};if(N=p.querySelector(uf(E)))k.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},u),(u=Rr.get(E))&&cx(a,u);var q=N=p.createElement("link");I(q),mi(q,"link",a),q._p=new Promise(function(se,be){q.onload=se,q.onerror=be}),q.addEventListener("load",function(){k.loading|=1}),q.addEventListener("error",function(){k.loading|=2}),k.loading|=4,jh(N,s,p)}N={type:"stylesheet",instance:N,count:1,state:k},b.set(E,N)}}}function CB(a,s){ro.X(a,s);var u=gc;if(u&&a){var p=Ho(u).hoistableScripts,b=xc(a),E=p.get(b);E||(E=u.querySelector(ff(b)),E||(a=m({src:a,async:!0},s),(s=Rr.get(b))&&ux(a,s),E=u.createElement("script"),I(E),mi(E,"link",a),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(b,E))}}function RB(a,s){ro.M(a,s);var u=gc;if(u&&a){var p=Ho(u).hoistableScripts,b=xc(a),E=p.get(b);E||(E=u.querySelector(ff(b)),E||(a=m({src:a,async:!0,type:"module"},s),(s=Rr.get(b))&&ux(a,s),E=u.createElement("script"),I(E),mi(E,"link",a),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(b,E))}}function sT(a,s,u,p){var b=(b=le.current)?Ih(b):null;if(!b)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=vc(u.href),u=Ho(b).hoistableStyles,p=u.get(s),p||(p={type:"style",instance:null,count:0,state:null},u.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=vc(u.href);var E=Ho(b).hoistableStyles,N=E.get(a);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(a,N),(E=b.querySelector(uf(a)))&&!E._p&&(N.instance=E,N.state.loading=5),Rr.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Rr.set(a,u),E||NB(b,a,u,N.state))),s&&p===null)throw Error(i(528,""));return N}if(s&&p!==null)throw Error(i(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xc(u),u=Ho(b).hoistableScripts,p=u.get(s),p||(p={type:"script",instance:null,count:0,state:null},u.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function vc(a){return'href="'+vt(a)+'"'}function uf(a){return'link[rel="stylesheet"]['+a+"]"}function lT(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function NB(a,s,u,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),mi(s,"link",u),I(s),a.head.appendChild(s))}function xc(a){return'[src="'+vt(a)+'"]'}function ff(a){return"script[async]"+a}function cT(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+vt(u.href)+'"]');if(p)return s.instance=p,I(p),p;var b=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),I(p),mi(p,"style",b),jh(p,u.precedence,a),s.instance=p;case"stylesheet":b=vc(u.href);var E=a.querySelector(uf(b));if(E)return s.state.loading|=4,s.instance=E,I(E),E;p=lT(u),(b=Rr.get(b))&&cx(p,b),E=(a.ownerDocument||a).createElement("link"),I(E);var N=E;return N._p=new Promise(function(k,q){N.onload=k,N.onerror=q}),mi(E,"link",p),s.state.loading|=4,jh(E,u.precedence,a),s.instance=E;case"script":return E=xc(u.src),(b=a.querySelector(ff(E)))?(s.instance=b,I(b),b):(p=u,(b=Rr.get(E))&&(p=m({},u),ux(p,b)),a=a.ownerDocument||a,b=a.createElement("script"),I(b),mi(b,"link",p),a.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,jh(p,u.precedence,a));return s.instance}function jh(a,s,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,E=b,N=0;N<p.length;N++){var k=p[N];if(k.dataset.precedence===s)E=k;else if(E!==b)break}E?E.parentNode.insertBefore(a,E.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function cx(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function ux(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Bh=null;function uT(a,s,u){if(Bh===null){var p=new Map,b=Bh=new Map;b.set(u,p)}else b=Bh,p=b.get(u),p||(p=new Map,b.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),b=0;b<u.length;b++){var E=u[b];if(!(E[Ds]||E[Dn]||a==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var N=E.getAttribute(s)||"";N=a+N;var k=p.get(N);k?k.push(E):p.set(N,[E])}}return p}function fT(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function OB(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function dT(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function PB(a,s,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=vc(p.href),E=s.querySelector(uf(b));if(E){s=E._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Fh.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=E,I(E);return}E=s.ownerDocument||s,p=lT(p),(b=Rr.get(b))&&cx(p,b),E=E.createElement("link"),I(E);var N=E;N._p=new Promise(function(k,q){N.onload=k,N.onerror=q}),mi(E,"link",p),u.instance=E}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Fh.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var fx=0;function DB(a,s){return a.stylesheets&&a.count===0&&Hh(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&Hh(a,a.stylesheets),a.unsuspend){var E=a.unsuspend;a.unsuspend=null,E()}},6e4+s);0<a.imgBytes&&fx===0&&(fx=62500*hB());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Hh(a,a.stylesheets),a.unsuspend)){var E=a.unsuspend;a.unsuspend=null,E()}},(a.imgBytes>fx?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function Fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var zh=null;function Hh(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,zh=new Map,s.forEach(LB,a),zh=null,Fh.call(a))}function LB(a,s){if(!(s.state.loading&4)){var u=zh.get(a);if(u)var p=u.get(null);else{u=new Map,zh.set(a,u);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<b.length;E++){var N=b[E];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),p=N)}p&&u.set(null,p)}b=s.instance,N=b.getAttribute("data-precedence"),E=u.get(N)||p,E===p&&u.set(null,b),u.set(N,b),this.count++,p=Fh.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),E?E.parentNode.insertBefore(b,E.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),s.state.loading|=4}}var df={$$typeof:T,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function UB(a,s,u,p,b,E,N,k,q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=E,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function hT(a,s,u,p,b,E,N,k,q,se,be,Se){return a=new UB(a,s,u,N,q,se,be,Se,k),s=1,E===!0&&(s|=24),E=rr(3,null,null,s),a.current=E,E.stateNode=a,s=Vv(),s.refCount++,a.pooledCache=s,s.refCount++,E.memoizedState={element:p,isDehydrated:u,cache:s},$v(E),a}function pT(a){return a?(a=Yl,a):Yl}function mT(a,s,u,p,b,E){b=pT(b),p.context===null?p.context=b:p.pendingContext=b,p=Yo(s),p.payload={element:u},E=E===void 0?null:E,E!==null&&(p.callback=E),u=Ko(a,p,s),u!==null&&(Xi(u,a,s),Gu(u,a,s))}function gT(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function dx(a,s){gT(a,s),(a=a.alternate)&&gT(a,s)}function vT(a){if(a.tag===13||a.tag===31){var s=js(a,67108864);s!==null&&Xi(s,a,67108864),dx(a,67108864)}}function xT(a){if(a.tag===13||a.tag===31){var s=cr();s=Eu(s);var u=js(a,s);u!==null&&Xi(u,a,s),dx(a,s)}}var Gh=!0;function kB(a,s,u,p){var b=B.T;B.T=null;var E=V.p;try{V.p=2,hx(a,s,u,p)}finally{V.p=E,B.T=b}}function IB(a,s,u,p){var b=B.T;B.T=null;var E=V.p;try{V.p=8,hx(a,s,u,p)}finally{V.p=E,B.T=b}}function hx(a,s,u,p){if(Gh){var b=px(p);if(b===null)J0(a,s,p,Vh,u),bT(a,p);else if(BB(b,a,s,u,p))p.stopPropagation();else if(bT(a,p),s&4&&-1<jB.indexOf(a)){for(;b!==null;){var E=zo(b);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var N=Re(E.pendingLanes);if(N!==0){var k=E;for(k.pendingLanes|=2,k.entangledLanes|=2;N;){var q=1<<31-He(N);k.entanglements[1]|=q,N&=~q}xa(E),(Gt&6)===0&&(Ah=L()+500,of(0))}}break;case 31:case 13:k=js(E,2),k!==null&&Xi(k,E,2),Ch(),dx(E,2)}if(E=px(p),E===null&&J0(a,s,p,Vh,u),E===b)break;b=E}b!==null&&p.stopPropagation()}else J0(a,s,p,null,u)}}function px(a){return a=gv(a),mx(a)}var Vh=null;function mx(a){if(Vh=null,a=Fo(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===31){if(a=c(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Vh=a,null}function yT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(J()){case _e:return 2;case Ae:return 8;case xe:case it:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var gx=!1,ss=null,ls=null,cs=null,hf=new Map,pf=new Map,us=[],jB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bT(a,s){switch(a){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":hf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(s.pointerId)}}function mf(a,s,u,p,b,E){return a===null||a.nativeEvent!==E?(a={blockedOn:s,domEventName:u,eventSystemFlags:p,nativeEvent:E,targetContainers:[b]},s!==null&&(s=zo(s),s!==null&&vT(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),a)}function BB(a,s,u,p,b){switch(s){case"focusin":return ss=mf(ss,a,s,u,p,b),!0;case"dragenter":return ls=mf(ls,a,s,u,p,b),!0;case"mouseover":return cs=mf(cs,a,s,u,p,b),!0;case"pointerover":var E=b.pointerId;return hf.set(E,mf(hf.get(E)||null,a,s,u,p,b)),!0;case"gotpointercapture":return E=b.pointerId,pf.set(E,mf(pf.get(E)||null,a,s,u,p,b)),!0}return!1}function _T(a){var s=Fo(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,pa(a.priority,function(){xT(u)});return}}else if(s===31){if(s=c(u),s!==null){a.blockedOn=s,pa(a.priority,function(){xT(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Wh(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=px(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);mv=p,u.target.dispatchEvent(p),mv=null}else return s=zo(u),s!==null&&vT(s),a.blockedOn=u,!1;s.shift()}return!0}function wT(a,s,u){Wh(a)&&u.delete(s)}function FB(){gx=!1,ss!==null&&Wh(ss)&&(ss=null),ls!==null&&Wh(ls)&&(ls=null),cs!==null&&Wh(cs)&&(cs=null),hf.forEach(wT),pf.forEach(wT)}function qh(a,s){a.blockedOn===s&&(a.blockedOn=null,gx||(gx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FB)))}var Xh=null;function ST(a){Xh!==a&&(Xh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xh===a&&(Xh=null);for(var s=0;s<a.length;s+=3){var u=a[s],p=a[s+1],b=a[s+2];if(typeof p!="function"){if(mx(p||u)===null)continue;break}var E=zo(u);E!==null&&(a.splice(s,3),s-=3,p0(E,{pending:!0,data:b,method:u.method,action:p},p,b))}}))}function yc(a){function s(q){return qh(q,a)}ss!==null&&qh(ss,a),ls!==null&&qh(ls,a),cs!==null&&qh(cs,a),hf.forEach(s),pf.forEach(s);for(var u=0;u<us.length;u++){var p=us[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<us.length&&(u=us[0],u.blockedOn===null);)_T(u),u.blockedOn===null&&us.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var b=u[p],E=u[p+1],N=b[oi]||null;if(typeof E=="function")N||ST(u);else if(N){var k=null;if(E&&E.hasAttribute("formAction")){if(b=E,N=E[oi]||null)k=N.formAction;else if(mx(b)!==null)continue}else k=N.action;typeof k=="function"?u[p+1]=k:(u.splice(p,3),p-=3),ST(u)}}}function ET(){function a(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(N){return b=N})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function vx(a){this._internalRoot=a}$h.prototype.render=vx.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(i(409));var u=s.current,p=cr();mT(u,p,a,s,null,null)},$h.prototype.unmount=vx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;mT(a.current,2,null,a,null,null),Ch(),s[qr]=null}};function $h(a){this._internalRoot=a}$h.prototype.unstable_scheduleHydration=function(a){if(a){var s=Mu();a={blockedOn:null,target:a,priority:s};for(var u=0;u<us.length&&s!==0&&s<us[u].priority;u++);us.splice(u,0,a),u===0&&_T(a)}};var MT=e.version;if(MT!=="19.2.4")throw Error(i(527,MT,"19.2.4"));V.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=d(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var zB={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{Ne=Yh.inject(zB),Oe=Yh}catch{}}return vf.createRoot=function(a,s){if(!r(a))throw Error(i(299));var u=!1,p="",b=PM,E=DM,N=LM;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=hT(a,1,!1,null,null,u,p,null,b,E,N,ET),a[qr]=s.current,Q0(a),new vx(s)},vf.hydrateRoot=function(a,s,u){if(!r(a))throw Error(i(299));var p=!1,b="",E=PM,N=DM,k=LM,q=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.formState!==void 0&&(q=u.formState)),s=hT(a,1,!0,s,u??null,p,b,q,E,N,k,ET),s.context=pT(null),u=s.current,p=cr(),p=Eu(p),b=Yo(p),b.callback=null,Ko(u,b,p),u=p,s.current.lanes=u,_i(s,u),xa(s),a[qr]=s.current,Q0(a),new $h(s)},vf.version="19.2.4",vf}var UT;function eF(){if(UT)return _x.exports;UT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_x.exports=JB(),_x.exports}var tF=eF();const nF=Ia(tF);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kT="popstate";function iF(t={}){function e(r,o){let{pathname:l="/",search:c="",hash:f=""}=Pl(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Xb("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let l=r.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=r.location.href,d=f.indexOf("#");c=d===-1?f:f.slice(0,d)}return c+"#"+(typeof o=="string"?o:Vf(o))}function i(r,o){jr(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return aF(e,n,i,t)}function bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rF(){return Math.random().toString(36).substring(2,10)}function IT(t,e){return{usr:t.state,key:t.key,idx:e}}function Xb(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pl(e):e,state:n,key:e&&e.key||i||rF()}}function Vf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function aF(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,c="POP",f=null,d=h();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function h(){return(l.state||{idx:null}).idx}function m(){c="POP";let v=h(),_=v==null?null:v-d;d=v,f&&f({action:c,location:w.location,delta:_})}function g(v,_){c="PUSH";let A=Xb(w.location,v,_);n&&n(A,v),d=h()+1;let T=IT(A,d),C=w.createHref(A);try{l.pushState(T,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(C)}o&&f&&f({action:c,location:w.location,delta:1})}function y(v,_){c="REPLACE";let A=Xb(w.location,v,_);n&&n(A,v),d=h();let T=IT(A,d),C=w.createHref(A);l.replaceState(T,"",C),o&&f&&f({action:c,location:w.location,delta:0})}function S(v){return oF(v)}let w={get action(){return c},get location(){return t(r,l)},listen(v){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(kT,m),f=v,()=>{r.removeEventListener(kT,m),f=null}},createHref(v){return e(r,v)},createURL:S,encodeLocation(v){let _=S(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:y,go(v){return l.go(v)}};return w}function oF(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bn(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Vf(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function rD(t,e,n="/"){return sF(t,e,n,!1)}function sF(t,e,n,i){let r=typeof e=="string"?Pl(e):e,o=wo(r.pathname||"/",n);if(o==null)return null;let l=aD(t);lF(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let d=yF(o);c=vF(l[f],d,i)}return c}function aD(t,e=[],n=[],i="",r=!1){let o=(l,c,f=r,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&f)return;bn(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let m=vo([i,h.relativePath]),g=n.concat(h);l.children&&l.children.length>0&&(bn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),aD(l.children,e,g,m,f)),!(l.path==null&&!l.index)&&e.push({path:m,score:mF(m,l.index),routesMeta:g})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,c);else for(let d of oD(l.path))o(l,c,!0,d)}),e}function oD(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=oD(i.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),r&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function lF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gF(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var cF=/^:[\w-]+$/,uF=3,fF=2,dF=1,hF=10,pF=-2,jT=t=>t==="*";function mF(t,e){let n=t.split("/"),i=n.length;return n.some(jT)&&(i+=pF),e&&(i+=fF),n.filter(r=>!jT(r)).reduce((r,o)=>r+(cF.test(o)?uF:o===""?dF:hF),i)}function gF(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function vF(t,e,n=!1){let{routesMeta:i}=t,r={},o="/",l=[];for(let c=0;c<i.length;++c){let f=i[c],d=c===i.length-1,h=o==="/"?e:e.slice(o.length)||"/",m=rm({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},h),g=f.route;if(!m&&d&&n&&!i[i.length-1].route.index&&(m=rm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:vo([o,m.pathname]),pathnameBase:SF(vo([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=vo([o,m.pathnameBase]))}return l}function rm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=xF(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((d,{paramName:h,isOptional:m},g)=>{if(h==="*"){let S=c[g]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const y=c[g];return m&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:t}}function xF(t,e=!1,n=!0){jr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function yF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var bF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function _F(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Pl(t):t,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=BT(n.substring(1),"/"):o=BT(n,e)):o=e,{pathname:o,search:EF(i),hash:MF(r)}}function BT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Mx(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qw(t){let e=wF(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Xw(t,e,n,i=!1){let r;typeof t=="string"?r=Pl(t):(r={...t},bn(!r.pathname||!r.pathname.includes("?"),Mx("?","pathname","search",r)),bn(!r.pathname||!r.pathname.includes("#"),Mx("#","pathname","hash",r)),bn(!r.search||!r.search.includes("#"),Mx("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,c;if(l==null)c=n;else{let m=e.length-1;if(!i&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}c=m>=0?e[m]:"/"}let f=_F(r,c),d=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||h)&&(f.pathname+="/"),f}var vo=t=>t.join("/").replace(/\/\/+/g,"/"),SF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),EF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,AF=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function TF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function CF(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var sD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lD(t,e){let n=t;if(typeof n!="string"||!bF.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(sD)try{let o=new URL(window.location.href),l=n.startsWith("//")?new URL(o.protocol+n):new URL(n),c=wo(l.pathname,e);l.origin===o.origin&&c!=null?n=c+l.search+l.hash:r=!0}catch{jr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cD=["POST","PUT","PATCH","DELETE"];new Set(cD);var RF=["GET",...cD];new Set(RF);var lu=M.createContext(null);lu.displayName="DataRouter";var dg=M.createContext(null);dg.displayName="DataRouterState";var NF=M.createContext(!1),uD=M.createContext({isTransitioning:!1});uD.displayName="ViewTransition";var OF=M.createContext(new Map);OF.displayName="Fetchers";var PF=M.createContext(null);PF.displayName="Await";var yr=M.createContext(null);yr.displayName="Navigation";var fd=M.createContext(null);fd.displayName="Location";var fa=M.createContext({outlet:null,matches:[],isDataRoute:!1});fa.displayName="Route";var $w=M.createContext(null);$w.displayName="RouteError";var fD="REACT_ROUTER_ERROR",DF="REDIRECT",LF="ROUTE_ERROR_RESPONSE";function UF(t){if(t.startsWith(`${fD}:${DF}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function kF(t){if(t.startsWith(`${fD}:${LF}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new AF(e.status,e.statusText,e.data)}catch{}}function IF(t,{relative:e}={}){bn(cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=M.useContext(yr),{hash:r,pathname:o,search:l}=dd(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:vo([n,o])),i.createHref({pathname:c,search:l,hash:r})}function cu(){return M.useContext(fd)!=null}function Po(){return bn(cu(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(fd).location}var dD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hD(t){M.useContext(yr).static||M.useLayoutEffect(t)}function uu(){let{isDataRoute:t}=M.useContext(fa);return t?ZF():jF()}function jF(){bn(cu(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(lu),{basename:e,navigator:n}=M.useContext(yr),{matches:i}=M.useContext(fa),{pathname:r}=Po(),o=JSON.stringify(qw(i)),l=M.useRef(!1);return hD(()=>{l.current=!0}),M.useCallback((f,d={})=>{if(jr(l.current,dD),!l.current)return;if(typeof f=="number"){n.go(f);return}let h=Xw(f,JSON.parse(o),r,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:vo([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,r,t])}M.createContext(null);function BF(){let{matches:t}=M.useContext(fa),e=t[t.length-1];return e?e.params:{}}function dd(t,{relative:e}={}){let{matches:n}=M.useContext(fa),{pathname:i}=Po(),r=JSON.stringify(qw(n));return M.useMemo(()=>Xw(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function FF(t,e){return pD(t,e)}function pD(t,e,n,i,r){var A;bn(cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(yr),{matches:l}=M.useContext(fa),c=l[l.length-1],f=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",m=c&&c.route;{let T=m&&m.path||"";gD(d,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Po(),y;if(e){let T=typeof e=="string"?Pl(e):e;bn(h==="/"||((A=T.pathname)==null?void 0:A.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=g;let S=y.pathname||"/",w=S;if(h!=="/"){let T=h.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=rD(t,{pathname:w});jr(m||v!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),jr(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=WF(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:vo([h,o.encodeLocation?o.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:vo([h,o.encodeLocation?o.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),l,n,i,r);return e&&_?M.createElement(fd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},_):_}function zF(){let t=KF(),e=TF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:r},n):null,l)}var HF=M.createElement(zF,null),mD=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=kF(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(fa.Provider,{value:this.props.routeContext},M.createElement($w.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(GF,{error:t},e):e}};mD.contextType=NF;var Ax=new WeakMap;function GF({children:t,error:e}){let{basename:n}=M.useContext(yr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=UF(e.digest);if(i){let r=Ax.get(e);if(r)throw r;let o=lD(i.location,n);if(sD&&!Ax.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Ax.set(e,l),l}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function VF({routeContext:t,match:e,children:n}){let i=M.useContext(lu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(fa.Provider,{value:t},n)}function WF(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n==null?void 0:n.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);bn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,f=-1;if(n)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:g,errors:y}=n,S=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=n&&i?(h,m)=>{var g,y;i(h,{location:n.location,params:((y=(g=n.matches)==null?void 0:g[0])==null?void 0:y.params)??{},unstable_pattern:CF(n.matches),errorInfo:m})}:void 0;return o.reduceRight((h,m,g)=>{let y,S=!1,w=null,v=null;n&&(y=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||HF,c&&(f<0&&g===0?(gD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,v=null):f===g&&(S=!0,v=m.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,g+1)),A=()=>{let T;return y?T=w:S?T=v:m.route.Component?T=M.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=h,M.createElement(VF,{match:m,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:T})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?M.createElement(mD,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:A(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:d}):A()},null)}function Yw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qF(t){let e=M.useContext(lu);return bn(e,Yw(t)),e}function XF(t){let e=M.useContext(dg);return bn(e,Yw(t)),e}function $F(t){let e=M.useContext(fa);return bn(e,Yw(t)),e}function Kw(t){let e=$F(t),n=e.matches[e.matches.length-1];return bn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function YF(){return Kw("useRouteId")}function KF(){var i;let t=M.useContext($w),e=XF("useRouteError"),n=Kw("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function ZF(){let{router:t}=qF("useNavigate"),e=Kw("useNavigate"),n=M.useRef(!1);return hD(()=>{n.current=!0}),M.useCallback(async(r,o={})=>{jr(n.current,dD),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...o}))},[t,e])}var FT={};function gD(t,e,n){!e&&!FT[t]&&(FT[t]=!0,jr(!1,n))}M.memo(QF);function QF({routes:t,future:e,state:n,onError:i}){return pD(t,void 0,n,i,e)}function Oi({to:t,replace:e,state:n,relative:i}){bn(cu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=M.useContext(yr);jr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=M.useContext(fa),{pathname:l}=Po(),c=uu(),f=Xw(t,qw(o),l,i==="path"),d=JSON.stringify(f);return M.useEffect(()=>{c(JSON.parse(d),{replace:e,state:n,relative:i})},[c,d,i,e,n]),null}function Zn(t){bn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JF({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:l}){bn(!cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=M.useMemo(()=>({basename:c,navigator:r,static:o,unstable_useTransitions:l,future:{}}),[c,r,o,l]);typeof n=="string"&&(n=Pl(n));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:y="default"}=n,S=M.useMemo(()=>{let w=wo(d,c);return w==null?null:{location:{pathname:w,search:h,hash:m,state:g,key:y},navigationType:i}},[c,d,h,m,g,y,i]);return jr(S!=null,`<Router basename="${c}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:M.createElement(yr.Provider,{value:f},M.createElement(fd.Provider,{children:e,value:S}))}function ez({children:t,location:e}){return FF($b(t),e)}function $b(t,e=[]){let n=[];return M.Children.forEach(t,(i,r)=>{if(!M.isValidElement(i))return;let o=[...e,r];if(i.type===M.Fragment){n.push.apply(n,$b(i.props.children,o));return}bn(i.type===Zn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=$b(i.props.children,o)),n.push(l)}),n}var Fp="get",zp="application/x-www-form-urlencoded";function hg(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function tz(t){return hg(t)&&t.tagName.toLowerCase()==="button"}function nz(t){return hg(t)&&t.tagName.toLowerCase()==="form"}function iz(t){return hg(t)&&t.tagName.toLowerCase()==="input"}function rz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function az(t,e){return t.button===0&&(!e||e==="_self")&&!rz(t)}var Kh=null;function oz(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var sz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tx(t){return t!=null&&!sz.has(t)?(jr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zp}"`),null):t}function lz(t,e){let n,i,r,o,l;if(nz(t)){let c=t.getAttribute("action");i=c?wo(c,e):null,n=t.getAttribute("method")||Fp,r=Tx(t.getAttribute("enctype"))||zp,o=new FormData(t)}else if(tz(t)||iz(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(i=f?wo(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Fp,r=Tx(t.getAttribute("formenctype"))||Tx(c.getAttribute("enctype"))||zp,o=new FormData(c,t),!oz()){let{name:d,type:h,value:m}=t;if(h==="image"){let g=d?`${d}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else d&&o.append(d,m)}}else{if(hg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fp,i=null,r=zp,l=t}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cz(t,e,n,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&wo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function uz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dz(t,e,n){let i=await Promise.all(t.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await uz(o,n);return l.links?l.links():[]}return[]}));return gz(i.flat(1).filter(fz).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function zT(t,e,n,i,r,o){let l=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,c=(f,d)=>{var h;return n[d].pathname!==f.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>l(f,d)||c(f,d)):o==="data"?e.filter((f,d)=>{var m;let h=i.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(l(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function hz(t,e,{includeHydrateFallback:n}={}){return pz(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function pz(t){return[...new Set(t)]}function mz(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function gz(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let o=JSON.stringify(mz(r));return n.has(o)||(n.add(o),i.push({key:o,link:r})),i},[])}function vD(){let t=M.useContext(lu);return Zw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vz(){let t=M.useContext(dg);return Zw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Qw=M.createContext(void 0);Qw.displayName="FrameworkContext";function xD(){let t=M.useContext(Qw);return Zw(t,"You must render this element inside a <HydratedRouter> element"),t}function xz(t,e){let n=M.useContext(Qw),[i,r]=M.useState(!1),[o,l]=M.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=e,g=M.useRef(null);M.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=_=>{_.forEach(A=>{l(A.isIntersecting)})},v=new IntersectionObserver(w,{threshold:.5});return g.current&&v.observe(g.current),()=>{v.disconnect()}}},[t]),M.useEffect(()=>{if(i){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[i]);let y=()=>{r(!0)},S=()=>{r(!1),l(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:xf(c,y),onBlur:xf(f,S),onMouseEnter:xf(d,y),onMouseLeave:xf(h,S),onTouchStart:xf(m,y)}]:[!1,g,{}]}function xf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yz({page:t,...e}){let{router:n}=vD(),i=M.useMemo(()=>rD(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?M.createElement(_z,{page:t,matches:i,...e}):null}function bz(t){let{manifest:e,routeModules:n}=xD(),[i,r]=M.useState([]);return M.useEffect(()=>{let o=!1;return dz(t,e,n).then(l=>{o||r(l)}),()=>{o=!0}},[t,e,n]),i}function _z({page:t,matches:e,...n}){let i=Po(),{future:r,manifest:o,routeModules:l}=xD(),{basename:c}=vD(),{loaderData:f,matches:d}=vz(),h=M.useMemo(()=>zT(t,e,d,o,i,"data"),[t,e,d,o,i]),m=M.useMemo(()=>zT(t,e,d,o,i,"assets"),[t,e,d,o,i]),g=M.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let w=new Set,v=!1;if(e.forEach(A=>{var C;let T=o.routes[A.route.id];!T||!T.hasLoader||(!h.some(P=>P.route.id===A.route.id)&&A.route.id in f&&((C=l[A.route.id])!=null&&C.shouldRevalidate)||T.hasClientLoader?v=!0:w.add(A.route.id))}),w.size===0)return[];let _=cz(t,c,r.unstable_trailingSlashAwareDataRequests,"data");return v&&w.size>0&&_.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[_.pathname+_.search]},[c,r.unstable_trailingSlashAwareDataRequests,f,i,o,h,e,t,l]),y=M.useMemo(()=>hz(m,o),[m,o]),S=bz(m);return M.createElement(M.Fragment,null,g.map(w=>M.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),y.map(w=>M.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),S.map(({key:w,link:v})=>M.createElement("link",{key:w,nonce:n.nonce,...v,crossOrigin:v.crossOrigin??n.crossOrigin})))}function wz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Sz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sz&&(window.__reactRouterVersion="7.13.0")}catch{}function Ez({basename:t,children:e,unstable_useTransitions:n,window:i}){let r=M.useRef();r.current==null&&(r.current=iF({window:i,v5Compat:!0}));let o=r.current,[l,c]=M.useState({action:o.action,location:o.location}),f=M.useCallback(d=>{n===!1?c(d):M.startTransition(()=>c(d))},[n]);return M.useLayoutEffect(()=>o.listen(f),[o,f]),M.createElement(JF,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:n})}var yD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ui=M.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:c,target:f,to:d,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:g,...y},S){let{basename:w,unstable_useTransitions:v}=M.useContext(yr),_=typeof d=="string"&&yD.test(d),A=lD(d,w);d=A.to;let T=IF(d,{relative:r}),[C,P,O]=xz(i,y),D=Cz(d,{replace:l,state:c,target:f,preventScrollReset:h,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:v});function z(U){e&&e(U),U.defaultPrevented||D(U)}let R=M.createElement("a",{...y,...O,href:A.absoluteURL||T,onClick:A.isExternal||o?e:z,ref:wz(S,P),target:f,"data-discover":!_&&n==="render"?"true":void 0});return C&&!_?M.createElement(M.Fragment,null,R,M.createElement(yz,{page:T})):R});Ui.displayName="Link";var Mz=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:c,children:f,...d},h){let m=dd(l,{relative:d.relative}),g=Po(),y=M.useContext(dg),{navigator:S,basename:w}=M.useContext(yr),v=y!=null&&Dz(m)&&c===!0,_=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,A=g.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(A=A.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&w&&(T=wo(T,w)||T);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=A===_||!r&&A.startsWith(_)&&A.charAt(C)==="/",O=T!=null&&(T===_||!r&&T.startsWith(_)&&T.charAt(_.length)==="/"),D={isActive:P,isPending:O,isTransitioning:v},z=P?e:void 0,R;typeof i=="function"?R=i(D):R=[i,P?"active":null,O?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(D):o;return M.createElement(Ui,{...d,"aria-current":z,className:R,ref:h,style:U,to:l,viewTransition:c},typeof f=="function"?f(D):f)});Mz.displayName="NavLink";var Az=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:o,method:l=Fp,action:c,onSubmit:f,relative:d,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:g,...y},S)=>{let{unstable_useTransitions:w}=M.useContext(yr),v=Oz(),_=Pz(c,{relative:d}),A=l.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&yD.test(c),C=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let O=P.nativeEvent.submitter,D=(O==null?void 0:O.getAttribute("formmethod"))||l,z=()=>v(O||P.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:r,state:o,relative:d,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:g});w&&n!==!1?M.startTransition(()=>z()):z()};return M.createElement("form",{ref:S,method:A,action:_,onSubmit:i?f:C,...y,"data-discover":!T&&t==="render"?"true":void 0})});Az.displayName="Form";function Tz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bD(t){let e=M.useContext(lu);return bn(e,Tz(t)),e}function Cz(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let d=uu(),h=Po(),m=dd(t,{relative:o});return M.useCallback(g=>{if(az(g,e)){g.preventDefault();let y=n!==void 0?n:Vf(h)===Vf(m),S=()=>d(t,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:c});f?M.startTransition(()=>S()):S()}},[h,d,m,n,i,e,t,r,o,l,c,f])}var Rz=0,Nz=()=>`__${String(++Rz)}__`;function Oz(){let{router:t}=bD("useSubmit"),{basename:e}=M.useContext(yr),n=YF(),i=t.fetch,r=t.navigate;return M.useCallback(async(o,l={})=>{let{action:c,method:f,encType:d,formData:h,body:m}=lz(o,e);if(l.navigate===!1){let g=l.fetcherKey||Nz();await i(g,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||f,formEncType:l.encType||d,flushSync:l.flushSync})}else await r(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||f,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,r,e,n])}function Pz(t,{relative:e}={}){let{basename:n}=M.useContext(yr),i=M.useContext(fa);bn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...dd(t||".",{relative:e})},l=Po();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(h=>h==="")){c.delete("index"),f.filter(m=>m).forEach(m=>c.append("index",m));let h=c.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:vo([n,o.pathname])),Vf(o)}function Dz(t,{relative:e}={}){let n=M.useContext(uD);bn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bD("useViewTransitionState"),r=dd(t,{relative:e});if(!n.isTransitioning)return!1;let o=wo(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=wo(n.nextLocation.pathname,i)||n.nextLocation.pathname;return rm(r.pathname,l)!=null||rm(r.pathname,o)!=null}var _D=iD();const an={Home:()=>x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Projects:()=>x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),Calendar:()=>x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Social:()=>x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),AI:()=>x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),Settings:()=>x.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Contact:()=>x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Add:({className:t})=>x.jsx("svg",{className:t||"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Trash:({className:t})=>x.jsx("svg",{className:t||"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Delete:({className:t})=>x.jsx("svg",{className:t||"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Camera:({className:t})=>x.jsxs("svg",{className:t||"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),Heart:({className:t,fill:e})=>x.jsx("svg",{className:t||"w-5 h-5",fill:e||"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),Chat:({className:t})=>x.jsx("svg",{className:t||"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),Share:({className:t})=>x.jsx("svg",{className:t||"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),Logistics:()=>x.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})]})};function wD(t,e){return function(){return t.apply(e,arguments)}}const{toString:Lz}=Object.prototype,{getPrototypeOf:Jw}=Object,{iterator:pg,toStringTag:SD}=Symbol,mg=(t=>e=>{const n=Lz.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),da=t=>(t=t.toLowerCase(),e=>mg(e)===t),gg=t=>e=>typeof e===t,{isArray:fu}=Array,$c=gg("undefined");function hd(t){return t!==null&&!$c(t)&&t.constructor!==null&&!$c(t.constructor)&&Ji(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ED=da("ArrayBuffer");function Uz(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ED(t.buffer),e}const kz=gg("string"),Ji=gg("function"),MD=gg("number"),pd=t=>t!==null&&typeof t=="object",Iz=t=>t===!0||t===!1,Hp=t=>{if(mg(t)!=="object")return!1;const e=Jw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(SD in t)&&!(pg in t)},jz=t=>{if(!pd(t)||hd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Bz=da("Date"),Fz=da("File"),zz=da("Blob"),Hz=da("FileList"),Gz=t=>pd(t)&&Ji(t.pipe),Vz=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ji(t.append)&&((e=mg(t))==="formdata"||e==="object"&&Ji(t.toString)&&t.toString()==="[object FormData]"))},Wz=da("URLSearchParams"),[qz,Xz,$z,Yz]=["ReadableStream","Request","Response","Headers"].map(da),Kz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function md(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),fu(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(hd(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let c;for(i=0;i<l;i++)c=o[i],e.call(null,t[c],c,t)}}function AD(t,e){if(hd(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const cl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,TD=t=>!$c(t)&&t!==cl;function Yb(){const{caseless:t,skipUndefined:e}=TD(this)&&this||{},n={},i=(r,o)=>{if(o==="__proto__"||o==="constructor"||o==="prototype")return;const l=t&&AD(n,o)||o;Hp(n[l])&&Hp(r)?n[l]=Yb(n[l],r):Hp(r)?n[l]=Yb({},r):fu(r)?n[l]=r.slice():(!e||!$c(r))&&(n[l]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&md(arguments[r],i);return n}const Zz=(t,e,n,{allOwnKeys:i}={})=>(md(e,(r,o)=>{n&&Ji(r)?Object.defineProperty(t,o,{value:wD(r,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,o,{value:r,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:i}),t),Qz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Jz=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},e5=(t,e,n,i)=>{let r,o,l;const c={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)l=r[o],(!i||i(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&Jw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},t5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},n5=t=>{if(!t)return null;if(fu(t))return t;let e=t.length;if(!MD(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},i5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Jw(Uint8Array)),r5=(t,e)=>{const i=(t&&t[pg]).call(t);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},a5=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},o5=da("HTMLFormElement"),s5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),HT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),l5=da("RegExp"),CD=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};md(n,(r,o)=>{let l;(l=e(r,o,t))!==!1&&(i[o]=l||r)}),Object.defineProperties(t,i)},c5=t=>{CD(t,(e,n)=>{if(Ji(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Ji(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},u5=(t,e)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return fu(t)?i(t):i(String(t).split(e)),n},f5=()=>{},d5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function h5(t){return!!(t&&Ji(t.append)&&t[SD]==="FormData"&&t[pg])}const p5=t=>{const e=new Array(10),n=(i,r)=>{if(pd(i)){if(e.indexOf(i)>=0)return;if(hd(i))return i;if(!("toJSON"in i)){e[r]=i;const o=fu(i)?[]:{};return md(i,(l,c)=>{const f=n(l,r+1);!$c(f)&&(o[c]=f)}),e[r]=void 0,o}}return i};return n(t,0)},m5=da("AsyncFunction"),g5=t=>t&&(pd(t)||Ji(t))&&Ji(t.then)&&Ji(t.catch),RD=((t,e)=>t?setImmediate:e?((n,i)=>(cl.addEventListener("message",({source:r,data:o})=>{r===cl&&o===n&&i.length&&i.shift()()},!1),r=>{i.push(r),cl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ji(cl.postMessage)),v5=typeof queueMicrotask<"u"?queueMicrotask.bind(cl):typeof process<"u"&&process.nextTick||RD,x5=t=>t!=null&&Ji(t[pg]),pe={isArray:fu,isArrayBuffer:ED,isBuffer:hd,isFormData:Vz,isArrayBufferView:Uz,isString:kz,isNumber:MD,isBoolean:Iz,isObject:pd,isPlainObject:Hp,isEmptyObject:jz,isReadableStream:qz,isRequest:Xz,isResponse:$z,isHeaders:Yz,isUndefined:$c,isDate:Bz,isFile:Fz,isBlob:zz,isRegExp:l5,isFunction:Ji,isStream:Gz,isURLSearchParams:Wz,isTypedArray:i5,isFileList:Hz,forEach:md,merge:Yb,extend:Zz,trim:Kz,stripBOM:Qz,inherits:Jz,toFlatObject:e5,kindOf:mg,kindOfTest:da,endsWith:t5,toArray:n5,forEachEntry:r5,matchAll:a5,isHTMLForm:o5,hasOwnProperty:HT,hasOwnProp:HT,reduceDescriptors:CD,freezeMethods:c5,toObjectSet:u5,toCamelCase:s5,noop:f5,toFiniteNumber:d5,findKey:AD,global:cl,isContextDefined:TD,isSpecCompliantForm:h5,toJSONObject:p5,isAsyncFn:m5,isThenable:g5,setImmediate:RD,asap:v5,isIterable:x5};let ht=class ND extends Error{static from(e,n,i,r,o,l){const c=new ND(e.message,n||e.code,i,r,o);return c.cause=e,c.name=e.name,l&&Object.assign(c,l),c}constructor(e,n,i,r,o){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),i&&(this.config=i),r&&(this.request=r),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}};ht.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";ht.ERR_BAD_OPTION="ERR_BAD_OPTION";ht.ECONNABORTED="ECONNABORTED";ht.ETIMEDOUT="ETIMEDOUT";ht.ERR_NETWORK="ERR_NETWORK";ht.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";ht.ERR_DEPRECATED="ERR_DEPRECATED";ht.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";ht.ERR_BAD_REQUEST="ERR_BAD_REQUEST";ht.ERR_CANCELED="ERR_CANCELED";ht.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";ht.ERR_INVALID_URL="ERR_INVALID_URL";const y5=null;function Kb(t){return pe.isPlainObject(t)||pe.isArray(t)}function OD(t){return pe.endsWith(t,"[]")?t.slice(0,-2):t}function GT(t,e,n){return t?t.concat(e).map(function(r,o){return r=OD(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function b5(t){return pe.isArray(t)&&!t.some(Kb)}const _5=pe.toFlatObject(pe,{},null,function(e){return/^is[A-Z]/.test(e)});function vg(t,e,n){if(!pe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,v){return!pe.isUndefined(v[w])});const i=n.metaTokens,r=n.visitor||h,o=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(e);if(!pe.isFunction(r))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if(pe.isDate(S))return S.toISOString();if(pe.isBoolean(S))return S.toString();if(!f&&pe.isBlob(S))throw new ht("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(S)||pe.isTypedArray(S)?f&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function h(S,w,v){let _=S;if(S&&!v&&typeof S=="object"){if(pe.endsWith(w,"{}"))w=i?w:w.slice(0,-2),S=JSON.stringify(S);else if(pe.isArray(S)&&b5(S)||(pe.isFileList(S)||pe.endsWith(w,"[]"))&&(_=pe.toArray(S)))return w=OD(w),_.forEach(function(T,C){!(pe.isUndefined(T)||T===null)&&e.append(l===!0?GT([w],C,o):l===null?w:w+"[]",d(T))}),!1}return Kb(S)?!0:(e.append(GT(v,w,o),d(S)),!1)}const m=[],g=Object.assign(_5,{defaultVisitor:h,convertValue:d,isVisitable:Kb});function y(S,w){if(!pe.isUndefined(S)){if(m.indexOf(S)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(S),pe.forEach(S,function(_,A){(!(pe.isUndefined(_)||_===null)&&r.call(e,_,pe.isString(A)?A.trim():A,w,g))===!0&&y(_,w?w.concat(A):[A])}),m.pop()}}if(!pe.isObject(t))throw new TypeError("data must be an object");return y(t),e}function VT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function eS(t,e){this._pairs=[],t&&vg(t,this,e)}const PD=eS.prototype;PD.append=function(e,n){this._pairs.push([e,n])};PD.toString=function(e){const n=e?function(i){return e.call(this,i,VT)}:VT;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function w5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function DD(t,e,n){if(!e)return t;const i=n&&n.encode||w5,r=pe.isFunction(n)?{serialize:n}:n,o=r&&r.serialize;let l;if(o?l=o(e,r):l=pe.isURLSearchParams(e)?e.toString():new eS(e,r).toString(i),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class WT{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pe.forEach(this.handlers,function(i){i!==null&&e(i)})}}const tS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},S5=typeof URLSearchParams<"u"?URLSearchParams:eS,E5=typeof FormData<"u"?FormData:null,M5=typeof Blob<"u"?Blob:null,A5={isBrowser:!0,classes:{URLSearchParams:S5,FormData:E5,Blob:M5},protocols:["http","https","file","blob","url","data"]},nS=typeof window<"u"&&typeof document<"u",Zb=typeof navigator=="object"&&navigator||void 0,T5=nS&&(!Zb||["ReactNative","NativeScript","NS"].indexOf(Zb.product)<0),C5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",R5=nS&&window.location.href||"http://localhost",N5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nS,hasStandardBrowserEnv:T5,hasStandardBrowserWebWorkerEnv:C5,navigator:Zb,origin:R5},Symbol.toStringTag,{value:"Module"})),Ti={...N5,...A5};function O5(t,e){return vg(t,new Ti.classes.URLSearchParams,{visitor:function(n,i,r,o){return Ti.isNode&&pe.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function P5(t){return pe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function D5(t){const e={},n=Object.keys(t);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],e[o]=t[o];return e}function LD(t){function e(n,i,r,o){let l=n[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),f=o>=n.length;return l=!l&&pe.isArray(r)?r.length:l,f?(pe.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!c):((!r[l]||!pe.isObject(r[l]))&&(r[l]=[]),e(n,i,r[l],o)&&pe.isArray(r[l])&&(r[l]=D5(r[l])),!c)}if(pe.isFormData(t)&&pe.isFunction(t.entries)){const n={};return pe.forEachEntry(t,(i,r)=>{e(P5(i),r,n,0)}),n}return null}function L5(t,e,n){if(pe.isString(t))try{return(e||JSON.parse)(t),pe.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const gd={transitional:tS,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=pe.isObject(e);if(o&&pe.isHTMLForm(e)&&(e=new FormData(e)),pe.isFormData(e))return r?JSON.stringify(LD(e)):e;if(pe.isArrayBuffer(e)||pe.isBuffer(e)||pe.isStream(e)||pe.isFile(e)||pe.isBlob(e)||pe.isReadableStream(e))return e;if(pe.isArrayBufferView(e))return e.buffer;if(pe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return O5(e,this.formSerializer).toString();if((c=pe.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return vg(c?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),L5(e)):e}],transformResponse:[function(e){const n=this.transitional||gd.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(pe.isResponse(e)||pe.isReadableStream(e))return e;if(e&&pe.isString(e)&&(i&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?ht.from(c,ht.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ti.classes.FormData,Blob:Ti.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],t=>{gd.headers[t]={}});const U5=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),k5=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!n||e[n]&&U5[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},qT=Symbol("internals");function yf(t){return t&&String(t).trim().toLowerCase()}function Gp(t){return t===!1||t==null?t:pe.isArray(t)?t.map(Gp):String(t)}function I5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const j5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Cx(t,e,n,i,r){if(pe.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!pe.isString(e)){if(pe.isString(i))return e.indexOf(i)!==-1;if(pe.isRegExp(i))return i.test(e)}}function B5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function F5(t,e){const n=pe.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,o,l){return this[i].call(this,e,r,o,l)},configurable:!0})})}let er=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function o(c,f,d){const h=yf(f);if(!h)throw new Error("header name must be a non-empty string");const m=pe.findKey(r,h);(!m||r[m]===void 0||d===!0||d===void 0&&r[m]!==!1)&&(r[m||f]=Gp(c))}const l=(c,f)=>pe.forEach(c,(d,h)=>o(d,h,f));if(pe.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(pe.isString(e)&&(e=e.trim())&&!j5(e))l(k5(e),n);else if(pe.isObject(e)&&pe.isIterable(e)){let c={},f,d;for(const h of e){if(!pe.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[d=h[0]]=(f=c[d])?pe.isArray(f)?[...f,h[1]]:[f,h[1]]:h[1]}l(c,n)}else e!=null&&o(n,e,i);return this}get(e,n){if(e=yf(e),e){const i=pe.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return I5(r);if(pe.isFunction(n))return n.call(this,r,i);if(pe.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=yf(e),e){const i=pe.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Cx(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function o(l){if(l=yf(l),l){const c=pe.findKey(i,l);c&&(!n||Cx(i,i[c],c,n))&&(delete i[c],r=!0)}}return pe.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const o=n[i];(!e||Cx(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,i={};return pe.forEach(this,(r,o)=>{const l=pe.findKey(i,o);if(l){n[l]=Gp(r),delete n[o];return}const c=e?B5(o):String(o).trim();c!==o&&delete n[o],n[c]=Gp(r),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return pe.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&pe.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[qT]=this[qT]={accessors:{}}).accessors,r=this.prototype;function o(l){const c=yf(l);i[c]||(F5(r,l),i[c]=!0)}return pe.isArray(e)?e.forEach(o):o(e),this}};er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(er.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});pe.freezeMethods(er);function Rx(t,e){const n=this||gd,i=e||n,r=er.from(i.headers);let o=i.data;return pe.forEach(t,function(c){o=c.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function UD(t){return!!(t&&t.__CANCEL__)}let vd=class extends ht{constructor(e,n,i){super(e??"canceled",ht.ERR_CANCELED,n,i),this.name="CanceledError",this.__CANCEL__=!0}};function kD(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ht("Request failed with status code "+n.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function z5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function H5(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,o=0,l;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),h=i[o];l||(l=d),n[r]=f,i[r]=d;let m=o,g=0;for(;m!==r;)g+=n[m++],m=m%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),d-l<e)return;const y=h&&d-h;return y?Math.round(g*1e3/y):void 0}}function G5(t,e){let n=0,i=1e3/e,r,o;const l=(d,h=Date.now())=>{n=h,r=null,o&&(clearTimeout(o),o=null),t(...d)};return[(...d)=>{const h=Date.now(),m=h-n;m>=i?l(d,h):(r=d,o||(o=setTimeout(()=>{o=null,l(r)},i-m)))},()=>r&&l(r)]}const am=(t,e,n=3)=>{let i=0;const r=H5(50,250);return G5(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,f=l-i,d=r(f),h=l<=c;i=l;const m={loaded:l,total:c,progress:c?l/c:void 0,bytes:f,rate:d||void 0,estimated:d&&c&&h?(c-l)/d:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(m)},n)},XT=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},$T=t=>(...e)=>pe.asap(()=>t(...e)),V5=Ti.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ti.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ti.origin),Ti.navigator&&/(msie|trident)/i.test(Ti.navigator.userAgent)):()=>!0,W5=Ti.hasStandardBrowserEnv?{write(t,e,n,i,r,o,l){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];pe.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),pe.isString(i)&&c.push(`path=${i}`),pe.isString(r)&&c.push(`domain=${r}`),o===!0&&c.push("secure"),pe.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function q5(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function X5(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ID(t,e,n){let i=!q5(e);return t&&(i||n==!1)?X5(t,e):e}const YT=t=>t instanceof er?{...t}:t;function _l(t,e){e=e||{};const n={};function i(d,h,m,g){return pe.isPlainObject(d)&&pe.isPlainObject(h)?pe.merge.call({caseless:g},d,h):pe.isPlainObject(h)?pe.merge({},h):pe.isArray(h)?h.slice():h}function r(d,h,m,g){if(pe.isUndefined(h)){if(!pe.isUndefined(d))return i(void 0,d,m,g)}else return i(d,h,m,g)}function o(d,h){if(!pe.isUndefined(h))return i(void 0,h)}function l(d,h){if(pe.isUndefined(h)){if(!pe.isUndefined(d))return i(void 0,d)}else return i(void 0,h)}function c(d,h,m){if(m in e)return i(d,h);if(m in t)return i(void 0,d)}const f={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(d,h,m)=>r(YT(d),YT(h),m,!0)};return pe.forEach(Object.keys({...t,...e}),function(h){if(h==="__proto__"||h==="constructor"||h==="prototype")return;const m=pe.hasOwnProp(f,h)?f[h]:r,g=m(t[h],e[h],h);pe.isUndefined(g)&&m!==c||(n[h]=g)}),n}const jD=t=>{const e=_l({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:c}=e;if(e.headers=l=er.from(l),e.url=DD(ID(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),pe.isFormData(n)){if(Ti.hasStandardBrowserEnv||Ti.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(pe.isFunction(n.getHeaders)){const f=n.getHeaders(),d=["content-type","content-length"];Object.entries(f).forEach(([h,m])=>{d.includes(h.toLowerCase())&&l.set(h,m)})}}if(Ti.hasStandardBrowserEnv&&(i&&pe.isFunction(i)&&(i=i(e)),i||i!==!1&&V5(e.url))){const f=r&&o&&W5.read(o);f&&l.set(r,f)}return e},$5=typeof XMLHttpRequest<"u",Y5=$5&&function(t){return new Promise(function(n,i){const r=jD(t);let o=r.data;const l=er.from(r.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:d}=r,h,m,g,y,S;function w(){y&&y(),S&&S(),r.cancelToken&&r.cancelToken.unsubscribe(h),r.signal&&r.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(r.method.toUpperCase(),r.url,!0),v.timeout=r.timeout;function _(){if(!v)return;const T=er.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),P={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:T,config:t,request:v};kD(function(D){n(D),w()},function(D){i(D),w()},P),v=null}"onloadend"in v?v.onloadend=_:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(_)},v.onabort=function(){v&&(i(new ht("Request aborted",ht.ECONNABORTED,t,v)),v=null)},v.onerror=function(C){const P=C&&C.message?C.message:"Network Error",O=new ht(P,ht.ERR_NETWORK,t,v);O.event=C||null,i(O),v=null},v.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const P=r.transitional||tS;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),i(new ht(C,P.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,t,v)),v=null},o===void 0&&l.setContentType(null),"setRequestHeader"in v&&pe.forEach(l.toJSON(),function(C,P){v.setRequestHeader(P,C)}),pe.isUndefined(r.withCredentials)||(v.withCredentials=!!r.withCredentials),c&&c!=="json"&&(v.responseType=r.responseType),d&&([g,S]=am(d,!0),v.addEventListener("progress",g)),f&&v.upload&&([m,y]=am(f),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(h=T=>{v&&(i(!T||T.type?new vd(null,t,v):T),v.abort(),v=null)},r.cancelToken&&r.cancelToken.subscribe(h),r.signal&&(r.signal.aborted?h():r.signal.addEventListener("abort",h)));const A=z5(r.url);if(A&&Ti.protocols.indexOf(A)===-1){i(new ht("Unsupported protocol "+A+":",ht.ERR_BAD_REQUEST,t));return}v.send(o||null)})},K5=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const o=function(d){if(!r){r=!0,c();const h=d instanceof Error?d:this.reason;i.abort(h instanceof ht?h:new vd(h instanceof Error?h.message:h))}};let l=e&&setTimeout(()=>{l=null,o(new ht(`timeout of ${e}ms exceeded`,ht.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),t=null)};t.forEach(d=>d.addEventListener("abort",o));const{signal:f}=i;return f.unsubscribe=()=>pe.asap(c),f}},Z5=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},Q5=async function*(t,e){for await(const n of J5(t))yield*Z5(n,e)},J5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},KT=(t,e,n,i)=>{const r=Q5(t,e);let o=0,l,c=f=>{l||(l=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:d,value:h}=await r.next();if(d){c(),f.close();return}let m=h.byteLength;if(n){let g=o+=m;n(g)}f.enqueue(new Uint8Array(h))}catch(d){throw c(d),d}},cancel(f){return c(f),r.return()}},{highWaterMark:2})},ZT=64*1024,{isFunction:Zh}=pe,e6=(({Request:t,Response:e})=>({Request:t,Response:e}))(pe.global),{ReadableStream:QT,TextEncoder:JT}=pe.global,e2=(t,...e)=>{try{return!!t(...e)}catch{return!1}},t6=t=>{t=pe.merge.call({skipUndefined:!0},e6,t);const{fetch:e,Request:n,Response:i}=t,r=e?Zh(e):typeof fetch=="function",o=Zh(n),l=Zh(i);if(!r)return!1;const c=r&&Zh(QT),f=r&&(typeof JT=="function"?(S=>w=>S.encode(w))(new JT):async S=>new Uint8Array(await new n(S).arrayBuffer())),d=o&&c&&e2(()=>{let S=!1;const w=new n(Ti.origin,{body:new QT,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!w}),h=l&&c&&e2(()=>pe.isReadableStream(new i("").body)),m={stream:h&&(S=>S.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!m[S]&&(m[S]=(w,v)=>{let _=w&&w[S];if(_)return _.call(w);throw new ht(`Response type '${S}' is not supported`,ht.ERR_NOT_SUPPORT,v)})});const g=async S=>{if(S==null)return 0;if(pe.isBlob(S))return S.size;if(pe.isSpecCompliantForm(S))return(await new n(Ti.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(S)||pe.isArrayBuffer(S))return S.byteLength;if(pe.isURLSearchParams(S)&&(S=S+""),pe.isString(S))return(await f(S)).byteLength},y=async(S,w)=>{const v=pe.toFiniteNumber(S.getContentLength());return v??g(w)};return async S=>{let{url:w,method:v,data:_,signal:A,cancelToken:T,timeout:C,onDownloadProgress:P,onUploadProgress:O,responseType:D,headers:z,withCredentials:R="same-origin",fetchOptions:U}=jD(S),F=e||fetch;D=D?(D+"").toLowerCase():"text";let j=K5([A,T&&T.toAbortSignal()],C),W=null;const $=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let Q;try{if(O&&d&&v!=="get"&&v!=="head"&&(Q=await y(z,_))!==0){let H=new n(w,{method:"POST",body:_,duplex:"half"}),ne;if(pe.isFormData(_)&&(ne=H.headers.get("content-type"))&&z.setContentType(ne),H.body){const[ye,Te]=XT(Q,am($T(O)));_=KT(H.body,ZT,ye,Te)}}pe.isString(R)||(R=R?"include":"omit");const B=o&&"credentials"in n.prototype,V={...U,signal:j,method:v.toUpperCase(),headers:z.normalize().toJSON(),body:_,duplex:"half",credentials:B?R:void 0};W=o&&new n(w,V);let K=await(o?F(W,U):F(w,V));const ge=h&&(D==="stream"||D==="response");if(h&&(P||ge&&$)){const H={};["status","statusText","headers"].forEach(Ie=>{H[Ie]=K[Ie]});const ne=pe.toFiniteNumber(K.headers.get("content-length")),[ye,Te]=P&&XT(ne,am($T(P),!0))||[];K=new i(KT(K.body,ZT,ye,()=>{Te&&Te(),$&&$()}),H)}D=D||"text";let ve=await m[pe.findKey(m,D)||"text"](K,S);return!ge&&$&&$(),await new Promise((H,ne)=>{kD(H,ne,{data:ve,headers:er.from(K.headers),status:K.status,statusText:K.statusText,config:S,request:W})})}catch(B){throw $&&$(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new ht("Network Error",ht.ERR_NETWORK,S,W,B&&B.response),{cause:B.cause||B}):ht.from(B,B&&B.code,S,W,B&&B.response)}}},n6=new Map,BD=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:r}=e,o=[i,r,n];let l=o.length,c=l,f,d,h=n6;for(;c--;)f=o[c],d=h.get(f),d===void 0&&h.set(f,d=c?new Map:t6(e)),h=d;return d};BD();const iS={http:y5,xhr:Y5,fetch:{get:BD}};pe.forEach(iS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const t2=t=>`- ${t}`,i6=t=>pe.isFunction(t)||t===null||t===!1;function r6(t,e){t=pe.isArray(t)?t:[t];const{length:n}=t;let i,r;const o={};for(let l=0;l<n;l++){i=t[l];let c;if(r=i,!i6(i)&&(r=iS[(c=String(i)).toLowerCase()],r===void 0))throw new ht(`Unknown adapter '${c}'`);if(r&&(pe.isFunction(r)||(r=r.get(e))))break;o[c||"#"+l]=r}if(!r){const l=Object.entries(o).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?l.length>1?`since :
`+l.map(t2).join(`
`):" "+t2(l[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r}const FD={getAdapter:r6,adapters:iS};function Nx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vd(null,t)}function n2(t){return Nx(t),t.headers=er.from(t.headers),t.data=Rx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),FD.getAdapter(t.adapter||gd.adapter,t)(t).then(function(i){return Nx(t),i.data=Rx.call(t,t.transformResponse,i),i.headers=er.from(i.headers),i},function(i){return UD(i)||(Nx(t),i&&i.response&&(i.response.data=Rx.call(t,t.transformResponse,i.response),i.response.headers=er.from(i.response.headers))),Promise.reject(i)})}const zD="1.13.5",xg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xg[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const i2={};xg.transitional=function(e,n,i){function r(o,l){return"[Axios v"+zD+"] Transitional option '"+o+"'"+l+(i?". "+i:"")}return(o,l,c)=>{if(e===!1)throw new ht(r(l," has been removed"+(n?" in "+n:"")),ht.ERR_DEPRECATED);return n&&!i2[l]&&(i2[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,c):!0}};xg.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function a6(t,e,n){if(typeof t!="object")throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const o=i[r],l=e[o];if(l){const c=t[o],f=c===void 0||l(c,o,t);if(f!==!0)throw new ht("option "+o+" must be "+f,ht.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ht("Unknown option "+o,ht.ERR_BAD_OPTION)}}const Vp={assertOptions:a6,validators:xg},Nr=Vp.validators;let gl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new WT,response:new WT}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=_l(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&Vp.assertOptions(i,{silentJSONParsing:Nr.transitional(Nr.boolean),forcedJSONParsing:Nr.transitional(Nr.boolean),clarifyTimeoutError:Nr.transitional(Nr.boolean),legacyInterceptorReqResOrdering:Nr.transitional(Nr.boolean)},!1),r!=null&&(pe.isFunction(r)?n.paramsSerializer={serialize:r}:Vp.assertOptions(r,{encode:Nr.function,serialize:Nr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Vp.assertOptions(n,{baseUrl:Nr.spelling("baseURL"),withXsrfToken:Nr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&pe.merge(o.common,o[n.method]);o&&pe.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),n.headers=er.concat(l,o);const c=[];let f=!0;this.interceptors.request.forEach(function(w){if(typeof w.runWhen=="function"&&w.runWhen(n)===!1)return;f=f&&w.synchronous;const v=n.transitional||tS;v&&v.legacyInterceptorReqResOrdering?c.unshift(w.fulfilled,w.rejected):c.push(w.fulfilled,w.rejected)});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let h,m=0,g;if(!f){const S=[n2.bind(this),void 0];for(S.unshift(...c),S.push(...d),g=S.length,h=Promise.resolve(n);m<g;)h=h.then(S[m++],S[m++]);return h}g=c.length;let y=n;for(;m<g;){const S=c[m++],w=c[m++];try{y=S(y)}catch(v){w.call(this,v);break}}try{h=n2.call(this,y)}catch(S){return Promise.reject(S)}for(m=0,g=d.length;m<g;)h=h.then(d[m++],d[m++]);return h}getUri(e){e=_l(this.defaults,e);const n=ID(e.baseURL,e.url,e.allowAbsoluteUrls);return DD(n,e.params,e.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(e){gl.prototype[e]=function(n,i){return this.request(_l(i||{},{method:e,url:n,data:(i||{}).data}))}});pe.forEach(["post","put","patch"],function(e){function n(i){return function(o,l,c){return this.request(_l(c||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}gl.prototype[e]=n(),gl.prototype[e+"Form"]=n(!0)});let o6=class HD{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(c=>{i.subscribe(c),o=c}).then(r);return l.cancel=function(){i.unsubscribe(o)},l},e(function(o,l,c){i.reason||(i.reason=new vd(o,l,c),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new HD(function(r){e=r}),cancel:e}}};function s6(t){return function(n){return t.apply(null,n)}}function l6(t){return pe.isObject(t)&&t.isAxiosError===!0}const Qb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Qb).forEach(([t,e])=>{Qb[e]=t});function GD(t){const e=new gl(t),n=wD(gl.prototype.request,e);return pe.extend(n,gl.prototype,e,{allOwnKeys:!0}),pe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return GD(_l(t,r))},n}const On=GD(gd);On.Axios=gl;On.CanceledError=vd;On.CancelToken=o6;On.isCancel=UD;On.VERSION=zD;On.toFormData=vg;On.AxiosError=ht;On.Cancel=On.CanceledError;On.all=function(e){return Promise.all(e)};On.spread=s6;On.isAxiosError=l6;On.mergeConfig=_l;On.AxiosHeaders=er;On.formToJSON=t=>LD(pe.isHTMLForm(t)?new FormData(t):t);On.getAdapter=FD.getAdapter;On.HttpStatusCode=Qb;On.default=On;const{Axios:Mce,AxiosError:Ace,CanceledError:Tce,isCancel:Cce,CancelToken:Rce,VERSION:Nce,all:Oce,Cancel:Pce,isAxiosError:Dce,spread:Lce,toFormData:Uce,AxiosHeaders:kce,HttpStatusCode:Ice,formToJSON:jce,getAdapter:Bce,mergeConfig:Fce}=On,c6="http://localhost:5007/api",yt=On.create({baseURL:c6,headers:{"Content-Type":"application/json"}});yt.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const u6=({children:t,theme:e,toggleTheme:n,user:i,onLogout:r})=>{var v,_;const[o,l]=ea.useState(0),[c,f]=ea.useState(""),[d,h]=ea.useState(!1),m=Po(),g=uu();ea.useEffect(()=>{i&&yt.get("/tasks/reminders").then(A=>l(A.data.count)).catch(()=>{})},[i,m.pathname]);const y=[{name:"Dashboard",path:"/dashboard",icon:an.Home},{name:"Projects",path:"/projects",icon:an.Projects},{name:"Blueprints",path:"/ai-blueprint",icon:an.AI},{name:"Logistics",path:"/logistics",icon:an.Logistics},{name:"Workers",path:"/workers",icon:an.Social},{name:"Schedule",path:"/calendar",icon:an.Calendar},{name:"Social Hub",path:"/feed",icon:an.Social},{name:"Financials",path:"/budget-planning",icon:an.Projects},{name:"Support",path:"/feedback",icon:an.Contact},{name:"Settings",path:"/settings",icon:an.Settings}],S=y.filter(A=>A.name.toLowerCase().includes(c.toLowerCase()));return["/","/login","/signup"].includes(m.pathname)?x.jsx(x.Fragment,{children:t}):x.jsxs("div",{className:`min-h-screen flex ${e==="dark"?"dark text-dwello-parchment":"text-dwello-indigo"}`,children:[x.jsxs("aside",{className:"w-64 bg-dwello-indigo text-white flex-shrink-0 flex flex-col transition-all duration-300 hidden md:flex border-r border-dwello-lilac/20",children:[x.jsx("div",{className:"p-8",children:x.jsxs(Ui,{to:"/",className:"text-3xl font-extrabold tracking-tighter flex items-center gap-2",children:[x.jsx("span",{className:"text-dwello-silk",children:"D"}),"WELLO"]})}),x.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto custom-scrollbar",children:y.map(A=>{const T=m.pathname===A.path;return x.jsxs(Ui,{to:A.path,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${T?"bg-dwello-grape text-dwello-parchment shadow-lg":"hover:bg-dwello-grape/30 text-dwello-lilac"}`,children:[x.jsx(A.icon,{}),x.jsx("span",{className:"font-semibold text-xs",children:A.name})]},A.path)})}),x.jsxs("div",{className:"p-4 border-t border-dwello-lilac/10",children:[x.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 mb-2",children:[x.jsx("div",{className:"w-9 h-9 rounded-xl bg-dwello-grape text-dwello-parchment flex items-center justify-center font-bold border border-dwello-lilac/30",children:((v=i==null?void 0:i.name)==null?void 0:v[0])||"U"}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"text-sm font-bold truncate",children:(i==null?void 0:i.name)||"User"}),x.jsx("p",{className:"text-[10px] uppercase font-black text-dwello-lilac tracking-widest",children:(i==null?void 0:i.role)||"Builder"})]})]}),x.jsx("button",{onClick:r,className:"w-full text-left px-4 py-2 text-[10px] font-black uppercase tracking-widest text-dwello-lilac hover:text-dwello-silk transition-colors",children:"Sign Out"})]})]}),x.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-dwello-parchment dark:bg-slate-900 transition-colors duration-300",children:[x.jsxs("header",{className:"h-20 bg-white/80 dark:bg-slate-800/80 backdrop-blur-md border-b border-dwello-lilac/20 flex items-center justify-between px-8 z-10",children:[x.jsx("h2",{className:"text-xl font-bold text-dwello-indigo dark:text-dwello-silk",children:((_=y.find(A=>A.path===m.pathname))==null?void 0:_.name)||"Dwello"}),x.jsx("div",{className:"flex-1 max-w-md mx-8 relative",children:x.jsxs("div",{className:"relative group",children:[x.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-dwello-lilac group-focus-within:text-dwello-indigo transition-colors",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),x.jsx("input",{type:"text",placeholder:"Search blueprints, projects, workforce...",value:c,onChange:A=>{f(A.target.value),h(!0)},onFocus:()=>h(!0),className:"w-full pl-12 pr-4 py-2.5 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 focus:bg-white focus:border-dwello-silk focus:ring-4 focus:ring-dwello-silk/10 outline-none transition-all font-bold text-xs"}),d&&c&&x.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-dwello-lilac/20 overflow-hidden animate-fadeIn pb-2",children:[x.jsx("p",{className:"px-4 py-3 text-[10px] font-black uppercase tracking-widest text-dwello-lilac border-b border-dwello-lilac/10 mb-1",children:"Feature Matches"}),S.length>0?S.map(A=>x.jsxs("button",{onClick:()=>{g(A.path),f(""),h(!1)},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-dwello-parchment dark:hover:bg-slate-700 transition-colors text-left",children:[x.jsx(A.icon,{className:"w-4 h-4 text-dwello-indigo"}),x.jsx("span",{className:"text-xs font-bold text-dwello-indigo dark:text-dwello-parchment",children:A.name})]},A.path)):x.jsxs("p",{className:"px-4 py-4 text-xs font-medium text-dwello-lilac italic",children:['No modules matching "',c,'"']})]})]})}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("button",{onClick:n,className:"p-2.5 rounded-xl border border-dwello-lilac/20 hover:bg-dwello-parchment dark:hover:bg-slate-700 transition-colors relative",children:[e==="light"?x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):x.jsx("svg",{className:"w-5 h-5 text-dwello-silk",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 9H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),o>0&&x.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-dwello-silk text-dwello-indigo text-[8px] font-black rounded-full flex items-center justify-center border-2 border-white dark:border-slate-800",children:o})]}),x.jsx("div",{className:"h-6 w-px bg-dwello-lilac/20"}),x.jsx("button",{className:"text-xs font-black uppercase tracking-widest text-dwello-grape dark:text-dwello-lilac hover:text-dwello-indigo",children:"Contact Admin"})]})]}),x.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:t})]})]})},f6=()=>x.jsxs("div",{className:"min-h-screen flex flex-col text-dwello-indigo bg-dwello-parchment",children:[x.jsxs("nav",{className:"h-24 flex items-center justify-between px-8 md:px-24 bg-white/80 backdrop-blur-xl sticky top-0 z-50 border-b border-dwello-lilac/20",children:[x.jsxs("div",{className:"text-4xl font-black tracking-tighter text-dwello-indigo",children:[x.jsx("span",{className:"text-dwello-silk",children:"D"}),"WELLO"]}),x.jsxs("div",{className:"hidden md:flex items-center gap-12 text-[10px] font-black uppercase tracking-widest",children:[x.jsx("a",{href:"#features",className:"hover:text-dwello-grape",children:"Capabilities"}),x.jsx("a",{href:"#about",className:"hover:text-dwello-grape",children:"Philosophy"}),x.jsx("div",{className:"h-4 w-px bg-dwello-lilac/30"}),x.jsx(Ui,{to:"/login",className:"hover:text-dwello-grape",children:"Login"}),x.jsx(Ui,{to:"/signup",className:"px-8 py-3 rounded-2xl bg-dwello-indigo text-white hover:bg-dwello-grape transition-all shadow-xl shadow-dwello-indigo/20",children:"Initialize"})]})]}),x.jsxs("section",{className:"flex-1 flex flex-col items-center justify-center text-center px-8 py-32 bg-gradient-to-b from-white to-dwello-parchment",children:[x.jsx("div",{className:"mb-6 px-4 py-1.5 rounded-full bg-dwello-silk/20 text-dwello-indigo text-[10px] font-black uppercase tracking-[0.2em] border border-dwello-silk/30",children:"The New Standard for Modern Builders"}),x.jsxs("h1",{className:"text-6xl md:text-8xl font-black max-w-5xl mb-8 leading-[0.9] tracking-tighter",children:["Architectural Intelligence ",x.jsx("br",{})," ",x.jsx("span",{className:"text-dwello-silk",children:"Refined by AI."})]}),x.jsx("p",{className:"text-xl md:text-2xl text-dwello-grape/80 max-w-3xl mb-12 font-medium leading-relaxed",children:"The all-in-one execution platform for builders to manage logistics, visualize 3D progress, and showcase elite project portfolios."}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[x.jsx(Ui,{to:"/signup",className:"px-12 py-5 rounded-3xl bg-dwello-indigo text-white font-extrabold text-lg shadow-2xl shadow-dwello-indigo/30 hover:scale-105 transition-all",children:"Start Free Deployment"}),x.jsx("button",{className:"px-12 py-5 rounded-3xl bg-white border-2 border-dwello-indigo/10 text-dwello-indigo font-bold text-lg hover:bg-dwello-parchment transition-all",children:"Review the Deck"})]}),x.jsxs("div",{className:"mt-32 w-full max-w-6xl rounded-[48px] overflow-hidden shadow-[0_40px_100px_-20px_rgba(34,34,59,0.2)] border-[12px] border-white relative group",children:[x.jsx("img",{src:"https://images.unsplash.com/photo-1541888946425-d81bb19240f5?q=80&w=1600&auto=format&fit=crop",alt:"Interface Preview",className:"w-full grayscale-[0.2] group-hover:grayscale-0 transition-all duration-700"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dwello-indigo/40 to-transparent"})]})]}),x.jsxs("section",{id:"features",className:"py-32 px-8 md:px-24 bg-white",children:[x.jsxs("h2",{className:"text-5xl font-black text-center mb-24 tracking-tighter",children:["Engineering ",x.jsx("span",{className:"text-dwello-silk",children:"Certainty."})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[{title:"Logistics AI",desc:"Auto-predicted resource burn rates using Groq-fast inference.",icon:""},{title:"Spatial Blueprint",desc:"Interactive floor-by-floor 3D models synchronized with tasks.",icon:""},{title:"Portfolio Engine",desc:"AI-generated showcase content for client-facing channels.",icon:""},{title:"Smart Gantt",desc:"Deterministic scheduling that adapts to real-world delays.",icon:""}].map((t,e)=>x.jsxs("div",{className:"p-10 rounded-[40px] bg-dwello-parchment/40 border border-dwello-lilac/10 hover:shadow-2xl hover:bg-white transition-all group",children:[x.jsx("div",{className:"text-5xl mb-8 group-hover:scale-110 transition-transform origin-left",children:t.icon}),x.jsx("h3",{className:"text-2xl font-black mb-4 tracking-tight",children:t.title}),x.jsx("p",{className:"text-dwello-grape/80 font-medium leading-relaxed",children:t.desc})]},e))})]}),x.jsxs("footer",{className:"bg-dwello-indigo text-dwello-parchment py-24 px-8 md:px-24",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-12",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"text-4xl font-black tracking-tighter",children:[x.jsx("span",{className:"text-dwello-silk",children:"D"}),"WELLO"]}),x.jsx("p",{className:"text-sm font-bold opacity-60",children:"Building the foundations of the next generation."})]}),x.jsxs("div",{className:"flex flex-wrap gap-12 text-[10px] font-black uppercase tracking-widest",children:[x.jsx("a",{href:"#",className:"hover:text-dwello-silk",children:"Intelligence"}),x.jsx("a",{href:"#",className:"hover:text-dwello-silk",children:"Deployment"}),x.jsx("a",{href:"#",className:"hover:text-dwello-silk",children:"Confidentiality"}),x.jsx("a",{href:"#",className:"hover:text-dwello-silk",children:"Connect"})]})]}),x.jsxs("div",{className:"mt-20 pt-10 border-t border-white/5 flex flex-col md:flex-row justify-between text-[10px] font-bold opacity-40 uppercase tracking-widest gap-6",children:[x.jsx("p",{children:" 2024 Dwello Execution Systems. Global Presence."}),x.jsxs("div",{className:"flex gap-8",children:[x.jsx("span",{children:"ISO 9001 Certified"}),x.jsx("span",{children:"GDPR Compliant"})]})]})]})]}),r2=()=>{const[t,e]=ea.useState([]),[n,i]=ea.useState([]),[r,o]=ea.useState([]),[l,c]=ea.useState(!0);return ea.useEffect(()=>{(async()=>{try{const[d,h,m]=await Promise.all([yt.get("/projects"),yt.get("/logistics"),yt.get("/workers")]);e(d.data.data),i(h.data.data),o(m.data.data)}catch(d){console.error("Failed to fetch dashboard data",d)}finally{c(!1)}})()},[]),x.jsxs("div",{className:"space-y-10 animate-fadeIn",children:[x.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-4xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tight",children:"Executive Dashboard"}),x.jsx("p",{className:"text-dwello-grape/70 dark:text-dwello-lilac font-medium mt-1",children:"Resource allocation and progress tracking overview."})]}),x.jsxs(Ui,{to:"/projects/new",className:"bg-dwello-indigo text-white px-8 py-4 rounded-2xl font-bold shadow-xl shadow-dwello-indigo/20 hover:scale-[1.02] transition-all flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Initialize New Project"]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Managed Assets",value:t.length.toString().padStart(2,"0"),sub:"Projects",color:"bg-dwello-indigo text-white"},{label:"Workforce Size",value:r.length.toString().padStart(2,"0"),sub:"Personnel",color:"bg-white text-dwello-indigo"},{label:"Pending Logistics",value:n.filter(f=>f.deliveryStatus==="Pending").length.toString().padStart(2,"0"),sub:"Shipments",color:"bg-dwello-parchment text-dwello-indigo"},{label:"Material Spend",value:`$${Math.round(n.reduce((f,d)=>f+d.cost,0)/1e3)}k`,sub:"Investment",color:"bg-dwello-grape text-white"}].map((f,d)=>x.jsxs("div",{className:`${f.color} p-6 rounded-3xl shadow-sm border border-dwello-lilac/10 flex flex-col justify-between h-40`,children:[x.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:f.label}),x.jsxs("div",{className:"flex items-baseline gap-2",children:[x.jsx("span",{className:"text-4xl font-extrabold tracking-tighter",children:f.value}),x.jsx("span",{className:"text-xs font-bold opacity-60 uppercase",children:f.sub})]})]},d))}),x.jsxs("section",{children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h2",{className:"text-2xl font-black text-dwello-indigo",children:"Real-time Portfolios"}),x.jsx(Ui,{to:"/projects",className:"text-sm font-black uppercase tracking-widest text-dwello-grape hover:text-dwello-indigo border-b-2 border-dwello-silk/30",children:"View Directory"})]}),l?x.jsx("div",{className:"text-center py-20 text-dwello-lilac",children:"Loading projects..."}):x.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[t.map(f=>{var d,h;return x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-dwello-lilac/20 shadow-sm hover:shadow-md transition-shadow",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold text-dwello-indigo dark:text-dwello-silk",children:f.name}),x.jsx("p",{className:"text-sm text-dwello-lilac",children:f.location})]}),x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase tracking-widest ${f.status==="In Progress"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:f.status})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[x.jsx("span",{className:"text-dwello-lilac uppercase tracking-wider",children:"Progress"}),x.jsxs("span",{className:"text-dwello-grape",children:[Math.round(f.currentFloor/f.expectedFloors*100),"%"]})]}),x.jsx("div",{className:"h-2 bg-dwello-parchment rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-dwello-grape",style:{width:`${f.currentFloor/f.expectedFloors*100}%`}})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[x.jsxs("div",{children:[x.jsx("span",{className:"block text-dwello-lilac font-bold uppercase tracking-widest mb-1",children:"Budget Used"}),x.jsxs("span",{className:"text-base font-black text-dwello-indigo dark:text-dwello-parchment",children:["$",(d=f.budgetUsed)==null?void 0:d.toLocaleString()," / $",(h=f.budget)==null?void 0:h.toLocaleString()]})]}),x.jsxs("div",{children:[x.jsx("span",{className:"block text-dwello-lilac font-bold uppercase tracking-widest mb-1",children:"Client"}),x.jsx("span",{className:"text-base font-black text-dwello-indigo dark:text-dwello-parchment",children:f.clientName})]})]})]}),x.jsx("div",{className:"mt-6 pt-4 border-t border-dwello-lilac/10 flex justify-end",children:x.jsxs(Ui,{to:`/projects/${f._id}`,className:"text-xs font-black uppercase tracking-widest text-dwello-indigo hover:text-dwello-grape flex items-center gap-1",children:["View Details ",x.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]},f._id)}),t.length===0&&x.jsx("div",{className:"text-center col-span-2 py-10 bg-dwello-parchment/20 rounded-xl border border-dashed border-dwello-lilac",children:x.jsx("p",{className:"text-dwello-lilac font-medium",children:"No projects found. Initialize your first project."})})]})]}),x.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 pb-12",children:[x.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-8 rounded-3xl border border-dwello-lilac/20 shadow-sm",children:[x.jsxs("h2",{className:"text-xl font-black mb-6 flex items-center gap-3",children:[x.jsx("div",{className:"w-2 h-6 bg-dwello-silk rounded-full"}),"Scheduling Dependencies"]}),x.jsx("div",{className:"space-y-6",children:n.length>0?n.slice(0,3).map((f,d)=>x.jsx("div",{className:"flex items-center gap-4",children:x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[x.jsxs("span",{className:"text-dwello-indigo uppercase tracking-wider",children:[f.materialName," (",f.supplierName,")"]}),x.jsxs("span",{className:"text-dwello-grape font-black",children:[f.deliveryStatus,"  ",new Date(f.deliveryDate).toLocaleDateString()]})]}),x.jsx("div",{className:"h-1.5 bg-dwello-parchment rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-dwello-indigo",style:{width:f.deliveryStatus==="Delivered"?"100%":"30%"}})})]})},d)):x.jsx("p",{className:"text-center py-10 text-dwello-lilac font-bold",children:"No logistics dependencies mapped."})})]}),x.jsxs("div",{className:"bg-dwello-indigo p-8 rounded-3xl shadow-2xl text-dwello-parchment flex flex-col",children:[x.jsx("div",{className:"bg-dwello-silk/20 p-2 rounded-lg w-fit mb-4",children:x.jsx(an.AI,{})}),x.jsx("h2",{className:"text-2xl font-black mb-4 text-dwello-silk",children:"Groq-Plan Insights"}),x.jsxs("p",{className:"text-sm leading-relaxed opacity-80 mb-6",children:["Azure Residency structural framing is currently ",x.jsx("span",{className:"text-dwello-silk font-bold",children:"4 days ahead"})," of the LLaMA-predicted baseline."]}),x.jsxs("div",{className:"mt-auto p-4 bg-white/5 rounded-2xl border border-white/10",children:[x.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac mb-2",children:"Automated Risk Analysis"}),x.jsx("p",{className:"text-xs italic",children:'"Consider pre-ordering Level 3 finishes now to lock in current logistics pricing before the holiday surge."'})]}),x.jsx("button",{className:"mt-6 w-full bg-dwello-silk text-dwello-indigo font-black py-4 rounded-2xl hover:bg-white transition-colors",children:"Optimize Resource Flow"})]})]})]})},d6=({progress:t,floors:e})=>{const[n,i]=M.useState("all"),r=o=>{const l=t>=(o+1)/e*100,c=o*40,f=l?"#22223b":"#c9ada7",d=l?"#1a1a2e":"#b1948d",h=l?"#0f0f1b":"#9a817a",m=n==="all"||n===o?1:.15;return x.jsxs("g",{style:{transform:`translateY(-${c}px)`,transition:"all 0.6s cubic-bezier(0.4, 0, 0.2, 1)"},children:[x.jsx("path",{d:"M 200 100 L 350 175 L 200 250 L 50 175 Z",fill:f,stroke:"#4a4e69",strokeWidth:"1.5",opacity:m}),x.jsx("path",{d:"M 50 175 L 50 205 L 200 280 L 200 250 Z",fill:d,stroke:"#4a4e69",strokeWidth:"1",opacity:m}),x.jsx("path",{d:"M 350 175 L 350 205 L 200 280 L 200 250 Z",fill:h,stroke:"#4a4e69",strokeWidth:"1",opacity:m}),x.jsxs("text",{x:"200",y:"185",textAnchor:"middle",fill:l?"#f2e9e4":"#4a4e69",className:"text-[10px] font-black uppercase tracking-widest",style:{opacity:m},children:["Level ",o+1]})]},o)};return x.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl p-6 h-[450px] flex flex-col items-center border border-dwello-lilac/20 shadow-inner",children:[x.jsxs("div",{className:"absolute top-6 left-6 z-10 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"View Controls"}),x.jsxs("select",{className:"bg-dwello-parchment dark:bg-slate-700 border border-dwello-lilac/30 rounded-lg px-3 py-1.5 text-xs font-bold outline-none focus:ring-2 ring-dwello-grape transition-all",onChange:o=>i(o.target.value==="all"?"all":parseInt(o.target.value)),children:[x.jsx("option",{value:"all",children:"Entire Structure"}),Array.from({length:e}).map((o,l)=>x.jsxs("option",{value:l,children:["Level ",l+1," Plan"]},l))]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"p-2 bg-dwello-parchment rounded-lg border border-dwello-lilac/30 hover:bg-dwello-silk transition-colors",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),x.jsx("button",{className:"p-2 bg-dwello-parchment rounded-lg border border-dwello-lilac/30 hover:bg-dwello-silk transition-colors",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})]})]}),x.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 400 400",className:"mt-4 drop-shadow-2xl",children:x.jsx("g",{transform:"translate(0, 120)",children:Array.from({length:e}).map((o,l)=>r(l))})}),x.jsxs("div",{className:"absolute bottom-6 right-6 text-right",children:[x.jsx("div",{className:"text-[10px] font-black uppercase text-dwello-lilac tracking-widest mb-1",children:"Live Progress"}),x.jsxs("div",{className:"text-4xl font-extrabold text-dwello-indigo dark:text-dwello-silk tracking-tighter",children:[t,"%"]})]})]})};function VD(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=VD(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function sn(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=VD(t))&&(i&&(i+=" "),i+=e);return i}var h6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function rS(t){if(typeof t!="string")return!1;var e=h6;return e.includes(t)}var p6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],m6=new Set(p6);function WD(t){return typeof t!="string"?!1:m6.has(t)}function qD(t){return typeof t=="string"&&t.startsWith("data-")}function Br(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(WD(n)||qD(n))&&(e[n]=t[n]);return e}function xd(t){if(t==null)return null;if(M.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Br(e)}return typeof t=="object"&&!Array.isArray(t)?Br(t):null}function Ii(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(WD(n)||qD(n)||rS(n))&&(e[n]=t[n]);return e}function g6(t){return t==null?null:M.isValidElement(t)?Ii(t.props):typeof t=="object"&&!Array.isArray(t)?Ii(t):null}var v6=["children","width","height","viewBox","className","style","title","desc"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jb.apply(null,arguments)}function x6(t,e){if(t==null)return{};var n,i,r=y6(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function y6(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var XD=M.forwardRef((t,e)=>{var{children:n,width:i,height:r,viewBox:o,className:l,style:c,title:f,desc:d}=t,h=x6(t,v6),m=o||{width:i,height:r,x:0,y:0},g=sn("recharts-surface",l);return M.createElement("svg",Jb({},Ii(h),{className:g,width:i,height:r,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),M.createElement("title",null,f),M.createElement("desc",null,d),n)}),b6=["children","className"];function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e_.apply(null,arguments)}function _6(t,e){if(t==null)return{};var n,i,r=w6(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w6(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var ji=M.forwardRef((t,e)=>{var{children:n,className:i}=t,r=_6(t,b6),o=sn("recharts-layer",i);return M.createElement("g",e_({className:o},Ii(r),{ref:e}),n)}),S6=M.createContext(null);function fn(t){return function(){return t}}const $D=Math.cos,om=Math.sin,ha=Math.sqrt,sm=Math.PI,yg=2*sm,t_=Math.PI,n_=2*t_,rl=1e-6,E6=n_-rl;function YD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function M6(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return YD;const n=10**e;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class A6{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?YD:M6(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,o,l){this._append`C${+e},${+n},${+i},${+r},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,i,r,o){if(e=+e,n=+n,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,f=i-e,d=r-n,h=l-e,m=c-n,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>rl)if(!(Math.abs(m*f-d*h)>rl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=i-l,S=r-c,w=f*f+d*d,v=y*y+S*S,_=Math.sqrt(w),A=Math.sqrt(g),T=o*Math.tan((t_-Math.acos((w+g-v)/(2*_*A)))/2),C=T/A,P=T/_;Math.abs(C-1)>rl&&this._append`L${e+C*h},${n+C*m}`,this._append`A${o},${o},0,0,${+(m*y>h*S)},${this._x1=e+P*f},${this._y1=n+P*d}`}}arc(e,n,i,r,o,l){if(e=+e,n=+n,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(r),f=i*Math.sin(r),d=e+c,h=n+f,m=1^l,g=l?r-o:o-r;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>rl||Math.abs(this._y1-h)>rl)&&this._append`L${d},${h}`,i&&(g<0&&(g=g%n_+n_),g>E6?this._append`A${i},${i},0,1,${m},${e-c},${n-f}A${i},${i},0,1,${m},${this._x1=d},${this._y1=h}`:g>rl&&this._append`A${i},${i},0,${+(g>=t_)},${m},${this._x1=e+i*Math.cos(o)},${this._y1=n+i*Math.sin(o)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function aS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new A6(e)}function oS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KD(t){this._context=t}KD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bg(t){return new KD(t)}function ZD(t){return t[0]}function QD(t){return t[1]}function JD(t,e){var n=fn(!0),i=null,r=bg,o=null,l=aS(c);t=typeof t=="function"?t:t===void 0?ZD:fn(t),e=typeof e=="function"?e:e===void 0?QD:fn(e);function c(f){var d,h=(f=oS(f)).length,m,g=!1,y;for(i==null&&(o=r(y=l())),d=0;d<=h;++d)!(d<h&&n(m=f[d],d,f))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(m,d,f),+e(m,d,f));if(y)return o=null,y+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:fn(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:fn(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:fn(!!f),c):n},c.curve=function(f){return arguments.length?(r=f,i!=null&&(o=r(i)),c):r},c.context=function(f){return arguments.length?(f==null?i=o=null:o=r(i=f),c):i},c}function Qh(t,e,n){var i=null,r=fn(!0),o=null,l=bg,c=null,f=aS(d);t=typeof t=="function"?t:t===void 0?ZD:fn(+t),e=typeof e=="function"?e:fn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?QD:fn(+n);function d(m){var g,y,S,w=(m=oS(m)).length,v,_=!1,A,T=new Array(w),C=new Array(w);for(o==null&&(c=l(A=f())),g=0;g<=w;++g){if(!(g<w&&r(v=m[g],g,m))===_)if(_=!_)y=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),S=g-1;S>=y;--S)c.point(T[S],C[S]);c.lineEnd(),c.areaEnd()}_&&(T[g]=+t(v,g,m),C[g]=+e(v,g,m),c.point(i?+i(v,g,m):T[g],n?+n(v,g,m):C[g]))}if(A)return c=null,A+""||null}function h(){return JD().defined(r).curve(l).context(o)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:fn(+m),i=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:fn(+m),d):t},d.x1=function(m){return arguments.length?(i=m==null?null:typeof m=="function"?m:fn(+m),d):i},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:fn(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:fn(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:fn(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(i).y(e)},d.defined=function(m){return arguments.length?(r=typeof m=="function"?m:fn(!!m),d):r},d.curve=function(m){return arguments.length?(l=m,o!=null&&(c=l(o)),d):l},d.context=function(m){return arguments.length?(m==null?o=c=null:c=l(o=m),d):o},d}class e3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function T6(t){return new e3(t,!0)}function C6(t){return new e3(t,!1)}const sS={draw(t,e){const n=ha(e/sm);t.moveTo(n,0),t.arc(0,0,n,0,yg)}},R6={draw(t,e){const n=ha(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},t3=ha(1/3),N6=t3*2,O6={draw(t,e){const n=ha(e/N6),i=n*t3;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},P6={draw(t,e){const n=ha(e),i=-n/2;t.rect(i,i,n,n)}},D6=.8908130915292852,n3=om(sm/10)/om(7*sm/10),L6=om(yg/10)*n3,U6=-$D(yg/10)*n3,k6={draw(t,e){const n=ha(e*D6),i=L6*n,r=U6*n;t.moveTo(0,-n),t.lineTo(i,r);for(let o=1;o<5;++o){const l=yg*o/5,c=$D(l),f=om(l);t.lineTo(f*n,-c*n),t.lineTo(c*i-f*r,f*i+c*r)}t.closePath()}},Ox=ha(3),I6={draw(t,e){const n=-ha(e/(Ox*3));t.moveTo(0,n*2),t.lineTo(-Ox*n,-n),t.lineTo(Ox*n,-n),t.closePath()}},Or=-.5,Pr=ha(3)/2,i_=1/ha(12),j6=(i_/2+1)*3,B6={draw(t,e){const n=ha(e/j6),i=n/2,r=n*i_,o=i,l=n*i_+n,c=-o,f=l;t.moveTo(i,r),t.lineTo(o,l),t.lineTo(c,f),t.lineTo(Or*i-Pr*r,Pr*i+Or*r),t.lineTo(Or*o-Pr*l,Pr*o+Or*l),t.lineTo(Or*c-Pr*f,Pr*c+Or*f),t.lineTo(Or*i+Pr*r,Or*r-Pr*i),t.lineTo(Or*o+Pr*l,Or*l-Pr*o),t.lineTo(Or*c+Pr*f,Or*f-Pr*c),t.closePath()}};function F6(t,e){let n=null,i=aS(r);t=typeof t=="function"?t:fn(t||sS),e=typeof e=="function"?e:fn(e===void 0?64:+e);function r(){let o;if(n||(n=o=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return r.type=function(o){return arguments.length?(t=typeof o=="function"?o:fn(o),r):t},r.size=function(o){return arguments.length?(e=typeof o=="function"?o:fn(+o),r):e},r.context=function(o){return arguments.length?(n=o??null,r):n},r}function lm(){}function cm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function i3(t){this._context=t}i3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function z6(t){return new i3(t)}function r3(t){this._context=t}r3.prototype={areaStart:lm,areaEnd:lm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function H6(t){return new r3(t)}function a3(t){this._context=t}a3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function G6(t){return new a3(t)}function o3(t){this._context=t}o3.prototype={areaStart:lm,areaEnd:lm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function V6(t){return new o3(t)}function a2(t){return t<0?-1:1}function o2(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),l=(n-t._y1)/(r||i<0&&-0),c=(o*r+l*i)/(i+r);return(a2(o)+a2(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function s2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Px(t,e,n){var i=t._x0,r=t._y0,o=t._x1,l=t._y1,c=(o-i)/3;t._context.bezierCurveTo(i+c,r+c*e,o-c,l-c*n,o,l)}function um(t){this._context=t}um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Px(this,this._t0,s2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Px(this,s2(this,n=o2(this,t,e)),n);break;default:Px(this,this._t0,n=o2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function s3(t){this._context=new l3(t)}(s3.prototype=Object.create(um.prototype)).point=function(t,e){um.prototype.point.call(this,e,t)};function l3(t){this._context=t}l3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}};function W6(t){return new um(t)}function q6(t){return new s3(t)}function c3(t){this._context=t}c3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=l2(t),r=l2(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function l2(t){var e,n=t.length-1,i,r=new Array(n),o=new Array(n),l=new Array(n);for(r[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=r[e]/o[e-1],o[e]-=i,l[e]-=i*l[e-1];for(r[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)r[e]=(l[e]-r[e+1])/o[e];for(o[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function X6(t){return new c3(t)}function _g(t,e){this._context=t,this._t=e}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function $6(t){return new _g(t,.5)}function Y6(t){return new _g(t,0)}function K6(t){return new _g(t,1)}function wl(t,e){if((l=t.length)>1)for(var n=1,i,r,o=t[e[0]],l,c=o.length;n<l;++n)for(r=o,o=t[e[n]],i=0;i<c;++i)o[i][1]+=o[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function r_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Z6(t,e){return t[e]}function Q6(t){const e=[];return e.key=t,e}function J6(){var t=fn([]),e=r_,n=wl,i=Z6;function r(o){var l=Array.from(t.apply(this,arguments),Q6),c,f=l.length,d=-1,h;for(const m of o)for(c=0,++d;c<f;++c)(l[c][d]=[0,+i(m,l[c].key,d,o)]).data=m;for(c=0,h=oS(e(l));c<f;++c)l[h[c]].index=c;return n(l,h),l}return r.keys=function(o){return arguments.length?(t=typeof o=="function"?o:fn(Array.from(o)),r):t},r.value=function(o){return arguments.length?(i=typeof o=="function"?o:fn(+o),r):i},r.order=function(o){return arguments.length?(e=o==null?r_:typeof o=="function"?o:fn(Array.from(o)),r):e},r.offset=function(o){return arguments.length?(n=o??wl,r):n},r}function e8(t,e){if((i=t.length)>0){for(var n,i,r=0,o=t[0].length,l;r<o;++r){for(l=n=0;n<i;++n)l+=t[n][r][1]||0;if(l)for(n=0;n<i;++n)t[n][r][1]/=l}wl(t,e)}}function t8(t,e){if((r=t.length)>0){for(var n=0,i=t[e[0]],r,o=i.length;n<o;++n){for(var l=0,c=0;l<r;++l)c+=t[l][n][1]||0;i[n][1]+=i[n][0]=-c/2}wl(t,e)}}function n8(t,e){if(!(!((l=t.length)>0)||!((o=(r=t[e[0]]).length)>0))){for(var n=0,i=1,r,o,l;i<o;++i){for(var c=0,f=0,d=0;c<l;++c){for(var h=t[e[c]],m=h[i][1]||0,g=h[i-1][1]||0,y=(m-g)/2,S=0;S<c;++S){var w=t[e[S]],v=w[i][1]||0,_=w[i-1][1]||0;y+=v-_}f+=m,d+=y*m}r[i-1][1]+=r[i-1][0]=n,f&&(n-=d/f)}r[i-1][1]+=r[i-1][0]=n,wl(t,e)}}var Dx={},Lx={},c2;function i8(){return c2||(c2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Lx)),Lx}var Ux={},u2;function u3(){return u2||(u2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Ux)),Ux}var kx={},f2;function lS(){return f2||(f2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;return typeof n=="string"||typeof n=="symbol"?n:Object.is((i=n==null?void 0:n.valueOf)==null?void 0:i.call(n),-0)?"-0":String(n)}t.toKey=e})(kx)),kx}var Ix={},jx={},d2;function r8(){return d2||(d2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const i=String(n);return i==="0"&&Object.is(Number(n),-0)?"-0":i}t.toString=e})(jx)),jx}var h2;function cS(){return h2||(h2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r8(),n=lS();function i(r){if(Array.isArray(r))return r.map(n.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const o=[],l=r.length;if(l===0)return o;let c=0,f="",d="",h=!1;for(r.charCodeAt(0)===46&&(o.push(""),c++);c<l;){const m=r[c];d?m==="\\"&&c+1<l?(c++,f+=r[c]):m===d?d="":f+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,o.push(f),f=""):f+=m:m==="["?(h=!0,f&&(o.push(f),f="")):m==="."?f&&(o.push(f),f=""):f+=m,c++}return f&&o.push(f),o}t.toPath=i})(Ix)),Ix}var p2;function uS(){return p2||(p2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i8(),n=u3(),i=lS(),r=cS();function o(c,f,d){if(c==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const h=c[f];return h===void 0?n.isDeepKey(f)?o(c,r.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=i.toKey(f));const h=c[f];return h===void 0?d:h}default:{if(Array.isArray(f))return l(c,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const h=c[f];return h===void 0?d:h}}}function l(c,f,d){if(f.length===0)return d;let h=c;for(let m=0;m<f.length;m++){if(h==null||e.isUnsafeProperty(f[m]))return d;h=h[f[m]]}return h===void 0?d:h}t.get=o})(Dx)),Dx}var Bx,m2;function a8(){return m2||(m2=1,Bx=uS().get),Bx}var o8=a8();const Yc=Ia(o8);var s8=4;function Ss(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s8,n=10**e,i=Math.round(t*n)/n;return Object.is(i,-0)?0:i}function An(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.reduce((r,o,l)=>{var c=n[l-1];return typeof c=="string"?r+c+o:c!==void 0?r+Ss(c)+o:r+o},"")}var Ki=t=>t===0?0:t>0?1:-1,la=t=>typeof t=="number"&&t!=+t,Sl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,qe=t=>(typeof t=="number"||t instanceof Number)&&!la(t),Oa=t=>qe(t)||typeof t=="string",l8=0,Wf=t=>{var e=++l8;return"".concat(t||"").concat(e)},ca=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(e)&&typeof e!="string")return i;var o;if(Sl(e)){if(n==null)return i;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return la(o)&&(o=i),r&&n!=null&&o>n&&(o=n),o},f3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},i=0;i<e;i++)if(!n[String(t[i])])n[String(t[i])]=!0;else return!0;return!1};function _n(t,e,n){return qe(t)&&qe(e)?Ss(t+n*(e-t)):e}function d3(t,e,n){if(!(!t||!t.length))return t.find(i=>i&&(typeof e=="function"?e(i):Yc(i,e))===n)}var Cn=t=>t===null||typeof t>"u",yd=t=>Cn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Zi(t){return t!=null}function Dl(){}var c8=["type","size","sizeType"];function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a_.apply(null,arguments)}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function v2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(i){u8(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function u8(t,e,n){return(e=f8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f8(t){var e=d8(t,"string");return typeof e=="symbol"?e:e+""}function d8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h8(t,e){if(t==null)return{};var n,i,r=p8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function p8(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var h3={symbolCircle:sS,symbolCross:R6,symbolDiamond:O6,symbolSquare:P6,symbolStar:k6,symbolTriangle:I6,symbolWye:B6},m8=Math.PI/180,g8=t=>{var e="symbol".concat(yd(t));return h3[e]||sS},v8=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*m8;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},x8=(t,e)=>{h3["symbol".concat(yd(t))]=e},p3=t=>{var{type:e="circle",size:n=64,sizeType:i="area"}=t,r=h8(t,c8),o=v2(v2({},r),{},{type:e,size:n,sizeType:i}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var g=g8(l),y=F6().type(g).size(v8(n,i,l)),S=y();if(S!==null)return S},{className:f,cx:d,cy:h}=o,m=Ii(o);return qe(d)&&qe(h)&&qe(n)?M.createElement("path",a_({},m,{className:sn("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:c()})):null};p3.registerSymbol=x8;var m3=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,fS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(M.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(r=>{rS(r)&&(i[r]=(o=>n[r](n,o)))}),i},y8=(t,e,n)=>i=>(t(e,n,i),null),dS=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var i=null;return Object.keys(t).forEach(r=>{var o=t[r];rS(r)&&typeof o=="function"&&(i||(i={}),i[r]=y8(o,e,n))}),i};function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function b8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(i){_8(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _8(t,e,n){return(e=w8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w8(t){var e=S8(t,"string");return typeof e=="symbol"?e:e+""}function S8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fi(t,e){var n=b8({},t),i=e,r=Object.keys(e),o=r.reduce((l,c)=>(l[c]===void 0&&i[c]!==void 0&&(l[c]=i[c]),l),n);return o}var Fx={},zx={},y2;function E8(){return y2||(y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){const r=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=i(l,o,n);r.has(c)||r.set(c,l)}return Array.from(r.values())}t.uniqBy=e})(zx)),zx}var Hx={},b2;function M8(){return b2||(b2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return function(...r){return n.apply(this,r.slice(0,i))}}t.ary=e})(Hx)),Hx}var Gx={},_2;function g3(){return _2||(_2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Gx)),Gx}var Vx={},Wx={},qx={},w2;function A8(){return w2||(w2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(qx)),qx}var S2;function hS(){return S2||(S2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A8();function n(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}t.isArrayLike=n})(Wx)),Wx}var Xx={},E2;function T8(){return E2||(E2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Xx)),Xx}var M2;function C8(){return M2||(M2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hS(),n=T8();function i(r){return n.isObjectLike(r)&&e.isArrayLike(r)}t.isArrayLikeObject=i})(Vx)),Vx}var $x={},Yx={},A2;function R8(){return A2||(A2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uS();function n(i){return function(r){return e.get(r,i)}}t.property=n})(Yx)),Yx}var Kx={},Zx={},Qx={},Jx={},T2;function v3(){return T2||(T2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Jx)),Jx}var ey={},C2;function x3(){return C2||(C2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(ey)),ey}var ty={},R2;function y3(){return R2||(R2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}t.isEqualsSameValueZero=e})(ty)),ty}var N2;function N8(){return N2||(N2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v3(),n=x3(),i=y3();function r(h,m,g){return typeof g!="function"?r(h,m,()=>{}):o(h,m,function y(S,w,v,_,A,T){const C=g(S,w,v,_,A,T);return C!==void 0?!!C:o(S,w,y,T)},new Map)}function o(h,m,g,y){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,g,y);case"function":return Object.keys(m).length>0?o(h,{...m},g,y):i.isEqualsSameValueZero(h,m);default:return e.isObject(h)?typeof m=="string"?m==="":!0:i.isEqualsSameValueZero(h,m)}}function l(h,m,g,y){if(m==null)return!0;if(Array.isArray(m))return f(h,m,g,y);if(m instanceof Map)return c(h,m,g,y);if(m instanceof Set)return d(h,m,g,y);const S=Object.keys(m);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(y!=null&&y.has(m))return y.get(m)===h;y==null||y.set(m,h);try{for(let w=0;w<S.length;w++){const v=S[w];if(!n.isPrimitive(h)&&!(v in h)||m[v]===void 0&&h[v]!==void 0||m[v]===null&&h[v]!==null||!g(h[v],m[v],v,h,m,y))return!1}return!0}finally{y==null||y.delete(m)}}function c(h,m,g,y){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,w]of m.entries()){const v=h.get(S);if(g(v,w,S,h,m,y)===!1)return!1}return!0}function f(h,m,g,y){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let w=0;w<m.length;w++){const v=m[w];let _=!1;for(let A=0;A<h.length;A++){if(S.has(A))continue;const T=h[A];let C=!1;if(g(T,v,w,h,m,y)&&(C=!0),C){S.add(A),_=!0;break}}if(!_)return!1}return!0}function d(h,m,g,y){return m.size===0?!0:h instanceof Set?f([...h],[...m],g,y):!1}t.isMatchWith=r,t.isSetMatch=d})(Qx)),Qx}var O2;function b3(){return O2||(O2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N8();function n(i,r){return e.isMatchWith(i,r,()=>{})}t.isMatch=n})(Zx)),Zx}var ny={},iy={},ry={},P2;function O8(){return P2||(P2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}t.getSymbols=e})(ry)),ry}var ay={},D2;function pS(){return D2||(D2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(ay)),ay}var oy={},L2;function _3(){return L2||(L2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",i="[object Number]",r="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",g="[object ArrayBuffer]",y="[object Object]",S="[object Error]",w="[object DataView]",v="[object Uint8Array]",_="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]",C="[object BigUint64Array]",P="[object Int8Array]",O="[object Int16Array]",D="[object Int32Array]",z="[object BigInt64Array]",R="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=g,t.arrayTag=h,t.bigInt64ArrayTag=z,t.bigUint64ArrayTag=C,t.booleanTag=r,t.dataViewTag=w,t.dateTag=c,t.errorTag=S,t.float32ArrayTag=R,t.float64ArrayTag=U,t.functionTag=m,t.int16ArrayTag=O,t.int32ArrayTag=D,t.int8ArrayTag=P,t.mapTag=f,t.numberTag=i,t.objectTag=y,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=A,t.uint32ArrayTag=T,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=_})(oy)),oy}var sy={},U2;function P8(){return U2||(U2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(sy)),sy}var k2;function w3(){return k2||(k2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O8(),n=pS(),i=_3(),r=x3(),o=P8();function l(h,m){return c(h,void 0,h,new Map,m)}function c(h,m,g,y=new Map,S=void 0){const w=S==null?void 0:S(h,m,g,y);if(w!==void 0)return w;if(r.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const v=new Array(h.length);y.set(h,v);for(let _=0;_<h.length;_++)v[_]=c(h[_],_,g,y,S);return Object.hasOwn(h,"index")&&(v.index=h.index),Object.hasOwn(h,"input")&&(v.input=h.input),v}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const v=new RegExp(h.source,h.flags);return v.lastIndex=h.lastIndex,v}if(h instanceof Map){const v=new Map;y.set(h,v);for(const[_,A]of h)v.set(_,c(A,_,g,y,S));return v}if(h instanceof Set){const v=new Set;y.set(h,v);for(const _ of h)v.add(c(_,void 0,g,y,S));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const v=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,v);for(let _=0;_<h.length;_++)v[_]=c(h[_],_,g,y,S);return v}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const v=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,v),f(v,h,g,y,S),v}if(typeof File<"u"&&h instanceof File){const v=new File([h],h.name,{type:h.type});return y.set(h,v),f(v,h,g,y,S),v}if(typeof Blob<"u"&&h instanceof Blob){const v=new Blob([h],{type:h.type});return y.set(h,v),f(v,h,g,y,S),v}if(h instanceof Error){const v=new h.constructor;return y.set(h,v),v.message=h.message,v.name=h.name,v.stack=h.stack,v.cause=h.cause,f(v,h,g,y,S),v}if(h instanceof Boolean){const v=new Boolean(h.valueOf());return y.set(h,v),f(v,h,g,y,S),v}if(h instanceof Number){const v=new Number(h.valueOf());return y.set(h,v),f(v,h,g,y,S),v}if(h instanceof String){const v=new String(h.valueOf());return y.set(h,v),f(v,h,g,y,S),v}if(typeof h=="object"&&d(h)){const v=Object.create(Object.getPrototypeOf(h));return y.set(h,v),f(v,h,g,y,S),v}return h}function f(h,m,g=h,y,S){const w=[...Object.keys(m),...e.getSymbols(m)];for(let v=0;v<w.length;v++){const _=w[v],A=Object.getOwnPropertyDescriptor(h,_);(A==null||A.writable)&&(h[_]=c(m[_],_,g,y,S))}}function d(h){switch(n.getTag(h)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=f})(iy)),iy}var I2;function D8(){return I2||(I2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w3();function n(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}t.cloneDeep=n})(ny)),ny}var j2;function L8(){return j2||(j2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b3(),n=D8();function i(r){return r=n.cloneDeep(r),o=>e.isMatch(o,r)}t.matches=i})(Kx)),Kx}var ly={},cy={},uy={},B2;function U8(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w3(),n=pS(),i=_3();function r(o,l){return e.cloneDeepWith(o,(c,f,d,h)=>{const m=l==null?void 0:l(c,f,d,h);if(m!==void 0)return m;if(typeof o=="object"){if(n.getTag(o)===i.objectTag&&typeof o.constructor!="function"){const g={};return h.set(o,g),e.copyProperties(g,o,d,h),g}switch(Object.prototype.toString.call(o)){case i.numberTag:case i.stringTag:case i.booleanTag:{const g=new o.constructor(o==null?void 0:o.valueOf());return e.copyProperties(g,o),g}case i.argumentsTag:{const g={};return e.copyProperties(g,o),g.length=o.length,g[Symbol.iterator]=o[Symbol.iterator],g}default:return}}})}t.cloneDeepWith=r})(uy)),uy}var F2;function k8(){return F2||(F2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U8();function n(i){return e.cloneDeepWith(i)}t.cloneDeep=n})(cy)),cy}var fy={},dy={},z2;function S3(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}t.isIndex=n})(dy)),dy}var hy={},H2;function I8(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pS();function n(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}t.isArguments=n})(hy)),hy}var G2;function j8(){return G2||(G2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u3(),n=S3(),i=I8(),r=cS();function o(l,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&e.isDeepKey(c)&&(l==null?void 0:l[c])==null?f=r.toPath(c):f=[c],f.length===0)return!1;let d=l;for(let h=0;h<f.length;h++){const m=f[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||i.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=o})(fy)),fy}var V2;function B8(){return V2||(V2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b3(),n=lS(),i=k8(),r=uS(),o=j8();function l(c,f){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return f=i.cloneDeep(f),function(d){const h=r.get(d,c);return h===void 0?o.has(d,c):f===void 0?h===void 0:e.isMatch(h,f)}}t.matchesProperty=l})(ly)),ly}var W2;function F8(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g3(),n=R8(),i=L8(),r=B8();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?r.matchesProperty(l[0],l[1]):i.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})($x)),$x}var q2;function z8(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E8(),n=M8(),i=g3(),r=C8(),o=F8();function l(c,f=i.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),n.ary(o.iteratee(f),1)):[]}t.uniqBy=l})(Fx)),Fx}var py,X2;function H8(){return X2||(X2=1,py=z8().uniqBy),py}var G8=H8();const $2=Ia(G8);function V8(t,e,n){return e===!0?$2(t,n):typeof e=="function"?$2(t,e):t}var my={exports:{}},gy={},vy={exports:{}},xy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2;function W8(){if(Y2)return xy;Y2=1;var t=su();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(m,g){var y=g(),S=i({inst:{value:y,getSnapshot:g}}),w=S[0].inst,v=S[1];return o(function(){w.value=y,w.getSnapshot=g,f(w)&&v({inst:w})},[m,y,g]),r(function(){return f(w)&&v({inst:w}),m(function(){f(w)&&v({inst:w})})},[m]),l(y),y}function f(m){var g=m.getSnapshot;m=m.value;try{var y=g();return!n(m,y)}catch{return!0}}function d(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return xy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,xy}var K2;function q8(){return K2||(K2=1,vy.exports=W8()),vy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function X8(){if(Z2)return gy;Z2=1;var t=su(),e=q8();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return gy.useSyncExternalStoreWithSelector=function(d,h,m,g,y){var S=o(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=c(function(){function _(O){if(!A){if(A=!0,T=O,O=g(O),y!==void 0&&w.hasValue){var D=w.value;if(y(D,O))return C=D}return C=O}if(D=C,i(T,O))return D;var z=g(O);return y!==void 0&&y(D,z)?(T=O,D):(T=O,C=z)}var A=!1,T,C,P=m===void 0?null:m;return[function(){return _(h())},P===null?void 0:function(){return _(P())}]},[h,m,g,y]);var v=r(d,S[0],S[1]);return l(function(){w.hasValue=!0,w.value=v},[v]),f(v),v},gy}var Q2;function $8(){return Q2||(Q2=1,my.exports=X8()),my.exports}var Y8=$8(),mS=M.createContext(null),K8=t=>t,Pn=()=>{var t=M.useContext(mS);return t?t.store.dispatch:K8},Wp=()=>{},Z8=()=>Wp,Q8=(t,e)=>t===e;function ot(t){var e=M.useContext(mS),n=M.useMemo(()=>e?i=>{if(i!=null)return t(i)}:Wp,[e,t]);return Y8.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Z8,e?e.store.getState:Wp,e?e.store.getState:Wp,n,Q8)}function J8(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function eH(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function tH(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var J2=t=>Array.isArray(t)?t:[t];function nH(t){const e=Array.isArray(t[0])?t[0]:t;return tH(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function iH(t,e){const n=[],{length:i}=t;for(let r=0;r<i;r++)n.push(t[r].apply(null,e));return n}var rH=class{constructor(t){this.value=t}deref(){return this.value}},aH=typeof WeakRef<"u"?WeakRef:rH,oH=0,eC=1;function Jh(){return{s:oH,v:void 0,o:null,p:null}}function E3(t,e={}){let n=Jh();const{resultEqualityCheck:i}=e;let r,o=0;function l(){var m;let c=n;const{length:f}=arguments;for(let g=0,y=f;g<y;g++){const S=arguments[g];if(typeof S=="function"||typeof S=="object"&&S!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const v=w.get(S);v===void 0?(c=Jh(),w.set(S,c)):c=v}else{let w=c.p;w===null&&(c.p=w=new Map);const v=w.get(S);v===void 0?(c=Jh(),w.set(S,c)):c=v}}const d=c;let h;if(c.s===eC)h=c.v;else if(h=t.apply(null,arguments),o++,i){const g=((m=r==null?void 0:r.deref)==null?void 0:m.call(r))??r;g!=null&&i(g,h)&&(h=g,o!==0&&o--),r=typeof h=="object"&&h!==null||typeof h=="function"?new aH(h):h}return d.s=eC,d.v=h,h}return l.clearCache=()=>{n=Jh(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function sH(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,i=(...r)=>{let o=0,l=0,c,f={},d=r.pop();typeof d=="object"&&(f=d,d=r.pop()),J8(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:m,memoizeOptions:g=[],argsMemoize:y=E3,argsMemoizeOptions:S=[]}=h,w=J2(g),v=J2(S),_=nH(r),A=m(function(){return o++,d.apply(null,arguments)},...w),T=y(function(){l++;const P=iH(_,arguments);return c=A.apply(null,P),c},...v);return Object.assign(T,{resultFunc:d,memoizedResultFunc:A,dependencies:_,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:y})};return Object.assign(i,{withTypes:()=>i}),i}var fe=sH(E3),lH=Object.assign((t,e=fe)=>{eH(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(o=>t[o]);return e(i,(...o)=>o.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>lH}),yy={},by={},_y={},tC;function cH(){return tC||(tC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,r,o)=>{if(i!==r){const l=e(i),c=e(r);if(l===c&&l===0){if(i<r)return o==="desc"?1:-1;if(i>r)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};t.compareValues=n})(_y)),_y}var wy={},Sy={},nC;function M3(){return nC||(nC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Sy)),Sy}var iC;function uH(){return iC||(iC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(i.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=r})(wy)),wy}var rC;function fH(){return rC||(rC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cH(),n=uH(),i=cS();function r(o,l,c,f){if(o==null)return[];c=f?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(y=>String(y));const d=(y,S)=>{let w=y;for(let v=0;v<S.length&&w!=null;++v)w=w[S[v]];return w},h=(y,S)=>S==null||y==null?S:typeof y=="object"&&"key"in y?Object.hasOwn(S,y.key)?S[y.key]:d(S,y.path):typeof y=="function"?y(S):Array.isArray(y)?d(S,y):typeof S=="object"?S[y]:S,m=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:i.toPath(y)}));return o.map(y=>({original:y,criteria:m.map(S=>h(S,y))})).slice().sort((y,S)=>{for(let w=0;w<m.length;w++){const v=e.compareValues(y.criteria[w],S.criteria[w],c[w]);if(v!==0)return v}return 0}).map(y=>y.original)}t.orderBy=r})(by)),by}var Ey={},aC;function dH(){return aC||(aC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i=1){const r=[],o=Math.floor(i),l=(c,f)=>{for(let d=0;d<c.length;d++){const h=c[d];Array.isArray(h)&&f<o?l(h,f+1):r.push(h)}};return l(n,0),r}t.flatten=e})(Ey)),Ey}var My={},oC;function A3(){return oC||(oC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S3(),n=hS(),i=v3(),r=y3();function o(l,c,f){return i.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&e.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?r.isEqualsSameValueZero(f[c],l):!1}t.isIterateeCall=o})(My)),My}var sC;function hH(){return sC||(sC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fH(),n=dH(),i=A3();function r(o,...l){const c=l.length;return c>1&&i.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&i.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=r})(yy)),yy}var Ay,lC;function pH(){return lC||(lC=1,Ay=hH().sortBy),Ay}var mH=pH();const wg=Ia(mH);var T3=t=>t.legend.settings,gH=t=>t.legend.size,vH=t=>t.legend.payload;fe([vH,T3],(t,e)=>{var{itemSorter:n}=e,i=t.flat(1);return n?wg(i,n):i});var ep=1;function xH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=M.useState({height:0,left:0,top:0,width:0}),i=M.useCallback(r=>{if(r!=null){var o=r.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>ep||Math.abs(l.left-e.left)>ep||Math.abs(l.top-e.top)>ep||Math.abs(l.width-e.width)>ep)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,i]}function gi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yH=typeof Symbol=="function"&&Symbol.observable||"@@observable",cC=yH,Ty=()=>Math.random().toString(36).substring(7).split("").join("."),bH={INIT:`@@redux/INIT${Ty()}`,REPLACE:`@@redux/REPLACE${Ty()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ty()}`},fm=bH;function gS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function C3(t,e,n){if(typeof t!="function")throw new Error(gi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(gi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(gi(1));return n(C3)(t,e)}let i=t,r=e,o=new Map,l=o,c=0,f=!1;function d(){l===o&&(l=new Map,o.forEach((v,_)=>{l.set(_,v)}))}function h(){if(f)throw new Error(gi(3));return r}function m(v){if(typeof v!="function")throw new Error(gi(4));if(f)throw new Error(gi(5));let _=!0;d();const A=c++;return l.set(A,v),function(){if(_){if(f)throw new Error(gi(6));_=!1,d(),l.delete(A),o=null}}}function g(v){if(!gS(v))throw new Error(gi(7));if(typeof v.type>"u")throw new Error(gi(8));if(typeof v.type!="string")throw new Error(gi(17));if(f)throw new Error(gi(9));try{f=!0,r=i(r,v)}finally{f=!1}return(o=l).forEach(A=>{A()}),v}function y(v){if(typeof v!="function")throw new Error(gi(10));i=v,g({type:fm.REPLACE})}function S(){const v=m;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(gi(11));function A(){const C=_;C.next&&C.next(h())}return A(),{unsubscribe:v(A)}},[cC](){return this}}}return g({type:fm.INIT}),{dispatch:g,subscribe:m,getState:h,replaceReducer:y,[cC]:S}}function _H(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:fm.INIT})>"u")throw new Error(gi(12));if(typeof n(void 0,{type:fm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gi(13))})}function R3(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const i=Object.keys(n);let r;try{_H(n)}catch(o){r=o}return function(l={},c){if(r)throw r;let f=!1;const d={};for(let h=0;h<i.length;h++){const m=i[h],g=n[m],y=l[m],S=g(y,c);if(typeof S>"u")throw c&&c.type,new Error(gi(14));d[m]=S,f=f||S!==y}return f=f||i.length!==Object.keys(l).length,f?d:l}}function dm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function wH(...t){return e=>(n,i)=>{const r=e(n,i);let o=()=>{throw new Error(gi(15))};const l={getState:r.getState,dispatch:(f,...d)=>o(f,...d)},c=t.map(f=>f(l));return o=dm(...c)(r.dispatch),{...r,dispatch:o}}}function N3(t){return gS(t)&&"type"in t&&typeof t.type=="string"}var O3=Symbol.for("immer-nothing"),uC=Symbol.for("immer-draftable"),Bi=Symbol.for("immer-state");function ta(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var pr=Object,Kc=pr.getPrototypeOf,hm="constructor",Sg="prototype",o_="configurable",pm="enumerable",qp="writable",qf="value",So=t=>!!t&&!!t[Bi];function ua(t){var e;return t?P3(t)||Mg(t)||!!t[uC]||!!((e=t[hm])!=null&&e[uC])||Ag(t)||Tg(t):!1}var SH=pr[Sg][hm].toString(),fC=new WeakMap;function P3(t){if(!t||!vS(t))return!1;const e=Kc(t);if(e===null||e===pr[Sg])return!0;const n=pr.hasOwnProperty.call(e,hm)&&e[hm];if(n===Object)return!0;if(!jc(n))return!1;let i=fC.get(n);return i===void 0&&(i=Function.toString.call(n),fC.set(n,i)),i===SH}function Eg(t,e,n=!0){bd(t)===0?(n?Reflect.ownKeys(t):pr.keys(t)).forEach(r=>{e(r,t[r],t)}):t.forEach((i,r)=>e(r,i,t))}function bd(t){const e=t[Bi];return e?e.type_:Mg(t)?1:Ag(t)?2:Tg(t)?3:0}var dC=(t,e,n=bd(t))=>n===2?t.has(e):pr[Sg].hasOwnProperty.call(t,e),s_=(t,e,n=bd(t))=>n===2?t.get(e):t[e],mm=(t,e,n,i=bd(t))=>{i===2?t.set(e,n):i===3?t.add(n):t[e]=n};function EH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Mg=Array.isArray,Ag=t=>t instanceof Map,Tg=t=>t instanceof Set,vS=t=>typeof t=="object",jc=t=>typeof t=="function",Cy=t=>typeof t=="boolean";function MH(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var uo=t=>t.copy_||t.base_,xS=t=>t.modified_?t.copy_:t.base_;function l_(t,e){if(Ag(t))return new Map(t);if(Tg(t))return new Set(t);if(Mg(t))return Array[Sg].slice.call(t);const n=P3(t);if(e===!0||e==="class_only"&&!n){const i=pr.getOwnPropertyDescriptors(t);delete i[Bi];let r=Reflect.ownKeys(i);for(let o=0;o<r.length;o++){const l=r[o],c=i[l];c[qp]===!1&&(c[qp]=!0,c[o_]=!0),(c.get||c.set)&&(i[l]={[o_]:!0,[qp]:!0,[pm]:c[pm],[qf]:t[l]})}return pr.create(Kc(t),i)}else{const i=Kc(t);if(i!==null&&n)return{...t};const r=pr.create(i);return pr.assign(r,t)}}function yS(t,e=!1){return Cg(t)||So(t)||!ua(t)||(bd(t)>1&&pr.defineProperties(t,{set:tp,add:tp,clear:tp,delete:tp}),pr.freeze(t),e&&Eg(t,(n,i)=>{yS(i,!0)},!1)),t}function AH(){ta(2)}var tp={[qf]:AH};function Cg(t){return t===null||!vS(t)?!0:pr.isFrozen(t)}var gm="MapSet",c_="Patches",hC="ArrayMethods",D3={};function El(t){const e=D3[t];return e||ta(0,t),e}var pC=t=>!!D3[t],Xf,L3=()=>Xf,TH=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:pC(gm)?El(gm):void 0,arrayMethodsPlugin_:pC(hC)?El(hC):void 0});function mC(t,e){e&&(t.patchPlugin_=El(c_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function u_(t){f_(t),t.drafts_.forEach(CH),t.drafts_=null}function f_(t){t===Xf&&(Xf=t.parent_)}var gC=t=>Xf=TH(Xf,t);function CH(t){const e=t[Bi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function vC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Bi].modified_&&(u_(e),ta(4)),ua(t)&&(t=xC(e,t));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(n[Bi].base_,t,e)}else t=xC(e,n);return RH(e,t,!0),u_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==O3?t:void 0}function xC(t,e){if(Cg(e))return e;const n=e[Bi];if(!n)return vm(e,t.handledSet_,t);if(!Rg(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:i}=n;if(i)for(;i.length>0;)i.pop()(t);I3(n,t)}return n.copy_}function RH(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&yS(e,n)}function U3(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Rg=(t,e)=>t.scope_===e,NH=[];function k3(t,e,n,i){const r=uo(t),o=t.type_;if(i!==void 0&&s_(r,i,o)===e){mm(r,i,n,o);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;Eg(r,(f,d)=>{if(So(d)){const h=c.get(d)||[];h.push(f),c.set(d,h)}})}const l=t.draftLocations_.get(e)??NH;for(const c of l)mm(r,c,n,o)}function OH(t,e,n){t.callbacks_.push(function(r){var c;const o=e;if(!o||!Rg(o,r))return;(c=r.mapSetPlugin_)==null||c.fixSetContents(o);const l=xS(o);k3(t,o.draft_??o,l,n),I3(o,r)})}function I3(t,e){var i;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((i=t.assigned_)==null?void 0:i.size)??0)>0)){const{patchPlugin_:r}=e;if(r){const o=r.getPath(t);o&&r.generatePatches_(t,o,e)}U3(t)}}function PH(t,e,n){const{scope_:i}=t;if(So(n)){const r=n[Bi];Rg(r,i)&&r.callbacks_.push(function(){Xp(t);const l=xS(r);k3(t,n,l,e)})}else ua(n)&&t.callbacks_.push(function(){const o=uo(t);t.type_===3?o.has(n)&&vm(n,i.handledSet_,i):s_(o,e,t.type_)===n&&i.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&vm(s_(t.copy_,e,t.type_),i.handledSet_,i)})}function vm(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||So(t)||e.has(t)||!ua(t)||Cg(t)||(e.add(t),Eg(t,(i,r)=>{if(So(r)){const o=r[Bi];if(Rg(o,n)){const l=xS(o);mm(t,i,l,t.type_),U3(o)}}else ua(r)&&vm(r,e,n)})),t}function DH(t,e){const n=Mg(t),i={type_:n?1:0,scope_:e?e.scope_:L3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,o=xm;n&&(r=[i],o=$f);const{revoke:l,proxy:c}=Proxy.revocable(r,o);return i.draft_=c,i.revoke_=l,[c,i]}var xm={get(t,e){if(e===Bi)return t;let n=t.scope_.arrayMethodsPlugin_;const i=t.type_===1&&typeof e=="string";if(i&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const r=uo(t);if(!dC(r,e,t.type_))return LH(t,r,e);const o=r[e];if(t.finalized_||!ua(o)||i&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&MH(e))return o;if(o===Ry(t.base_,e)){Xp(t);const l=t.type_===1?+e:e,c=h_(t.scope_,o,t,l);return t.copy_[l]=c}return o},has(t,e){return e in uo(t)},ownKeys(t){return Reflect.ownKeys(uo(t))},set(t,e,n){const i=j3(uo(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=Ry(uo(t),e),o=r==null?void 0:r[Bi];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(EH(n,r)&&(n!==void 0||dC(t.base_,e,t.type_)))return!0;Xp(t),d_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),PH(t,e,n)),!0},deleteProperty(t,e){return Xp(t),Ry(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),d_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=uo(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{[qp]:!0,[o_]:t.type_!==1||e!=="length",[pm]:i[pm],[qf]:n[e]}},defineProperty(){ta(11)},getPrototypeOf(t){return Kc(t.base_)},setPrototypeOf(){ta(12)}},$f={};for(let t in xm){let e=xm[t];$f[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}$f.deleteProperty=function(t,e){return $f.set.call(this,t,e,void 0)};$f.set=function(t,e,n){return xm.set.call(this,t[0],e,n,t[0])};function Ry(t,e){const n=t[Bi];return(n?uo(n):t)[e]}function LH(t,e,n){var r;const i=j3(e,n);return i?qf in i?i[qf]:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function j3(t,e){if(!(e in t))return;let n=Kc(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Kc(n)}}function d_(t){t.modified_||(t.modified_=!0,t.parent_&&d_(t.parent_))}function Xp(t){t.copy_||(t.assigned_=new Map,t.copy_=l_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var UH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,i,r)=>{if(jc(n)&&!jc(i)){const l=i;i=n;const c=this;return function(d=l,...h){return c.produce(d,m=>i.call(this,m,...h))}}jc(i)||ta(6),r!==void 0&&!jc(r)&&ta(7);let o;if(ua(n)){const l=gC(this),c=h_(l,n,void 0);let f=!0;try{o=i(c),f=!1}finally{f?u_(l):f_(l)}return mC(l,r),vC(o,l)}else if(!n||!vS(n)){if(o=i(n),o===void 0&&(o=n),o===O3&&(o=void 0),this.autoFreeze_&&yS(o,!0),r){const l=[],c=[];El(c_).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:c}),r(l,c)}return o}else ta(1,n)},this.produceWithPatches=(n,i)=>{if(jc(n))return(c,...f)=>this.produceWithPatches(c,d=>n(d,...f));let r,o;return[this.produce(n,i,(c,f)=>{r=c,o=f}),r,o]},Cy(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Cy(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Cy(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ua(e)||ta(8),So(e)&&(e=oa(e));const n=gC(this),i=h_(n,e,void 0);return i[Bi].isManual_=!0,f_(n),i}finishDraft(e,n){const i=e&&e[Bi];(!i||!i.isManual_)&&ta(9);const{scope_:r}=i;return mC(r,n),vC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let i;for(i=n.length-1;i>=0;i--){const o=n[i];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}i>-1&&(n=n.slice(i+1));const r=El(c_).applyPatches_;return So(e)?r(e,n):this.produce(e,o=>r(o,n))}};function h_(t,e,n,i){const[r,o]=Ag(e)?El(gm).proxyMap_(e,n):Tg(e)?El(gm).proxySet_(e,n):DH(e,n);return((n==null?void 0:n.scope_)??L3()).drafts_.push(r),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=i,n&&i!==void 0?OH(n,o,i):o.callbacks_.push(function(f){var h;(h=f.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:d}=f;o.modified_&&d&&d.generatePatches_(o,[],f)}),r}function oa(t){return So(t)||ta(10,t),B3(t)}function B3(t){if(!ua(t)||Cg(t))return t;const e=t[Bi];let n,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=l_(t,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else n=l_(t,!0);return Eg(n,(r,o)=>{mm(n,r,B3(o))},i),e&&(e.finalized_=!1),n}var kH=new UH,F3=kH.produce;function z3(t){return({dispatch:n,getState:i})=>r=>o=>typeof o=="function"?o(n,i,t):r(o)}var IH=z3(),jH=z3,BH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dm:dm.apply(null,arguments)};function Fr(t,e){function n(...i){if(e){let r=e(...i);if(!r)throw new Error(gr(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>N3(i)&&i.type===t,n}var H3=class If extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,If.prototype)}static get[Symbol.species](){return If}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new If(...e[0].concat(this)):new If(...e.concat(this))}};function yC(t){return ua(t)?F3(t,()=>{}):t}function np(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function FH(t){return typeof t=="boolean"}var zH=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:o=!0}=e??{};let l=new H3;return n&&(FH(n)?l.push(IH):l.push(jH(n.extraArgument))),l},G3="RTK_autoBatch",xn=()=>t=>({payload:t,meta:{[G3]:!0}}),bC=t=>e=>{setTimeout(e,t)},V3=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let r=!0,o=!1,l=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bC(10):t.type==="callback"?t.queueNotification:bC(t.timeout),d=()=>{l=!1,o&&(o=!1,c.forEach(h=>h()))};return Object.assign({},i,{subscribe(h){const m=()=>r&&h(),g=i.subscribe(m);return c.add(h),()=>{g(),c.delete(h)}},dispatch(h){var m;try{return r=!((m=h==null?void 0:h.meta)!=null&&m[G3]),o=!r,o&&(l||(l=!0,f(d))),i.dispatch(h)}finally{r=!0}}})},HH=t=>function(n){const{autoBatch:i=!0}=n??{};let r=new H3(t);return i&&r.push(V3(typeof i=="object"?i:void 0)),r};function GH(t){const e=zH(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(gS(n))c=R3(n);else throw new Error(gr(1));let f;typeof i=="function"?f=i(e):f=e();let d=dm;r&&(d=BH({trace:!1,...typeof r=="object"&&r}));const h=wH(...f),m=HH(h);let g=typeof l=="function"?l(m):m();const y=d(...g);return C3(c,o,y)}function W3(t){const e={},n=[];let i;const r={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(gr(28));if(c in e)throw new Error(gr(29));return e[c]=l,r},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),r},addMatcher(o,l){return n.push({matcher:o,reducer:l}),r},addDefaultCase(o){return i=o,r}};return t(r),[e,n,i]}function VH(t){return typeof t=="function"}function WH(t,e){let[n,i,r]=W3(e),o;if(VH(t))o=()=>yC(t());else{const c=yC(t);o=()=>c}function l(c=o(),f){let d=[n[f.type],...i.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[r]),d.reduce((h,m)=>{if(m)if(So(h)){const y=m(h,f);return y===void 0?h:y}else{if(ua(h))return F3(h,g=>m(g,f));{const g=m(h,f);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},c)}return l.getInitialState=o,l}var qH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",XH=(t=21)=>{let e="",n=t;for(;n--;)e+=qH[Math.random()*64|0];return e},$H=Symbol.for("rtk-slice-createasyncthunk");function YH(t,e){return`${t}/${e}`}function KH({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[$H];return function(r){const{name:o,reducerPath:l=o}=r;if(!o)throw new Error(gr(11));const c=(typeof r.reducers=="function"?r.reducers(QH()):r.reducers)||{},f=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,P){const O=typeof C=="string"?C:C.type;if(!O)throw new Error(gr(12));if(O in d.sliceCaseReducersByType)throw new Error(gr(13));return d.sliceCaseReducersByType[O]=P,h},addMatcher(C,P){return d.sliceMatchers.push({matcher:C,reducer:P}),h},exposeAction(C,P){return d.actionCreators[C]=P,h},exposeCaseReducer(C,P){return d.sliceCaseReducersByName[C]=P,h}};f.forEach(C=>{const P=c[C],O={reducerName:C,type:YH(o,C),createNotation:typeof r.reducers=="function"};eG(P)?nG(O,P,h,e):JH(O,P,h)});function m(){const[C={},P=[],O=void 0]=typeof r.extraReducers=="function"?W3(r.extraReducers):[r.extraReducers],D={...C,...d.sliceCaseReducersByType};return WH(r.initialState,z=>{for(let R in D)z.addCase(R,D[R]);for(let R of d.sliceMatchers)z.addMatcher(R.matcher,R.reducer);for(let R of P)z.addMatcher(R.matcher,R.reducer);O&&z.addDefaultCase(O)})}const g=C=>C,y=new Map,S=new WeakMap;let w;function v(C,P){return w||(w=m()),w(C,P)}function _(){return w||(w=m()),w.getInitialState()}function A(C,P=!1){function O(z){let R=z[C];return typeof R>"u"&&P&&(R=np(S,O,_)),R}function D(z=g){const R=np(y,P,()=>new WeakMap);return np(R,z,()=>{const U={};for(const[F,j]of Object.entries(r.selectors??{}))U[F]=ZH(j,z,()=>np(S,z,_),P);return U})}return{reducerPath:C,getSelectors:D,get selectors(){return D(O)},selectSlice:O}}const T={name:o,reducer:v,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...A(l),injectInto(C,{reducerPath:P,...O}={}){const D=P??l;return C.inject({reducerPath:D,reducer:v},O),{...T,...A(D,!0)}}};return T}}function ZH(t,e,n,i){function r(o,...l){let c=e(o);return typeof c>"u"&&i&&(c=n()),t(c,...l)}return r.unwrapped=t,r}var nr=KH();function QH(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function JH({type:t,reducerName:e,createNotation:n},i,r){let o,l;if("reducer"in i){if(n&&!tG(i))throw new Error(gr(17));o=i.reducer,l=i.prepare}else o=i;r.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?Fr(t,l):Fr(t))}function eG(t){return t._reducerDefinitionType==="asyncThunk"}function tG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function nG({type:t,reducerName:e},n,i,r){if(!r)throw new Error(gr(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:f,settled:d,options:h}=n,m=r(t,o,h);i.exposeAction(e,m),l&&i.addCase(m.fulfilled,l),c&&i.addCase(m.pending,c),f&&i.addCase(m.rejected,f),d&&i.addMatcher(m.settled,d),i.exposeCaseReducer(e,{fulfilled:l||ip,pending:c||ip,rejected:f||ip,settled:d||ip})}function ip(){}var iG="task",q3="listener",X3="completed",bS="cancelled",rG=`task-${bS}`,aG=`task-${X3}`,p_=`${q3}-${bS}`,oG=`${q3}-${X3}`,Ng=class{constructor(t){xx(this,"name","TaskAbortError");xx(this,"message");this.code=t,this.message=`${iG} ${bS} (reason: ${t})`}},_S=(t,e)=>{if(typeof t!="function")throw new TypeError(gr(32))},ym=()=>{},$3=(t,e=ym)=>(t.catch(e),t),Y3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),vl=t=>{if(t.aborted)throw new Ng(t.reason)};function K3(t,e){let n=ym;return new Promise((i,r)=>{const o=()=>r(new Ng(t.reason));if(t.aborted){o();return}n=Y3(t,o),e.finally(()=>n()).then(i,r)}).finally(()=>{n=ym})}var sG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Ng?"cancelled":"rejected",error:n}}finally{e==null||e()}},bm=t=>e=>$3(K3(t,e).then(n=>(vl(t),n))),Z3=t=>{const e=bm(t);return n=>e(new Promise(i=>setTimeout(i,n)))},{assign:Gc}=Object,_C={},Og="listenerMiddleware",lG=(t,e)=>{const n=i=>Y3(t,()=>i.abort(t.reason));return(i,r)=>{_S(i);const o=new AbortController;n(o);const l=sG(async()=>{vl(t),vl(o.signal);const c=await i({pause:bm(o.signal),delay:Z3(o.signal),signal:o.signal});return vl(o.signal),c},()=>o.abort(aG));return r!=null&&r.autoJoin&&e.push(l.catch(ym)),{result:bm(t)(l),cancel(){o.abort(rG)}}}},cG=(t,e)=>{const n=async(i,r)=>{vl(e);let o=()=>{};const c=[new Promise((f,d)=>{let h=t({predicate:i,effect:(m,g)=>{g.unsubscribe(),f([m,g.getState(),g.getOriginalState()])}});o=()=>{h(),d()}})];r!=null&&c.push(new Promise(f=>setTimeout(f,r,null)));try{const f=await K3(e,Promise.race(c));return vl(e),f}finally{o()}};return(i,r)=>$3(n(i,r))},Q3=t=>{let{type:e,actionCreator:n,matcher:i,predicate:r,effect:o}=t;if(e)r=Fr(e).match;else if(n)e=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(gr(21));return _S(o),{predicate:r,type:e,effect:o}},J3=Gc(t=>{const{type:e,predicate:n,effect:i}=Q3(t);return{id:XH(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(gr(22))}}},{withTypes:()=>J3}),wC=(t,e)=>{const{type:n,effect:i,predicate:r}=Q3(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===r)&&o.effect===i)},m_=t=>{t.pending.forEach(e=>{e.abort(p_)})},uG=(t,e)=>()=>{for(const n of e.keys())m_(n);t.clear()},SC=(t,e,n)=>{try{t(e,n)}catch(i){setTimeout(()=>{throw i},0)}},eL=Gc(Fr(`${Og}/add`),{withTypes:()=>eL}),fG=Fr(`${Og}/removeAll`),tL=Gc(Fr(`${Og}/remove`),{withTypes:()=>tL}),dG=(...t)=>{console.error(`${Og}/error`,...t)},_d=(t={})=>{const e=new Map,n=new Map,i=y=>{const S=n.get(y)??0;n.set(y,S+1)},r=y=>{const S=n.get(y)??1;S===1?n.delete(y):n.set(y,S-1)},{extra:o,onError:l=dG}=t;_S(l);const c=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),S=>{y.unsubscribe(),S!=null&&S.cancelActive&&m_(y)}),f=y=>{const S=wC(e,y)??J3(y);return c(S)};Gc(f,{withTypes:()=>f});const d=y=>{const S=wC(e,y);return S&&(S.unsubscribe(),y.cancelActive&&m_(S)),!!S};Gc(d,{withTypes:()=>d});const h=async(y,S,w,v)=>{const _=new AbortController,A=cG(f,_.signal),T=[];try{y.pending.add(_),i(y),await Promise.resolve(y.effect(S,Gc({},w,{getOriginalState:v,condition:(C,P)=>A(C,P).then(Boolean),take:A,delay:Z3(_.signal),pause:bm(_.signal),extra:o,signal:_.signal,fork:lG(_.signal,T),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((C,P,O)=>{C!==_&&(C.abort(p_),O.delete(C))})},cancel:()=>{_.abort(p_),y.pending.delete(_)},throwIfCancelled:()=>{vl(_.signal)}})))}catch(C){C instanceof Ng||SC(l,C,{raisedBy:"effect"})}finally{await Promise.all(T),_.abort(oG),r(y),y.pending.delete(_)}},m=uG(e,n);return{middleware:y=>S=>w=>{if(!N3(w))return S(w);if(eL.match(w))return f(w.payload);if(fG.match(w)){m();return}if(tL.match(w))return d(w.payload);let v=y.getState();const _=()=>{if(v===_C)throw new Error(gr(23));return v};let A;try{if(A=S(w),e.size>0){const T=y.getState(),C=Array.from(e.values());for(const P of C){let O=!1;try{O=P.predicate(w,T,v)}catch(D){O=!1,SC(l,D,{raisedBy:"predicate"})}O&&h(P,w,y,_)}}}finally{v=_C}return A},startListening:f,stopListening:d,clearListeners:m}};function gr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var hG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nL=nr({name:"chartLayout",initialState:hG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,i,r,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,t.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:pG,setLayout:mG,setChartSize:gG,setScale:vG}=nL.actions,xG=nL.reducer;function iL(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function At(t){return Number.isFinite(t)}function Pa(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(i){yG(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function yG(t,e,n){return(e=bG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bG(t){var e=_G(t,"string");return typeof e=="symbol"?e:e+""}function _G(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bn(t,e,n){return Cn(t)||Cn(e)?n:Oa(e)?Yc(t,e,n):typeof e=="function"?e(t):n}var wG=(t,e,n)=>{if(e&&n){var{width:i,height:r}=n,{align:o,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&qe(t[o]))return Bc(Bc({},t),{},{[o]:t[o]+(i||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&qe(t[l]))return Bc(Bc({},t),{},{[l]:t[l]+(r||0)})}return t},ja=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",rL=(t,e,n,i)=>{if(i)return t.map(c=>c.coordinate);var r,o,l=t.map(c=>(c.coordinate===e&&(r=!0),c.coordinate===n&&(o=!0),c.coordinate));return r||l.push(e),o||l.push(n),l},aL=(t,e,n)=>{if(!t)return null;var{duplicateDomain:i,type:r,range:o,scale:l,realScaleType:c,isCategorical:f,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:g,axisType:y}=t;if(!l)return null;var S=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=r==="category"&&l.bandwidth?l.bandwidth()/S:0;if(w=y==="angleAxis"&&o&&o.length>=2?Ki(o[0]-o[1])*2*w:w,m||g){var v=(m||g||[]).map((_,A)=>{var T=i?i.indexOf(_):_,C=l.map(T);return At(C)?{coordinate:C+w,value:_,offset:w,index:A}:null}).filter(Zi);return v}return f&&d?d.map((_,A)=>{var T=l.map(_);return At(T)?{coordinate:T+w,value:_,index:A,offset:w}:null}).filter(Zi):l.ticks&&h!=null?l.ticks(h).map((_,A)=>{var T=l.map(_);return At(T)?{coordinate:T+w,value:_,index:A,offset:w}:null}).filter(Zi):l.domain().map((_,A)=>{var T=l.map(_);return At(T)?{coordinate:T+w,value:i?i[_]:_,index:A,offset:w}:null}).filter(Zi)},SG=(t,e)=>{if(!e||e.length!==2||!qe(e[0])||!qe(e[1]))return t;var n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),r=[t[0],t[1]];return(!qe(t[0])||t[0]<n)&&(r[0]=n),(!qe(t[1])||t[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<n&&(r[1]=n),r},EG=t=>{var e,n=t.length;if(!(n<=0)){var i=(e=t[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var o=0,l=0,c=0;c<n;++c){var f=t[c],d=f==null?void 0:f[r];if(d!=null){var h=d[1],m=d[0],g=la(h)?m:h;g>=0?(d[0]=o,o+=g,d[1]=o):(d[0]=l,l+=g,d[1]=l)}}}},MG=t=>{var e,n=t.length;if(!(n<=0)){var i=(e=t[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var o=0,l=0;l<n;++l){var c=t[l],f=c==null?void 0:c[r];if(f!=null){var d=la(f[1])?f[0]:f[1];d>=0?(f[0]=o,o+=d,f[1]=o):(f[0]=0,f[1]=0)}}}},AG={sign:EG,expand:e8,none:wl,silhouette:t8,wiggle:n8,positive:MG},TG=(t,e,n)=>{var i,r=(i=AG[n])!==null&&i!==void 0?i:wl,o=J6().keys(e).value((c,f)=>Number(Bn(c,f,0))).order(r_).offset(r),l=o(t);return l.forEach((c,f)=>{c.forEach((d,h)=>{var m=Bn(t[h],e[f],0);Array.isArray(m)&&m.length===2&&qe(m[0])&&qe(m[1])&&(d[0]=m[0],d[1]=m[1])})}),l};function oL(t){return t==null?void 0:String(t)}function MC(t){var{axis:e,ticks:n,bandSize:i,entry:r,index:o,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Cn(r[e.dataKey])){var c=d3(n,"value",r[e.dataKey]);if(c)return c.coordinate+i/2}return n!=null&&n[o]?n[o].coordinate+i/2:null}var f=Bn(r,Cn(l)?e.dataKey:l),d=e.scale.map(f);return qe(d)?d:null}var AC=t=>{var{axis:e,ticks:n,offset:i,bandSize:r,entry:o,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+i:null;var c=Bn(o,e.dataKey,e.scale.domain()[l]);if(Cn(c))return null;var f=e.scale.map(c);return qe(f)?f-r/2+i:null},CG=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var i=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);return i<=0&&r>=0?0:r<0?r:i}return n[0]},RG=t=>{var e=t.flat(2).filter(qe);return[Math.min(...e),Math.max(...e)]},NG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],OG=(t,e,n)=>{if(t!=null)return NG(Object.keys(t).reduce((i,r)=>{var o=t[r];if(!o)return i;var{stackedData:l}=o,c=l.reduce((f,d)=>{var h=iL(d,e,n),m=RG(h);return!At(m[0])||!At(m[1])?f:[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]))},TC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zc=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&e&&e.length>=2){for(var r=wg(e,h=>h.coordinate),o=1/0,l=1,c=r.length;l<c;l++){var f=r[l],d=r[l-1];o=Math.min(((f==null?void 0:f.coordinate)||0)-((d==null?void 0:d.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function RC(t){var{tooltipEntrySettings:e,dataKey:n,payload:i,value:r,name:o}=t;return Bc(Bc({},e),{},{dataKey:n,payload:i,value:r,name:o})}function Pg(t,e){if(t)return String(t);if(typeof e=="string")return e}var PG=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},DG=(t,e)=>e==="centric"?t.angle:t.radius,Do=t=>t.layout.width,Lo=t=>t.layout.height,LG=t=>t.layout.scale,sL=t=>t.layout.margin,Dg=fe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Lg=fe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),UG="data-recharts-item-index",kG="data-recharts-item-id",wd=60;function NC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(n),!0).forEach(function(i){IG(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function IG(t,e,n){return(e=jG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jG(t){var e=BG(t,"string");return typeof e=="symbol"?e:e+""}function BG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FG=t=>t.brush.height;function zG(t){var e=Lg(t);return e.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:wd;return n+r}return n},0)}function HG(t){var e=Lg(t);return e.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:wd;return n+r}return n},0)}function GG(t){var e=Dg(t);return e.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function VG(t){var e=Dg(t);return e.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var ni=fe([Do,Lo,sL,FG,zG,HG,GG,VG,T3,gH],(t,e,n,i,r,o,l,c,f,d)=>{var h={left:(n.left||0)+r,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+c},g=rp(rp({},m),h),y=g.bottom;g.bottom+=i,g=wG(g,f,d);var S=t-g.left-g.right,w=e-g.top-g.bottom;return rp(rp({brushBottom:y},g),{},{width:Math.max(S,0),height:Math.max(w,0)})}),WG=fe(ni,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),wS=fe(Do,Lo,(t,e)=>({x:0,y:0,width:t,height:e})),qG=M.createContext(null),Ri=()=>M.useContext(qG)!=null,Ug=t=>t.brush,kg=fe([Ug,ni,sL],(t,e,n)=>({height:t.height,x:qe(t.x)?t.x:e.left,y:qe(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:qe(t.width)?t.width:e.width})),Ny={},Oy={},Py={},OC;function XG(){return OC||(OC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i,{signal:r,edges:o}={}){let l,c=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},m=()=>{d&&h(),w()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},i)},S=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{S(),l=void 0,c=null},v=()=>{h()},_=function(...A){if(r!=null&&r.aborted)return;l=this,c=A;const T=g==null;y(),f&&T&&h()};return _.schedule=y,_.cancel=w,_.flush=v,r==null||r.addEventListener("abort",w,{once:!0}),_}t.debounce=e})(Py)),Py}var PC;function $G(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XG();function n(i,r=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:f}=o,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let h,m=null;const g=e.debounce(function(...w){h=i.apply(this,w),m=null},r,{edges:d}),y=function(...w){return f!=null&&(m===null&&(m=Date.now()),Date.now()-m>=f)?(h=i.apply(this,w),m=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,w),h)},S=()=>(g.flush(),h);return y.cancel=g.cancel,y.flush=S,y}t.debounce=n})(Oy)),Oy}var DC;function YG(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$G();function n(i,r=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return e.debounce(i,r,{leading:l,maxWait:r,trailing:c})}t.throttle=n})(Ny)),Ny}var Dy,LC;function KG(){return LC||(LC=1,Dy=YG().throttle),Dy}var ZG=KG();const QG=Ia(ZG);var _m=function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>r[l++]))}},Ea={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},lL=(t,e,n)=>{var{width:i=Ea.width,height:r=Ea.height,aspect:o,maxHeight:l}=n,c=Sl(i)?t:Number(i),f=Sl(r)?e:Number(r);return o&&o>0&&(c?f=c/o:f&&(c=f*o),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:c,calculatedHeight:f}},JG={width:0,height:0,overflow:"visible"},eV={width:0,overflowX:"visible"},tV={height:0,overflowY:"visible"},nV={},iV=t=>{var{width:e,height:n}=t,i=Sl(e),r=Sl(n);return i&&r?JG:i?eV:r?tV:nV};function rV(t){var{width:e,height:n,aspect:i}=t,r=e,o=n;return r===void 0&&o===void 0?(r=Ea.width,o=Ea.height):r===void 0?r=i&&i>0?void 0:Ea.width:o===void 0&&(o=i&&i>0?void 0:Ea.height),{width:r,height:o}}function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g_.apply(null,arguments)}function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function kC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(i){aV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function aV(t,e,n){return(e=oV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oV(t){var e=sV(t,"string");return typeof e=="symbol"?e:e+""}function sV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cL=M.createContext(Ea.initialDimension);function lV(t){return Pa(t.width)&&Pa(t.height)}function uL(t){var{children:e,width:n,height:i}=t,r=M.useMemo(()=>({width:n,height:i}),[n,i]);return lV(r)?M.createElement(cL.Provider,{value:r},e):null}var SS=()=>M.useContext(cL),cV=M.forwardRef((t,e)=>{var{aspect:n,initialDimension:i=Ea.initialDimension,width:r,height:o,minWidth:l=Ea.minWidth,minHeight:c,maxHeight:f,children:d,debounce:h=Ea.debounce,id:m,className:g,onResize:y,style:S={}}=t,w=M.useRef(null),v=M.useRef();v.current=y,M.useImperativeHandle(e,()=>w.current);var[_,A]=M.useState({containerWidth:i.width,containerHeight:i.height}),T=M.useCallback((z,R)=>{A(U=>{var F=Math.round(z),j=Math.round(R);return U.containerWidth===F&&U.containerHeight===j?U:{containerWidth:F,containerHeight:j}})},[]);M.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Dl;var z=j=>{var W,$=j[0];if($!=null){var{width:Q,height:B}=$.contentRect;T(Q,B),(W=v.current)===null||W===void 0||W.call(v,Q,B)}};h>0&&(z=QG(z,h,{trailing:!0,leading:!1}));var R=new ResizeObserver(z),{width:U,height:F}=w.current.getBoundingClientRect();return T(U,F),R.observe(w.current),()=>{R.disconnect()}},[T,h]);var{containerWidth:C,containerHeight:P}=_;_m(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:D}=lL(C,P,{width:r,height:o,aspect:n,maxHeight:f});return _m(O!=null&&O>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,D,r,o,l,c,n),M.createElement("div",{id:m?"".concat(m):void 0,className:sn("recharts-responsive-container",g),style:kC(kC({},S),{},{width:r,height:o,minWidth:l,minHeight:c,maxHeight:f}),ref:w},M.createElement("div",{style:iV({width:r,height:o})},M.createElement(uL,{width:O,height:D},d)))}),wm=M.forwardRef((t,e)=>{var n=SS();if(Pa(n.width)&&Pa(n.height))return t.children;var{width:i,height:r}=rV({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:l}=lL(void 0,void 0,{width:i,height:r,aspect:t.aspect,maxHeight:t.maxHeight});return qe(o)&&qe(l)?M.createElement(uL,{width:o,height:l},t.children):M.createElement(cV,g_({},t,{width:i,height:r,ref:e}))});function ES(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Ig=()=>{var t,e=Ri(),n=ot(WG),i=ot(kg),r=(t=ot(Ug))===null||t===void 0?void 0:t.padding;return!e||!i||!r?n:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},uV={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fL=()=>{var t;return(t=ot(ni))!==null&&t!==void 0?t:uV},dL=()=>ot(Do),hL=()=>ot(Lo),Xt=t=>t.layout.layoutType,Ll=()=>ot(Xt),MS=()=>{var t=Ll();if(t==="horizontal"||t==="vertical")return t},pL=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},fV=()=>{var t=Ll();return t!==void 0},Sd=t=>{var e=Pn(),n=Ri(),{width:i,height:r}=t,o=SS(),l=i,c=r;return o&&(l=o.width>0?o.width:i,c=o.height>0?o.height:r),M.useEffect(()=>{!n&&Pa(l)&&Pa(c)&&e(gG({width:l,height:c}))},[e,n,l,c]),null},mL=Symbol.for("immer-nothing"),IC=Symbol.for("immer-draftable"),xr=Symbol.for("immer-state");function na(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Yf=Object.getPrototypeOf;function Qc(t){return!!t&&!!t[xr]}function Ml(t){var e;return t?gL(t)||Array.isArray(t)||!!t[IC]||!!((e=t.constructor)!=null&&e[IC])||Ed(t)||Bg(t):!1}var dV=Object.prototype.constructor.toString(),jC=new WeakMap;function gL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let i=jC.get(n);return i===void 0&&(i=Function.toString.call(n),jC.set(n,i)),i===dV}function Sm(t,e,n=!0){jg(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(r=>{e(r,t[r],t)}):t.forEach((i,r)=>e(r,i,t))}function jg(t){const e=t[xr];return e?e.type_:Array.isArray(t)?1:Ed(t)?2:Bg(t)?3:0}function v_(t,e){return jg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function vL(t,e,n){const i=jg(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function hV(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ed(t){return t instanceof Map}function Bg(t){return t instanceof Set}function al(t){return t.copy_||t.base_}function x_(t,e){if(Ed(t))return new Map(t);if(Bg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=gL(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[xr];let r=Reflect.ownKeys(i);for(let o=0;o<r.length;o++){const l=r[o],c=i[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Yf(t),i)}else{const i=Yf(t);if(i!==null&&n)return{...t};const r=Object.create(i);return Object.assign(r,t)}}function AS(t,e=!1){return Fg(t)||Qc(t)||!Ml(t)||(jg(t)>1&&Object.defineProperties(t,{set:ap,add:ap,clear:ap,delete:ap}),Object.freeze(t),e&&Object.values(t).forEach(n=>AS(n,!0))),t}function pV(){na(2)}var ap={value:pV};function Fg(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var mV={};function Al(t){const e=mV[t];return e||na(0,t),e}var Kf;function xL(){return Kf}function gV(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function BC(t,e){e&&(Al("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function y_(t){b_(t),t.drafts_.forEach(vV),t.drafts_=null}function b_(t){t===Kf&&(Kf=t.parent_)}function FC(t){return Kf=gV(Kf,t)}function vV(t){const e=t[xr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function zC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[xr].modified_&&(y_(e),na(4)),Ml(t)&&(t=Em(e,t),e.parent_||Mm(e,t)),e.patches_&&Al("Patches").generateReplacementPatches_(n[xr].base_,t,e.patches_,e.inversePatches_)):t=Em(e,n,[]),y_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==mL?t:void 0}function Em(t,e,n){if(Fg(e))return e;const i=t.immer_.shouldUseStrictIteration(),r=e[xr];if(!r)return Sm(e,(o,l)=>HC(t,r,e,o,l,n),i),e;if(r.scope_!==t)return e;if(!r.modified_)return Mm(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let l=o,c=!1;r.type_===3&&(l=new Set(o),o.clear(),c=!0),Sm(l,(f,d)=>HC(t,r,o,f,d,n,c),i),Mm(t,o,!1),n&&t.patches_&&Al("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function HC(t,e,n,i,r,o,l){if(r==null||typeof r!="object"&&!l)return;const c=Fg(r);if(!(c&&!l)){if(Qc(r)){const f=o&&e&&e.type_!==3&&!v_(e.assigned_,i)?o.concat(i):void 0,d=Em(t,r,f);if(vL(n,i,d),Qc(d))t.canAutoFreeze_=!1;else return}else l&&n.add(r);if(Ml(r)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&c)return;Em(t,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(Ed(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&Mm(t,r)}}}function Mm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&AS(e,n)}function xV(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:xL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,o=TS;n&&(r=[i],o=Zf);const{revoke:l,proxy:c}=Proxy.revocable(r,o);return i.draft_=c,i.revoke_=l,c}var TS={get(t,e){if(e===xr)return t;const n=al(t);if(!v_(n,e))return yV(t,n,e);const i=n[e];return t.finalized_||!Ml(i)?i:i===Ly(t.base_,e)?(Uy(t),t.copy_[e]=w_(i,t)):i},has(t,e){return e in al(t)},ownKeys(t){return Reflect.ownKeys(al(t))},set(t,e,n){const i=yL(al(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=Ly(al(t),e),o=r==null?void 0:r[xr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(hV(n,r)&&(n!==void 0||v_(t.base_,e)))return!0;Uy(t),__(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ly(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Uy(t),__(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=al(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){na(11)},getPrototypeOf(t){return Yf(t.base_)},setPrototypeOf(){na(12)}},Zf={};Sm(TS,(t,e)=>{Zf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Zf.deleteProperty=function(t,e){return Zf.set.call(this,t,e,void 0)};Zf.set=function(t,e,n){return TS.set.call(this,t[0],e,n,t[0])};function Ly(t,e){const n=t[xr];return(n?al(n):t)[e]}function yV(t,e,n){var r;const i=yL(e,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function yL(t,e){if(!(e in t))return;let n=Yf(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Yf(n)}}function __(t){t.modified_||(t.modified_=!0,t.parent_&&__(t.parent_))}function Uy(t){t.copy_||(t.copy_=x_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var bV=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(f=o,...d){return l.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&na(6),i!==void 0&&typeof i!="function"&&na(7);let r;if(Ml(e)){const o=FC(this),l=w_(e,void 0);let c=!0;try{r=n(l),c=!1}finally{c?y_(o):b_(o)}return BC(o,i),zC(r,o)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===mL&&(r=void 0),this.autoFreeze_&&AS(r,!0),i){const o=[],l=[];Al("Patches").generateReplacementPatches_(e,r,o,l),i(o,l)}return r}else na(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,f=>e(f,...c));let i,r;return[this.produce(e,n,(l,c)=>{i=l,r=c}),i,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ml(t)||na(8),Qc(t)&&(t=_V(t));const e=FC(this),n=w_(t,void 0);return n[xr].isManual_=!0,b_(e),n}finishDraft(t,e){const n=t&&t[xr];(!n||!n.isManual_)&&na(9);const{scope_:i}=n;return BC(i,e),zC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const i=Al("Patches").applyPatches_;return Qc(t)?i(t,e):this.produce(t,r=>i(r,e))}};function w_(t,e){const n=Ed(t)?Al("MapSet").proxyMap_(t,e):Bg(t)?Al("MapSet").proxySet_(t,e):xV(t,e);return(e?e.scope_:xL()).drafts_.push(n),n}function _V(t){return Qc(t)||na(10,t),bL(t)}function bL(t){if(!Ml(t)||Fg(t))return t;const e=t[xr];let n,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=x_(t,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else n=x_(t,!0);return Sm(n,(r,o)=>{vL(n,r,bL(o))},i),e&&(e.finalized_=!1),n}var wV=new bV;wV.produce;var SV={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},_L=nr({name:"legend",initialState:SV,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:xn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:i}=e.payload,r=oa(t).payload.indexOf(n);r>-1&&(t.payload[r]=i)},prepare:xn()},removeLegendPayload:{reducer(t,e){var n=oa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:xn()}}}),{setLegendSize:Hce,setLegendSettings:Gce,addLegendPayload:EV,replaceLegendPayload:MV,removeLegendPayload:AV}=_L.actions,TV=_L.reducer;function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},S_.apply(null,arguments)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(i){CV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function CV(t,e,n){return(e=RV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RV(t){var e=NV(t,"string");return typeof e=="symbol"?e:e+""}function NV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OV(t){return Array.isArray(t)&&Oa(t[0])&&Oa(t[1])?t.join(" ~ "):t}var bc={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},PV=t=>{var{separator:e=bc.separator,contentStyle:n,itemStyle:i,labelStyle:r=bc.labelStyle,payload:o,formatter:l,itemSorter:c,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:g=bc.accessibilityLayer}=t,y=()=>{if(o&&o.length){var P={padding:0,margin:0},O=(c?wg(o,c):o).map((D,z)=>{if(D.type==="none")return null;var R=D.formatter||l||OV,{value:U,name:F}=D,j=U,W=F;if(R){var $=R(U,F,D,z,o);if(Array.isArray($))[j,W]=$;else if($!=null)j=$;else return null}var Q=bf(bf({},bc.itemStyle),{},{color:D.color||bc.itemStyle.color},i);return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:Q},Oa(W)?M.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Oa(W)?M.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,M.createElement("span",{className:"recharts-tooltip-item-value"},j),M.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},S=bf(bf({},bc.contentStyle),n),w=bf({margin:0},r),v=!Cn(h),_=v?h:"",A=sn("recharts-default-tooltip",f),T=sn("recharts-tooltip-label",d);v&&m&&o!==void 0&&o!==null&&(_=m(h,o));var C=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",S_({className:A,style:S},C),M.createElement("p",{className:T,style:w},M.isValidElement(_)?_:"".concat(_)),y())},_f="recharts-tooltip-wrapper",DV={visibility:"hidden"};function LV(t){var{coordinate:e,translateX:n,translateY:i}=t;return sn(_f,{["".concat(_f,"-right")]:qe(n)&&e&&qe(e.x)&&n>=e.x,["".concat(_f,"-left")]:qe(n)&&e&&qe(e.x)&&n<e.x,["".concat(_f,"-bottom")]:qe(i)&&e&&qe(e.y)&&i>=e.y,["".concat(_f,"-top")]:qe(i)&&e&&qe(e.y)&&i<e.y})}function VC(t){var{allowEscapeViewBox:e,coordinate:n,key:i,offset:r,position:o,reverseDirection:l,tooltipDimension:c,viewBox:f,viewBoxDimension:d}=t;if(o&&qe(o[i]))return o[i];var h=n[i]-c-(r>0?r:0),m=n[i]+r;if(e[i])return l[i]?h:m;var g=f[i];if(g==null)return 0;if(l[i]){var y=h,S=g;return y<S?Math.max(m,g):Math.max(h,g)}if(d==null)return 0;var w=m+c,v=g+d;return w>v?Math.max(h,g):Math.max(m,g)}function UV(t){var{translateX:e,translateY:n,useTranslate3d:i}=t;return{transform:i?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function kV(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:i,offsetLeft:r,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:f,viewBox:d}=t,h,m,g;return c.height>0&&c.width>0&&n?(m=VC({allowEscapeViewBox:e,coordinate:n,key:"x",offset:r,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),g=VC({allowEscapeViewBox:e,coordinate:n,key:"y",offset:i,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),h=UV({translateX:m,translateY:g,useTranslate3d:f})):h=DV,{cssProperties:h,cssClasses:LV({translateX:m,translateY:g,coordinate:n})}}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(i){E_(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function E_(t,e,n){return(e=IV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IV(t){var e=jV(t,"string");return typeof e=="symbol"?e:e+""}function jV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class BV extends M.PureComponent{constructor(){super(...arguments),E_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),E_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,i,r,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(r=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:i,animationEasing:r,children:o,coordinate:l,hasPayload:c,isAnimationActive:f,offset:d,position:h,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:S,lastBoundingBox:w,innerRef:v,hasPortalFromProps:_}=this.props,A=typeof d=="number"?d:d.x,T=typeof d=="number"?d:d.y,{cssClasses:C,cssProperties:P}=kV({allowEscapeViewBox:n,coordinate:l,offsetLeft:A,offsetTop:T,position:h,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:y}),O=_?{}:op(op({transition:f&&e?"transform ".concat(i,"ms ").concat(r):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),D=op(op({},O),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},S);return M.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:D,ref:v},o)}}var wL=()=>{var t;return(t=ot(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},M_.apply(null,arguments)}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function XC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(i){FV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function FV(t,e,n){return(e=zV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zV(t){var e=HV(t,"string");return typeof e=="symbol"?e:e+""}function HV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $C={curveBasisClosed:H6,curveBasisOpen:G6,curveBasis:z6,curveBumpX:T6,curveBumpY:C6,curveLinearClosed:V6,curveLinear:bg,curveMonotoneX:W6,curveMonotoneY:q6,curveNatural:X6,curveStep:$6,curveStepAfter:K6,curveStepBefore:Y6},Am=t=>At(t.x)&&At(t.y),YC=t=>t.base!=null&&Am(t.base)&&Am(t),wf=t=>t.x,Sf=t=>t.y,GV=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(yd(t));if((n==="curveMonotone"||n==="curveBump")&&e){var i=$C["".concat(n).concat(e==="vertical"?"Y":"X")];if(i)return i}return $C[n]||bg},KC={connectNulls:!1,type:"linear"},VV=t=>{var{type:e=KC.type,points:n=[],baseLine:i,layout:r,connectNulls:o=KC.connectNulls}=t,l=GV(e,r),c=o?n.filter(Am):n;if(Array.isArray(i)){var f,d=n.map((S,w)=>XC(XC({},S),{},{base:i[w]}));r==="vertical"?f=Qh().y(Sf).x1(wf).x0(S=>S.base.x):f=Qh().x(wf).y1(Sf).y0(S=>S.base.y);var h=f.defined(YC).curve(l),m=o?d.filter(YC):d;return h(m)}var g;r==="vertical"&&qe(i)?g=Qh().y(Sf).x1(wf).x0(i):qe(i)?g=Qh().x(wf).y1(Sf).y0(i):g=JD().x(wf).y(Sf);var y=g.defined(Am).curve(l);return y(c)},Hf=t=>{var{className:e,points:n,path:i,pathRef:r}=t,o=Ll();if((!n||!n.length)&&!i)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||o,connectNulls:t.connectNulls},c=n&&n.length?VV(l):i;return M.createElement("path",M_({},Br(t),fS(t),{className:sn("recharts-curve",e),d:c===null?void 0:c,ref:r}))},WV=["x","y","top","left","width","height","className"];function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},A_.apply(null,arguments)}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function qV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(i){XV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function XV(t,e,n){return(e=$V(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $V(t){var e=YV(t,"string");return typeof e=="symbol"?e:e+""}function YV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KV(t,e){if(t==null)return{};var n,i,r=ZV(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZV(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var QV=(t,e,n,i,r,o)=>"M".concat(t,",").concat(r,"v").concat(i,"M").concat(o,",").concat(e,"h").concat(n),JV=t=>{var{x:e=0,y:n=0,top:i=0,left:r=0,width:o=0,height:l=0,className:c}=t,f=KV(t,WV),d=qV({x:e,y:n,top:i,left:r,width:o,height:l},f);return!qe(e)||!qe(n)||!qe(o)||!qe(l)||!qe(i)||!qe(r)?null:M.createElement("path",A_({},Ii(d),{className:sn("recharts-cross",c),d:QV(e,n,o,l,i,r)}))};function e9(t,e,n,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-r:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-r,width:t==="horizontal"?i:n.width-1,height:t==="horizontal"?n.height-1:i}}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function JC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(i){t9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function t9(t,e,n){return(e=n9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9(t){var e=i9(t,"string");return typeof e=="symbol"?e:e+""}function i9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r9=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),SL=(t,e,n)=>t.map(i=>"".concat(r9(i)," ").concat(e,"ms ").concat(n)).join(","),a9=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,i)=>n.filter(r=>i.includes(r))),Qf=(t,e)=>Object.keys(e).reduce((n,i)=>JC(JC({},n),{},{[i]:t(i,e[i])}),{});function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(i){o9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function o9(t,e,n){return(e=s9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=l9(t,"string");return typeof e=="symbol"?e:e+""}function l9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tm=(t,e,n)=>t+(e-t)*n,T_=t=>{var{from:e,to:n}=t;return e!==n},EL=(t,e,n)=>{var i=Qf((r,o)=>{if(T_(o)){var[l,c]=t(o.from,o.to,o.velocity);return Vn(Vn({},o),{},{from:l,velocity:c})}return o},e);return n<1?Qf((r,o)=>T_(o)&&i[r]!=null?Vn(Vn({},o),{},{velocity:Tm(o.velocity,i[r].velocity,n),from:Tm(o.from,i[r].from,n)}):o,e):EL(t,i,n-1)};function c9(t,e,n,i,r,o){var l,c=i.reduce((g,y)=>Vn(Vn({},g),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),f=()=>Qf((g,y)=>y.from,c),d=()=>!Object.values(c).filter(T_).length,h=null,m=g=>{l||(l=g);var y=g-l,S=y/n.dt;c=EL(n,c,S),r(Vn(Vn(Vn({},t),e),f())),l=g,d()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{var g;(g=h)===null||g===void 0||g()})}function u9(t,e,n,i,r,o,l){var c=null,f=r.reduce((m,g)=>{var y=t[g],S=e[g];return y==null||S==null?m:Vn(Vn({},m),{},{[g]:[y,S]})},{}),d,h=m=>{d||(d=m);var g=(m-d)/i,y=Qf((w,v)=>Tm(...v,n(g)),f);if(o(Vn(Vn(Vn({},t),e),y)),g<1)c=l.setTimeout(h);else{var S=Qf((w,v)=>Tm(...v,n(1)),f);o(Vn(Vn(Vn({},t),e),S))}};return()=>(c=l.setTimeout(h),()=>{var m;(m=c)===null||m===void 0||m()})}const f9=(t,e,n,i,r,o)=>{var l=a9(t,e);return n==null?()=>(r(Vn(Vn({},t),e)),()=>{}):n.isStepper===!0?c9(t,e,n,l,r,o):u9(t,e,n,i,l,r,o)};var Cm=1e-4,ML=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],AL=(t,e)=>t.map((n,i)=>n*e**i).reduce((n,i)=>n+i),tR=(t,e)=>n=>{var i=ML(t,e);return AL(i,n)},d9=(t,e)=>n=>{var i=ML(t,e),r=[...i.map((o,l)=>o*l).slice(1),0];return AL(r,n)},h9=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var i=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(i==null||i.length!==4)return null;var r=i.map(o=>parseFloat(o));return[r[0],r[1],r[2],r[3]]},p9=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=h9(n[0]);if(r)return r}}return n.length===4?n:[0,0,1,1]},m9=(t,e,n,i)=>{var r=tR(t,n),o=tR(e,i),l=d9(t,n),c=d=>d>1?1:d<0?0:d,f=d=>{for(var h=d>1?1:d,m=h,g=0;g<8;++g){var y=r(m)-h,S=l(m);if(Math.abs(y-h)<Cm||S<Cm)return o(m);m=c(m-y/S)}return o(m)};return f.isStepper=!1,f},nR=function(){return m9(...p9(...arguments))},g9=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:r=17}=e,o=(l,c,f)=>{var d=-(l-c)*n,h=f*i,m=f+(d-h)*r/1e3,g=f*r/1e3+l;return Math.abs(g-c)<Cm&&Math.abs(m)<Cm?[c,0]:[g,m]};return o.isStepper=!0,o.dt=r,o},v9=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nR(t);case"spring":return g9();default:if(t.split("(")[0]==="cubic-bezier")return nR(t)}return typeof t=="function"?t:null};function x9(t){var e,n=()=>null,i=!1,r=null,o=l=>{if(!i){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...d]=c;if(typeof f=="number"){r=t.setTimeout(o.bind(null,d),f);return}o(f),r=t.setTimeout(o.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{i=!0},start:l=>{i=!1,r&&(r(),r=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class y9{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,o=l=>{l-i>=n?e(l):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(o))};return r=requestAnimationFrame(o),()=>{r!=null&&cancelAnimationFrame(r)}}}function b9(){return x9(new y9)}var _9=M.createContext(b9);function w9(t,e){var n=M.useContext(_9);return M.useMemo(()=>e??n(t),[t,e,n])}var S9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Md={isSsr:S9()},E9={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},iR={t:0},ky={t:1};function zg(t){var e=Fi(t,E9),{isActive:n,canBegin:i,duration:r,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:f,children:d}=e,h=n==="auto"?!Md.isSsr:n,m=w9(e.animationId,e.animationManager),[g,y]=M.useState(h?iR:ky),S=M.useRef(null);return M.useEffect(()=>{h||y(ky)},[h]),M.useEffect(()=>{if(!h||!i)return Dl;var w=f9(iR,ky,v9(o),r,y,m.getTimeoutController()),v=()=>{S.current=w()};return m.start([f,l,v,r,c]),()=>{m.stop(),S.current&&S.current(),c()}},[h,i,r,o,l,f,c,m]),d(g.t)}function Hg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=M.useRef(Wf(e)),i=M.useRef(t);return i.current!==t&&(n.current=Wf(e),i.current=t),n.current}var M9=["radius"],A9=["radius"],rR,aR,oR,sR,lR,cR,uR,fR,dR,hR;function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function mR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(i){T9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function T9(t,e,n){return(e=C9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C9(t){var e=R9(t,"string");return typeof e=="symbol"?e:e+""}function R9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rm.apply(null,arguments)}function gR(t,e){if(t==null)return{};var n,i,r=N9(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function N9(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function ya(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var vR=(t,e,n,i,r)=>{var o=Ss(n),l=Ss(i),c=Math.min(Math.abs(o)/2,Math.abs(l)/2),f=l>=0?1:-1,d=o>=0?1:-1,h=l>=0&&o>=0||l<0&&o<0?1:0,m;if(c>0&&Array.isArray(r)){for(var g=[0,0,0,0],y=0,S=4;y<S;y++){var w,v=(w=r[y])!==null&&w!==void 0?w:0;g[y]=v>c?c:v}m=An(rR||(rR=ya(["M",",",""])),t,e+f*g[0]),g[0]>0&&(m+=An(aR||(aR=ya(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,t+d*g[0],e)),m+=An(oR||(oR=ya(["L ",",",""])),t+n-d*g[1],e),g[1]>0&&(m+=An(sR||(sR=ya(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,t+n,e+f*g[1])),m+=An(lR||(lR=ya(["L ",",",""])),t+n,e+i-f*g[2]),g[2]>0&&(m+=An(cR||(cR=ya(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,t+n-d*g[2],e+i)),m+=An(uR||(uR=ya(["L ",",",""])),t+d*g[3],e+i),g[3]>0&&(m+=An(fR||(fR=ya(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,t,e+i-f*g[3])),m+="Z"}else if(c>0&&r===+r&&r>0){var _=Math.min(c,r);m=An(dR||(dR=ya(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*_,_,_,h,t+d*_,e,t+n-d*_,e,_,_,h,t+n,e+f*_,t+n,e+i-f*_,_,_,h,t+n-d*_,e+i,t+d*_,e+i,_,_,h,t,e+i-f*_)}else m=An(hR||(hR=ya(["M ",","," h "," v "," h "," Z"])),t,e,n,i,-n);return m},xR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TL=t=>{var e=Fi(t,xR),n=M.useRef(null),[i,r]=M.useState(-1);M.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&r(V)}catch{}},[]);var{x:o,y:l,width:c,height:f,radius:d,className:h}=e,{animationEasing:m,animationDuration:g,animationBegin:y,isAnimationActive:S,isUpdateAnimationActive:w}=e,v=M.useRef(c),_=M.useRef(f),A=M.useRef(o),T=M.useRef(l),C=M.useMemo(()=>({x:o,y:l,width:c,height:f,radius:d}),[o,l,c,f,d]),P=Hg(C,"rectangle-");if(o!==+o||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var O=sn("recharts-rectangle",h);if(!w){var D=Ii(e),{radius:z}=D,R=gR(D,M9);return M.createElement("path",Rm({},R,{x:Ss(o),y:Ss(l),width:Ss(c),height:Ss(f),radius:typeof d=="number"?d:void 0,className:O,d:vR(o,l,c,f,d)}))}var U=v.current,F=_.current,j=A.current,W=T.current,$="0px ".concat(i===-1?1:i,"px"),Q="".concat(i,"px 0px"),B=SL(["strokeDasharray"],g,typeof m=="string"?m:xR.animationEasing);return M.createElement(zg,{animationId:P,key:P,canBegin:i>0,duration:g,easing:m,isActive:w,begin:y},V=>{var K=_n(U,c,V),ge=_n(F,f,V),ve=_n(j,o,V),H=_n(W,l,V);n.current&&(v.current=K,_.current=ge,A.current=ve,T.current=H);var ne;S?V>0?ne={transition:B,strokeDasharray:Q}:ne={strokeDasharray:$}:ne={strokeDasharray:Q};var ye=Ii(e),{radius:Te}=ye,Ie=gR(ye,A9);return M.createElement("path",Rm({},Ie,{radius:typeof d=="number"?d:void 0,className:O,d:vR(ve,H,K,ge,d),ref:n,style:mR(mR({},ne),e.style)}))})};function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(i){O9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function O9(t,e,n){return(e=P9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P9(t){var e=D9(t,"string");return typeof e=="symbol"?e:e+""}function D9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nm=Math.PI/180,L9=t=>t*180/Math.PI,xi=(t,e,n,i)=>({x:t+Math.cos(-Nm*i)*n,y:e+Math.sin(-Nm*i)*n}),U9=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},k9=(t,e)=>{var{x:n,y:i}=t,{x:r,y:o}=e;return Math.sqrt((n-r)**2+(i-o)**2)},I9=(t,e)=>{var{x:n,y:i}=t,{cx:r,cy:o}=e,l=k9({x:n,y:i},{x:r,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-r)/l,f=Math.acos(c);return i>o&&(f=2*Math.PI-f),{radius:l,angle:L9(f),angleInRadian:f}},j9=t=>{var{startAngle:e,endAngle:n}=t,i=Math.floor(e/360),r=Math.floor(n/360),o=Math.min(i,r);return{startAngle:e-o*360,endAngle:n-o*360}},B9=(t,e)=>{var{startAngle:n,endAngle:i}=e,r=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(r,o);return t+l*360},F9=(t,e)=>{var{chartX:n,chartY:i}=t,{radius:r,angle:o}=I9({x:n,y:i},e),{innerRadius:l,outerRadius:c}=e;if(r<l||r>c||r===0)return null;var{startAngle:f,endAngle:d}=j9(e),h=o,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?bR(bR({},e),{},{radius:r,angle:B9(h,e)}):null};function CL(t){var{cx:e,cy:n,radius:i,startAngle:r,endAngle:o}=t,l=xi(e,n,i,r),c=xi(e,n,i,o);return{points:[l,c],cx:e,cy:n,radius:i,startAngle:r,endAngle:o}}var _R,wR,SR,ER,MR,AR,TR;function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},C_.apply(null,arguments)}function ul(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var z9=(t,e)=>{var n=Ki(e-t),i=Math.min(Math.abs(e-t),359.999);return n*i},sp=t=>{var{cx:e,cy:n,radius:i,angle:r,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:f}=t,d=c*(l?1:-1)+i,h=Math.asin(c/d)/Nm,m=f?r:r+o*h,g=xi(e,n,d,m),y=xi(e,n,i,m),S=f?r-o*h:r,w=xi(e,n,d*Math.cos(h*Nm),S);return{center:g,circleTangency:y,lineTangency:w,theta:h}},RL=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,startAngle:o,endAngle:l}=t,c=z9(o,l),f=o+c,d=xi(e,n,r,o),h=xi(e,n,r,f),m=An(_R||(_R=ul(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,r,r,+(Math.abs(c)>180),+(o>f),h.x,h.y);if(i>0){var g=xi(e,n,i,o),y=xi(e,n,i,f);m+=An(wR||(wR=ul(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,i,i,+(Math.abs(c)>180),+(o<=f),g.x,g.y)}else m+=An(SR||(SR=ul(["L ",","," Z"])),e,n);return m},H9=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}=t,h=Ki(d-f),{circleTangency:m,lineTangency:g,theta:y}=sp({cx:e,cy:n,radius:r,angle:f,sign:h,cornerRadius:o,cornerIsExternal:c}),{circleTangency:S,lineTangency:w,theta:v}=sp({cx:e,cy:n,radius:r,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),_=c?Math.abs(f-d):Math.abs(f-d)-y-v;if(_<0)return l?An(ER||(ER=ul(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,o,o,o*2,o,o,-o*2):RL({cx:e,cy:n,innerRadius:i,outerRadius:r,startAngle:f,endAngle:d});var A=An(MR||(MR=ul(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,o,o,+(h<0),m.x,m.y,r,r,+(_>180),+(h<0),S.x,S.y,o,o,+(h<0),w.x,w.y);if(i>0){var{circleTangency:T,lineTangency:C,theta:P}=sp({cx:e,cy:n,radius:i,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:O,lineTangency:D,theta:z}=sp({cx:e,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),R=c?Math.abs(f-d):Math.abs(f-d)-P-z;if(R<0&&o===0)return"".concat(A,"L").concat(e,",").concat(n,"Z");A+=An(AR||(AR=ul(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,o,o,+(h<0),O.x,O.y,i,i,+(R>180),+(h>0),T.x,T.y,o,o,+(h<0),C.x,C.y)}else A+=An(TR||(TR=ul(["L",",","Z"])),e,n);return A},G9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NL=t=>{var e=Fi(t,G9),{cx:n,cy:i,innerRadius:r,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:h,className:m}=e;if(o<r||d===h)return null;var g=sn("recharts-sector",m),y=o-r,S=ca(l,y,0,!0),w;return S>0&&Math.abs(d-h)<360?w=H9({cx:n,cy:i,innerRadius:r,outerRadius:o,cornerRadius:Math.min(S,y/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:h}):w=RL({cx:n,cy:i,innerRadius:r,outerRadius:o,startAngle:d,endAngle:h}),M.createElement("path",C_({},Ii(e),{className:g,d:w}))};function V9(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(m3(e)){if(t==="centric"){var{cx:i,cy:r,innerRadius:o,outerRadius:l,angle:c}=e,f=xi(i,r,o,c),d=xi(i,r,l,c);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return CL(e)}}var Iy={},jy={},By={},CR;function W9(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M3();function n(i){return e.isSymbol(i)?NaN:Number(i)}t.toNumber=n})(By)),By}var RR;function q9(){return RR||(RR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W9();function n(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}t.toFinite=n})(jy)),jy}var NR;function X9(){return NR||(NR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A3(),n=q9();function i(r,o,l){l&&typeof l!="number"&&e.isIterateeCall(r,o,l)&&(o=l=void 0),r=n.toFinite(r),o===void 0?(o=r,r=0):o=n.toFinite(o),l=l===void 0?r<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-r)/(l||1)),0),f=new Array(c);for(let d=0;d<c;d++)f[d]=r,r+=l;return f}t.range=i})(Iy)),Iy}var Fy,OR;function $9(){return OR||(OR=1,Fy=X9().range),Fy}var Y9=$9();const OL=Ia(Y9);function Ms(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function K9(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CS(t){let e,n,i;t.length!==2?(e=Ms,n=(c,f)=>Ms(t(c),f),i=(c,f)=>t(c)-f):(e=t===Ms||t===K9?t:Z9,n=t,i=t);function r(c,f,d=0,h=c.length){if(d<h){if(e(f,f)!==0)return h;do{const m=d+h>>>1;n(c[m],f)<0?d=m+1:h=m}while(d<h)}return d}function o(c,f,d=0,h=c.length){if(d<h){if(e(f,f)!==0)return h;do{const m=d+h>>>1;n(c[m],f)<=0?d=m+1:h=m}while(d<h)}return d}function l(c,f,d=0,h=c.length){const m=r(c,f,d,h-1);return m>d&&i(c[m-1],f)>-i(c[m],f)?m-1:m}return{left:r,center:l,right:o}}function Z9(){return 0}function PL(t){return t===null?NaN:+t}function*Q9(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const J9=CS(Ms),Ad=J9.right;CS(PL).center;class PR extends Map{constructor(e,n=n7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(DR(this,e))}has(e){return super.has(DR(this,e))}set(e,n){return super.set(e7(this,e),n)}delete(e){return super.delete(t7(this,e))}}function DR({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function e7({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function t7({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function n7(t){return t!==null&&typeof t=="object"?t.valueOf():t}function i7(t=Ms){if(t===Ms)return DL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function DL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const r7=Math.sqrt(50),a7=Math.sqrt(10),o7=Math.sqrt(2);function Om(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),l=o>=r7?10:o>=a7?5:o>=o7?2:1;let c,f,d;return r<0?(d=Math.pow(10,-r)/l,c=Math.round(t*d),f=Math.round(e*d),c/d<t&&++c,f/d>e&&--f,d=-d):(d=Math.pow(10,r)*l,c=Math.round(t/d),f=Math.round(e/d),c*d<t&&++c,f*d>e&&--f),f<c&&.5<=n&&n<2?Om(t,e,n*2):[c,f,d]}function R_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[r,o,l]=i?Om(e,t,n):Om(t,e,n);if(!(o>=r))return[];const c=o-r+1,f=new Array(c);if(i)if(l<0)for(let d=0;d<c;++d)f[d]=(o-d)/-l;else for(let d=0;d<c;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<c;++d)f[d]=(r+d)/-l;else for(let d=0;d<c;++d)f[d]=(r+d)*l;return f}function N_(t,e,n){return e=+e,t=+t,n=+n,Om(t,e,n)[2]}function O_(t,e,n){e=+e,t=+t,n=+n;const i=e<t,r=i?N_(e,t,n):N_(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function LR(t,e){let n;for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function UR(t,e){let n;for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function LL(t,e,n=0,i=1/0,r){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(r=r===void 0?DL:i7(r);i>n;){if(i-n>600){const f=i-n+1,d=e-n+1,h=Math.log(f),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(f-m)/f)*(d-f/2<0?-1:1),y=Math.max(n,Math.floor(e-d*m/f+g)),S=Math.min(i,Math.floor(e+(f-d)*m/f+g));LL(t,e,y,S,r)}const o=t[e];let l=n,c=i;for(Ef(t,n,e),r(t[i],o)>0&&Ef(t,n,i);l<c;){for(Ef(t,l,c),++l,--c;r(t[l],o)<0;)++l;for(;r(t[c],o)>0;)--c}r(t[n],o)===0?Ef(t,n,c):(++c,Ef(t,c,i)),c<=e&&(n=c+1),e<=c&&(i=c-1)}return t}function Ef(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function s7(t,e,n){if(t=Float64Array.from(Q9(t)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return UR(t);if(e>=1)return LR(t);var i,r=(i-1)*e,o=Math.floor(r),l=LR(LL(t,o).subarray(0,o+1)),c=UR(t.subarray(o+1));return l+(c-l)*(r-o)}}function l7(t,e,n=PL){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(r-o)}}function c7(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(r);++i<r;)o[i]=t+i*n;return o}function Hr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Uo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const P_=Symbol("implicit");function RS(){var t=new PR,e=[],n=[],i=P_;function r(o){let l=t.get(o);if(l===void 0){if(i!==P_)return i;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return r.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new PR;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return r},r.range=function(o){return arguments.length?(n=Array.from(o),r):n.slice()},r.unknown=function(o){return arguments.length?(i=o,r):i},r.copy=function(){return RS(e,n).unknown(i)},Hr.apply(r,arguments),r}function NS(){var t=RS().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,o,l,c=!1,f=0,d=0,h=.5;delete t.unknown;function m(){var g=e().length,y=r<i,S=y?r:i,w=y?i:r;o=(w-S)/Math.max(1,g-f+d*2),c&&(o=Math.floor(o)),S+=(w-S-o*(g-f))*h,l=o*(1-f),c&&(S=Math.round(S),l=Math.round(l));var v=c7(g).map(function(_){return S+o*_});return n(y?v.reverse():v)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([i,r]=g,i=+i,r=+r,m()):[i,r]},t.rangeRound=function(g){return[i,r]=g,i=+i,r=+r,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(g){return arguments.length?(c=!!g,m()):c},t.padding=function(g){return arguments.length?(f=Math.min(1,d=+g),m()):f},t.paddingInner=function(g){return arguments.length?(f=Math.min(1,g),m()):f},t.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},t.copy=function(){return NS(e(),[i,r]).round(c).paddingInner(f).paddingOuter(d).align(h)},Hr.apply(m(),arguments)}function UL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return UL(e())},t}function u7(){return UL(NS.apply(null,arguments).paddingInner(1))}function OS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kL(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Td(){}var Jf=.7,Pm=1/Jf,Vc="\\s*([+-]?\\d+)\\s*",ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f7=/^#([0-9a-f]{3,8})$/,d7=new RegExp(`^rgb\\(${Vc},${Vc},${Vc}\\)$`),h7=new RegExp(`^rgb\\(${Ca},${Ca},${Ca}\\)$`),p7=new RegExp(`^rgba\\(${Vc},${Vc},${Vc},${ed}\\)$`),m7=new RegExp(`^rgba\\(${Ca},${Ca},${Ca},${ed}\\)$`),g7=new RegExp(`^hsl\\(${ed},${Ca},${Ca}\\)$`),v7=new RegExp(`^hsla\\(${ed},${Ca},${Ca},${ed}\\)$`),kR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OS(Td,td,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:IR,formatHex:IR,formatHex8:x7,formatHsl:y7,formatRgb:jR,toString:jR});function IR(){return this.rgb().formatHex()}function x7(){return this.rgb().formatHex8()}function y7(){return IL(this).formatHsl()}function jR(){return this.rgb().formatRgb()}function td(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=f7.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?BR(e):n===3?new Qi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?lp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?lp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=d7.exec(t))?new Qi(e[1],e[2],e[3],1):(e=h7.exec(t))?new Qi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=p7.exec(t))?lp(e[1],e[2],e[3],e[4]):(e=m7.exec(t))?lp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=g7.exec(t))?HR(e[1],e[2]/100,e[3]/100,1):(e=v7.exec(t))?HR(e[1],e[2]/100,e[3]/100,e[4]):kR.hasOwnProperty(t)?BR(kR[t]):t==="transparent"?new Qi(NaN,NaN,NaN,0):null}function BR(t){return new Qi(t>>16&255,t>>8&255,t&255,1)}function lp(t,e,n,i){return i<=0&&(t=e=n=NaN),new Qi(t,e,n,i)}function b7(t){return t instanceof Td||(t=td(t)),t?(t=t.rgb(),new Qi(t.r,t.g,t.b,t.opacity)):new Qi}function D_(t,e,n,i){return arguments.length===1?b7(t):new Qi(t,e,n,i??1)}function Qi(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}OS(Qi,D_,kL(Td,{brighter(t){return t=t==null?Pm:Math.pow(Pm,t),new Qi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jf:Math.pow(Jf,t),new Qi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qi(xl(this.r),xl(this.g),xl(this.b),Dm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FR,formatHex:FR,formatHex8:_7,formatRgb:zR,toString:zR}));function FR(){return`#${fl(this.r)}${fl(this.g)}${fl(this.b)}`}function _7(){return`#${fl(this.r)}${fl(this.g)}${fl(this.b)}${fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function zR(){const t=Dm(this.opacity);return`${t===1?"rgb(":"rgba("}${xl(this.r)}, ${xl(this.g)}, ${xl(this.b)}${t===1?")":`, ${t})`}`}function Dm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fl(t){return t=xl(t),(t<16?"0":"")+t.toString(16)}function HR(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ia(t,e,n,i)}function IL(t){if(t instanceof ia)return new ia(t.h,t.s,t.l,t.opacity);if(t instanceof Td||(t=td(t)),!t)return new ia;if(t instanceof ia)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),l=NaN,c=o-r,f=(o+r)/2;return c?(e===o?l=(n-i)/c+(n<i)*6:n===o?l=(i-e)/c+2:l=(e-n)/c+4,c/=f<.5?o+r:2-o-r,l*=60):c=f>0&&f<1?0:l,new ia(l,c,f,t.opacity)}function w7(t,e,n,i){return arguments.length===1?IL(t):new ia(t,e,n,i??1)}function ia(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}OS(ia,w7,kL(Td,{brighter(t){return t=t==null?Pm:Math.pow(Pm,t),new ia(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jf:Math.pow(Jf,t),new ia(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Qi(zy(t>=240?t-240:t+120,r,i),zy(t,r,i),zy(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new ia(GR(this.h),cp(this.s),cp(this.l),Dm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dm(this.opacity);return`${t===1?"hsl(":"hsla("}${GR(this.h)}, ${cp(this.s)*100}%, ${cp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GR(t){return t=(t||0)%360,t<0?t+360:t}function cp(t){return Math.max(0,Math.min(1,t||0))}function zy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const PS=t=>()=>t;function S7(t,e){return function(n){return t+n*e}}function E7(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function M7(t){return(t=+t)==1?jL:function(e,n){return n-e?E7(e,n,t):PS(isNaN(e)?n:e)}}function jL(t,e){var n=e-t;return n?S7(t,n):PS(isNaN(t)?e:t)}const VR=(function t(e){var n=M7(e);function i(r,o){var l=n((r=D_(r)).r,(o=D_(o)).r),c=n(r.g,o.g),f=n(r.b,o.b),d=jL(r.opacity,o.opacity);return function(h){return r.r=l(h),r.g=c(h),r.b=f(h),r.opacity=d(h),r+""}}return i.gamma=t,i})(1);function A7(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(o){for(r=0;r<n;++r)i[r]=t[r]*(1-o)+e[r]*o;return i}}function T7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function C7(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),o=new Array(n),l;for(l=0;l<i;++l)r[l]=du(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<i;++l)o[l]=r[l](c);return o}}function R7(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Lm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function N7(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=du(t[r],e[r]):i[r]=e[r];return function(o){for(r in n)i[r]=n[r](o);return i}}var L_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hy=new RegExp(L_.source,"g");function O7(t){return function(){return t}}function P7(t){return function(e){return t(e)+""}}function D7(t,e){var n=L_.lastIndex=Hy.lastIndex=0,i,r,o,l=-1,c=[],f=[];for(t=t+"",e=e+"";(i=L_.exec(t))&&(r=Hy.exec(e));)(o=r.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(i=i[0])===(r=r[0])?c[l]?c[l]+=r:c[++l]=r:(c[++l]=null,f.push({i:l,x:Lm(i,r)})),n=Hy.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?f[0]?P7(f[0].x):O7(e):(e=f.length,function(d){for(var h=0,m;h<e;++h)c[(m=f[h]).i]=m.x(d);return c.join("")})}function du(t,e){var n=typeof e,i;return e==null||n==="boolean"?PS(e):(n==="number"?Lm:n==="string"?(i=td(e))?(e=i,VR):D7:e instanceof td?VR:e instanceof Date?R7:T7(e)?A7:Array.isArray(e)?C7:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?N7:Lm)(t,e)}function DS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function L7(t,e){e===void 0&&(e=t,t=du);for(var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(r,r=e[++n]);return function(l){var c=Math.max(0,Math.min(i-1,Math.floor(l*=i)));return o[c](l-c)}}function U7(t){return function(){return t}}function Um(t){return+t}var WR=[0,1];function Li(t){return t}function U_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:U7(isNaN(e)?NaN:.5)}function k7(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function I7(t,e,n){var i=t[0],r=t[1],o=e[0],l=e[1];return r<i?(i=U_(r,i),o=n(l,o)):(i=U_(i,r),o=n(o,l)),function(c){return o(i(c))}}function j7(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)r[l]=U_(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(c){var f=Ad(t,c,1,i)-1;return o[f](r[f](c))}}function Cd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gg(){var t=WR,e=WR,n=du,i,r,o,l=Li,c,f,d;function h(){var g=Math.min(t.length,e.length);return l!==Li&&(l=k7(t[0],t[g-1])),c=g>2?j7:I7,f=d=null,m}function m(g){return g==null||isNaN(g=+g)?o:(f||(f=c(t.map(i),e,n)))(i(l(g)))}return m.invert=function(g){return l(r((d||(d=c(e,t.map(i),Lm)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,Um),h()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=DS,h()},m.clamp=function(g){return arguments.length?(l=g?!0:Li,h()):l!==Li},m.interpolate=function(g){return arguments.length?(n=g,h()):n},m.unknown=function(g){return arguments.length?(o=g,m):o},function(g,y){return i=g,r=y,h()}}function LS(){return Gg()(Li,Li)}function B7(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function km(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Jc(t){return t=km(Math.abs(t)),t?t[1]:NaN}function F7(t,e){return function(n,i){for(var r=n.length,o=[],l=0,c=t[0],f=0;r>0&&c>0&&(f+c+1>i&&(c=Math.max(1,i-f)),o.push(n.substring(r-=c,r+c)),!((f+=c+1)>i));)c=t[l=(l+1)%t.length];return o.reverse().join(e)}}function z7(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var H7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nd(t){if(!(e=H7.exec(t)))throw new Error("invalid format: "+t);var e;return new US({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nd.prototype=US.prototype;function US(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}US.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function G7(t){e:for(var e=t.length,n=1,i=-1,r;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var Im;function V7(t,e){var n=km(t,e);if(!n)return Im=void 0,t.toPrecision(e);var i=n[0],r=n[1],o=r-(Im=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return o===l?i:o>l?i+new Array(o-l+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+km(t,Math.max(0,e+o-1))[0]}function qR(t,e){var n=km(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const XR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:B7,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>qR(t*100,e),r:qR,s:V7,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $R(t){return t}var YR=Array.prototype.map,KR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function W7(t){var e=t.grouping===void 0||t.thousands===void 0?$R:F7(YR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?$R:z7(YR.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(m,g){m=nd(m);var y=m.fill,S=m.align,w=m.sign,v=m.symbol,_=m.zero,A=m.width,T=m.comma,C=m.precision,P=m.trim,O=m.type;O==="n"?(T=!0,O="g"):XR[O]||(C===void 0&&(C=12),P=!0,O="g"),(_||y==="0"&&S==="=")&&(_=!0,y="0",S="=");var D=(g&&g.prefix!==void 0?g.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),z=(v==="$"?i:/[%p]/.test(O)?l:"")+(g&&g.suffix!==void 0?g.suffix:""),R=XR[O],U=/[defgprs%]/.test(O);C=C===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function F(j){var W=D,$=z,Q,B,V;if(O==="c")$=R(j)+$,j="";else{j=+j;var K=j<0||1/j<0;if(j=isNaN(j)?f:R(Math.abs(j),C),P&&(j=G7(j)),K&&+j==0&&w!=="+"&&(K=!1),W=(K?w==="("?w:c:w==="-"||w==="("?"":w)+W,$=(O==="s"&&!isNaN(j)&&Im!==void 0?KR[8+Im/3]:"")+$+(K&&w==="("?")":""),U){for(Q=-1,B=j.length;++Q<B;)if(V=j.charCodeAt(Q),48>V||V>57){$=(V===46?r+j.slice(Q+1):j.slice(Q))+$,j=j.slice(0,Q);break}}}T&&!_&&(j=e(j,1/0));var ge=W.length+j.length+$.length,ve=ge<A?new Array(A-ge+1).join(y):"";switch(T&&_&&(j=e(ve+j,ve.length?A-$.length:1/0),ve=""),S){case"<":j=W+j+$+ve;break;case"=":j=W+ve+j+$;break;case"^":j=ve.slice(0,ge=ve.length>>1)+W+j+$+ve.slice(ge);break;default:j=ve+W+j+$;break}return o(j)}return F.toString=function(){return m+""},F}function h(m,g){var y=Math.max(-8,Math.min(8,Math.floor(Jc(g)/3)))*3,S=Math.pow(10,-y),w=d((m=nd(m),m.type="f",m),{suffix:KR[8+y/3]});return function(v){return w(S*v)}}return{format:d,formatPrefix:h}}var up,kS,BL;q7({thousands:",",grouping:[3],currency:["$",""]});function q7(t){return up=W7(t),kS=up.format,BL=up.formatPrefix,up}function X7(t){return Math.max(0,-Jc(Math.abs(t)))}function $7(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jc(e)/3)))*3-Jc(Math.abs(t)))}function Y7(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jc(e)-Jc(t))+1}function FL(t,e,n,i){var r=O_(t,e,n),o;switch(i=nd(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(o=$7(r,l))&&(i.precision=o),BL(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=Y7(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=X7(r))&&(i.precision=o-(i.type==="%")*2);break}}return kS(i)}function Os(t){var e=t.domain;return t.ticks=function(n){var i=e();return R_(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return FL(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,o=i.length-1,l=i[r],c=i[o],f,d,h=10;for(c<l&&(d=l,l=c,c=d,d=r,r=o,o=d);h-- >0;){if(d=N_(l,c,n),d===f)return i[r]=l,i[o]=c,e(i);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;f=d}return t},t}function zL(){var t=LS();return t.copy=function(){return Cd(t,zL())},Hr.apply(t,arguments),Os(t)}function HL(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,Um),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return HL(t).unknown(e)},t=arguments.length?Array.from(t,Um):[0,1],Os(n)}function GL(t,e){t=t.slice();var n=0,i=t.length-1,r=t[n],o=t[i],l;return o<r&&(l=n,n=i,i=l,l=r,r=o,o=l),t[n]=e.floor(r),t[i]=e.ceil(o),t}function ZR(t){return Math.log(t)}function QR(t){return Math.exp(t)}function K7(t){return-Math.log(-t)}function Z7(t){return-Math.exp(-t)}function Q7(t){return isFinite(t)?+("1e"+t):t<0?0:t}function J7(t){return t===10?Q7:t===Math.E?Math.exp:e=>Math.pow(t,e)}function eW(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function JR(t){return(e,n)=>-t(-e,n)}function IS(t){const e=t(ZR,QR),n=e.domain;let i=10,r,o;function l(){return r=eW(i),o=J7(i),n()[0]<0?(r=JR(r),o=JR(o),t(K7,Z7)):t(ZR,QR),e}return e.base=function(c){return arguments.length?(i=+c,l()):i},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let d=f[0],h=f[f.length-1];const m=h<d;m&&([d,h]=[h,d]);let g=r(d),y=r(h),S,w;const v=c==null?10:+c;let _=[];if(!(i%1)&&y-g<v){if(g=Math.floor(g),y=Math.ceil(y),d>0){for(;g<=y;++g)for(S=1;S<i;++S)if(w=g<0?S/o(-g):S*o(g),!(w<d)){if(w>h)break;_.push(w)}}else for(;g<=y;++g)for(S=i-1;S>=1;--S)if(w=g>0?S/o(-g):S*o(g),!(w<d)){if(w>h)break;_.push(w)}_.length*2<v&&(_=R_(d,h,v))}else _=R_(g,y,Math.min(y-g,v)).map(o);return m?_.reverse():_},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=i===10?"s":","),typeof f!="function"&&(!(i%1)&&(f=nd(f)).precision==null&&(f.trim=!0),f=kS(f)),c===1/0)return f;const d=Math.max(1,i*c/e.ticks().length);return h=>{let m=h/o(Math.round(r(h)));return m*i<i-.5&&(m*=i),m<=d?f(h):""}},e.nice=()=>n(GL(n(),{floor:c=>o(Math.floor(r(c))),ceil:c=>o(Math.ceil(r(c)))})),e}function VL(){const t=IS(Gg()).domain([1,10]);return t.copy=()=>Cd(t,VL()).base(t.base()),Hr.apply(t,arguments),t}function eN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function jS(t){var e=1,n=t(eN(e),tN(e));return n.constant=function(i){return arguments.length?t(eN(e=+i),tN(e)):e},Os(n)}function WL(){var t=jS(Gg());return t.copy=function(){return Cd(t,WL()).constant(t.constant())},Hr.apply(t,arguments)}function nN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function tW(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nW(t){return t<0?-t*t:t*t}function BS(t){var e=t(Li,Li),n=1;function i(){return n===1?t(Li,Li):n===.5?t(tW,nW):t(nN(n),nN(1/n))}return e.exponent=function(r){return arguments.length?(n=+r,i()):n},Os(e)}function FS(){var t=BS(Gg());return t.copy=function(){return Cd(t,FS()).exponent(t.exponent())},Hr.apply(t,arguments),t}function iW(){return FS.apply(null,arguments).exponent(.5)}function iN(t){return Math.sign(t)*t*t}function rW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function qL(){var t=LS(),e=[0,1],n=!1,i;function r(o){var l=rW(t(o));return isNaN(l)?i:n?Math.round(l):l}return r.invert=function(o){return t.invert(iN(o))},r.domain=function(o){return arguments.length?(t.domain(o),r):t.domain()},r.range=function(o){return arguments.length?(t.range((e=Array.from(o,Um)).map(iN)),r):e.slice()},r.rangeRound=function(o){return r.range(o).round(!0)},r.round=function(o){return arguments.length?(n=!!o,r):n},r.clamp=function(o){return arguments.length?(t.clamp(o),r):t.clamp()},r.unknown=function(o){return arguments.length?(i=o,r):i},r.copy=function(){return qL(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},Hr.apply(r,arguments),Os(r)}function XL(){var t=[],e=[],n=[],i;function r(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=l7(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?i:e[Ad(n,l)]}return o.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Ms),r()},o.range=function(l){return arguments.length?(e=Array.from(l),r()):e.slice()},o.unknown=function(l){return arguments.length?(i=l,o):i},o.quantiles=function(){return n.slice()},o.copy=function(){return XL().domain(t).range(e).unknown(i)},Hr.apply(o,arguments)}function $L(){var t=0,e=1,n=1,i=[.5],r=[0,1],o;function l(f){return f!=null&&f<=f?r[Ad(i,f,0,n)]:o}function c(){var f=-1;for(i=new Array(n);++f<n;)i[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(r=Array.from(f)).length-1,c()):r.slice()},l.invertExtent=function(f){var d=r.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,i[0]]:d>=n?[i[n-1],e]:[i[d-1],i[d]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return i.slice()},l.copy=function(){return $L().domain([t,e]).range(r).unknown(o)},Hr.apply(Os(l),arguments)}function YL(){var t=[.5],e=[0,1],n,i=1;function r(o){return o!=null&&o<=o?e[Ad(t,o,0,i)]:n}return r.domain=function(o){return arguments.length?(t=Array.from(o),i=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(o){return arguments.length?(e=Array.from(o),i=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},r.unknown=function(o){return arguments.length?(n=o,r):n},r.copy=function(){return YL().domain(t).range(e).unknown(n)},Hr.apply(r,arguments)}const Gy=new Date,Vy=new Date;function Xn(t,e,n,i){function r(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return r.floor=o=>(t(o=new Date(+o)),o),r.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),r.round=o=>{const l=r(o),c=r.ceil(o);return o-l<c-o?l:c},r.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),r.range=(o,l,c)=>{const f=[];if(o=r.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return f;let d;do f.push(d=new Date(+o)),e(o,c),t(o);while(d<o&&o<l);return f},r.filter=o=>Xn(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!o(l););else for(;--c>=0;)for(;e(l,1),!o(l););}),n&&(r.count=(o,l)=>(Gy.setTime(+o),Vy.setTime(+l),t(Gy),t(Vy),Math.floor(n(Gy,Vy))),r.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?r.filter(i?l=>i(l)%o===0:l=>r.count(0,l)%o===0):r)),r}const jm=Xn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):jm);jm.range;const po=1e3,Ir=po*60,mo=Ir*60,Eo=mo*24,zS=Eo*7,rN=Eo*30,Wy=Eo*365,dl=Xn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*po)},(t,e)=>(e-t)/po,t=>t.getUTCSeconds());dl.range;const HS=Xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*po)},(t,e)=>{t.setTime(+t+e*Ir)},(t,e)=>(e-t)/Ir,t=>t.getMinutes());HS.range;const GS=Xn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ir)},(t,e)=>(e-t)/Ir,t=>t.getUTCMinutes());GS.range;const VS=Xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*po-t.getMinutes()*Ir)},(t,e)=>{t.setTime(+t+e*mo)},(t,e)=>(e-t)/mo,t=>t.getHours());VS.range;const WS=Xn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*mo)},(t,e)=>(e-t)/mo,t=>t.getUTCHours());WS.range;const Rd=Xn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ir)/Eo,t=>t.getDate()-1);Rd.range;const Vg=Xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Eo,t=>t.getUTCDate()-1);Vg.range;const KL=Xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Eo,t=>Math.floor(t/Eo));KL.range;function Ul(t){return Xn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ir)/zS)}const Wg=Ul(0),Bm=Ul(1),aW=Ul(2),oW=Ul(3),eu=Ul(4),sW=Ul(5),lW=Ul(6);Wg.range;Bm.range;aW.range;oW.range;eu.range;sW.range;lW.range;function kl(t){return Xn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/zS)}const qg=kl(0),Fm=kl(1),cW=kl(2),uW=kl(3),tu=kl(4),fW=kl(5),dW=kl(6);qg.range;Fm.range;cW.range;uW.range;tu.range;fW.range;dW.range;const qS=Xn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());qS.range;const XS=Xn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());XS.range;const Mo=Xn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Mo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Mo.range;const Ao=Xn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ao.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ao.range;function ZL(t,e,n,i,r,o){const l=[[dl,1,po],[dl,5,5*po],[dl,15,15*po],[dl,30,30*po],[o,1,Ir],[o,5,5*Ir],[o,15,15*Ir],[o,30,30*Ir],[r,1,mo],[r,3,3*mo],[r,6,6*mo],[r,12,12*mo],[i,1,Eo],[i,2,2*Eo],[n,1,zS],[e,1,rN],[e,3,3*rN],[t,1,Wy]];function c(d,h,m){const g=h<d;g&&([d,h]=[h,d]);const y=m&&typeof m.range=="function"?m:f(d,h,m),S=y?y.range(d,+h+1):[];return g?S.reverse():S}function f(d,h,m){const g=Math.abs(h-d)/m,y=CS(([,,v])=>v).right(l,g);if(y===l.length)return t.every(O_(d/Wy,h/Wy,m));if(y===0)return jm.every(Math.max(O_(d,h,m),1));const[S,w]=l[g/l[y-1][2]<l[y][2]/g?y-1:y];return S.every(w)}return[c,f]}const[hW,pW]=ZL(Ao,XS,qg,KL,WS,GS),[mW,gW]=ZL(Mo,qS,Wg,Rd,VS,HS);function qy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function vW(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,d=Af(r),h=Tf(r),m=Af(o),g=Tf(o),y=Af(l),S=Tf(l),w=Af(c),v=Tf(c),_=Af(f),A=Tf(f),T={a:V,A:K,b:ge,B:ve,c:null,d:uN,e:uN,f:FW,g:KW,G:QW,H:IW,I:jW,j:BW,L:QL,m:zW,M:HW,p:H,q:ne,Q:hN,s:pN,S:GW,u:VW,U:WW,V:qW,w:XW,W:$W,x:null,X:null,y:YW,Y:ZW,Z:JW,"%":dN},C={a:ye,A:Te,b:Ie,B:le,c:null,d:fN,e:fN,f:iq,g:hq,G:mq,H:eq,I:tq,j:nq,L:eU,m:rq,M:aq,p:de,q:Le,Q:hN,s:pN,S:oq,u:sq,U:lq,V:cq,w:uq,W:fq,x:null,X:null,y:dq,Y:pq,Z:gq,"%":dN},P={a:U,A:F,b:j,B:W,c:$,d:lN,e:lN,f:DW,g:sN,G:oN,H:cN,I:cN,j:RW,L:PW,m:CW,M:NW,p:R,q:TW,Q:UW,s:kW,S:OW,u:wW,U:SW,V:EW,w:_W,W:MW,x:Q,X:B,y:sN,Y:oN,Z:AW,"%":LW};T.x=O(n,T),T.X=O(i,T),T.c=O(e,T),C.x=O(n,C),C.X=O(i,C),C.c=O(e,C);function O(ae,Ce){return function(We){var Ee=[],ct=-1,Ze=0,gt=ae.length,rt,Vt,X;for(We instanceof Date||(We=new Date(+We));++ct<gt;)ae.charCodeAt(ct)===37&&(Ee.push(ae.slice(Ze,ct)),(Vt=aN[rt=ae.charAt(++ct)])!=null?rt=ae.charAt(++ct):Vt=rt==="e"?" ":"0",(X=Ce[rt])&&(rt=X(We,Vt)),Ee.push(rt),Ze=ct+1);return Ee.push(ae.slice(Ze,ct)),Ee.join("")}}function D(ae,Ce){return function(We){var Ee=Mf(1900,void 0,1),ct=z(Ee,ae,We+="",0),Ze,gt;if(ct!=We.length)return null;if("Q"in Ee)return new Date(Ee.Q);if("s"in Ee)return new Date(Ee.s*1e3+("L"in Ee?Ee.L:0));if(Ce&&!("Z"in Ee)&&(Ee.Z=0),"p"in Ee&&(Ee.H=Ee.H%12+Ee.p*12),Ee.m===void 0&&(Ee.m="q"in Ee?Ee.q:0),"V"in Ee){if(Ee.V<1||Ee.V>53)return null;"w"in Ee||(Ee.w=1),"Z"in Ee?(Ze=Xy(Mf(Ee.y,0,1)),gt=Ze.getUTCDay(),Ze=gt>4||gt===0?Fm.ceil(Ze):Fm(Ze),Ze=Vg.offset(Ze,(Ee.V-1)*7),Ee.y=Ze.getUTCFullYear(),Ee.m=Ze.getUTCMonth(),Ee.d=Ze.getUTCDate()+(Ee.w+6)%7):(Ze=qy(Mf(Ee.y,0,1)),gt=Ze.getDay(),Ze=gt>4||gt===0?Bm.ceil(Ze):Bm(Ze),Ze=Rd.offset(Ze,(Ee.V-1)*7),Ee.y=Ze.getFullYear(),Ee.m=Ze.getMonth(),Ee.d=Ze.getDate()+(Ee.w+6)%7)}else("W"in Ee||"U"in Ee)&&("w"in Ee||(Ee.w="u"in Ee?Ee.u%7:"W"in Ee?1:0),gt="Z"in Ee?Xy(Mf(Ee.y,0,1)).getUTCDay():qy(Mf(Ee.y,0,1)).getDay(),Ee.m=0,Ee.d="W"in Ee?(Ee.w+6)%7+Ee.W*7-(gt+5)%7:Ee.w+Ee.U*7-(gt+6)%7);return"Z"in Ee?(Ee.H+=Ee.Z/100|0,Ee.M+=Ee.Z%100,Xy(Ee)):qy(Ee)}}function z(ae,Ce,We,Ee){for(var ct=0,Ze=Ce.length,gt=We.length,rt,Vt;ct<Ze;){if(Ee>=gt)return-1;if(rt=Ce.charCodeAt(ct++),rt===37){if(rt=Ce.charAt(ct++),Vt=P[rt in aN?Ce.charAt(ct++):rt],!Vt||(Ee=Vt(ae,We,Ee))<0)return-1}else if(rt!=We.charCodeAt(Ee++))return-1}return Ee}function R(ae,Ce,We){var Ee=d.exec(Ce.slice(We));return Ee?(ae.p=h.get(Ee[0].toLowerCase()),We+Ee[0].length):-1}function U(ae,Ce,We){var Ee=y.exec(Ce.slice(We));return Ee?(ae.w=S.get(Ee[0].toLowerCase()),We+Ee[0].length):-1}function F(ae,Ce,We){var Ee=m.exec(Ce.slice(We));return Ee?(ae.w=g.get(Ee[0].toLowerCase()),We+Ee[0].length):-1}function j(ae,Ce,We){var Ee=_.exec(Ce.slice(We));return Ee?(ae.m=A.get(Ee[0].toLowerCase()),We+Ee[0].length):-1}function W(ae,Ce,We){var Ee=w.exec(Ce.slice(We));return Ee?(ae.m=v.get(Ee[0].toLowerCase()),We+Ee[0].length):-1}function $(ae,Ce,We){return z(ae,e,Ce,We)}function Q(ae,Ce,We){return z(ae,n,Ce,We)}function B(ae,Ce,We){return z(ae,i,Ce,We)}function V(ae){return l[ae.getDay()]}function K(ae){return o[ae.getDay()]}function ge(ae){return f[ae.getMonth()]}function ve(ae){return c[ae.getMonth()]}function H(ae){return r[+(ae.getHours()>=12)]}function ne(ae){return 1+~~(ae.getMonth()/3)}function ye(ae){return l[ae.getUTCDay()]}function Te(ae){return o[ae.getUTCDay()]}function Ie(ae){return f[ae.getUTCMonth()]}function le(ae){return c[ae.getUTCMonth()]}function de(ae){return r[+(ae.getUTCHours()>=12)]}function Le(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ce=O(ae+="",T);return Ce.toString=function(){return ae},Ce},parse:function(ae){var Ce=D(ae+="",!1);return Ce.toString=function(){return ae},Ce},utcFormat:function(ae){var Ce=O(ae+="",C);return Ce.toString=function(){return ae},Ce},utcParse:function(ae){var Ce=D(ae+="",!0);return Ce.toString=function(){return ae},Ce}}}var aN={"-":"",_:" ",0:"0"},ii=/^\s*\d+/,xW=/^%/,yW=/[\\^$*+?|[\]().{}]/g;function Ft(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function bW(t){return t.replace(yW,"\\$&")}function Af(t){return new RegExp("^(?:"+t.map(bW).join("|")+")","i")}function Tf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _W(t,e,n){var i=ii.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function wW(t,e,n){var i=ii.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function SW(t,e,n){var i=ii.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function EW(t,e,n){var i=ii.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function MW(t,e,n){var i=ii.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function oN(t,e,n){var i=ii.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function sN(t,e,n){var i=ii.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function AW(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function TW(t,e,n){var i=ii.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function CW(t,e,n){var i=ii.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function lN(t,e,n){var i=ii.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function RW(t,e,n){var i=ii.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function cN(t,e,n){var i=ii.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function NW(t,e,n){var i=ii.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function OW(t,e,n){var i=ii.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function PW(t,e,n){var i=ii.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function DW(t,e,n){var i=ii.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function LW(t,e,n){var i=xW.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function UW(t,e,n){var i=ii.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function kW(t,e,n){var i=ii.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function uN(t,e){return Ft(t.getDate(),e,2)}function IW(t,e){return Ft(t.getHours(),e,2)}function jW(t,e){return Ft(t.getHours()%12||12,e,2)}function BW(t,e){return Ft(1+Rd.count(Mo(t),t),e,3)}function QL(t,e){return Ft(t.getMilliseconds(),e,3)}function FW(t,e){return QL(t,e)+"000"}function zW(t,e){return Ft(t.getMonth()+1,e,2)}function HW(t,e){return Ft(t.getMinutes(),e,2)}function GW(t,e){return Ft(t.getSeconds(),e,2)}function VW(t){var e=t.getDay();return e===0?7:e}function WW(t,e){return Ft(Wg.count(Mo(t)-1,t),e,2)}function JL(t){var e=t.getDay();return e>=4||e===0?eu(t):eu.ceil(t)}function qW(t,e){return t=JL(t),Ft(eu.count(Mo(t),t)+(Mo(t).getDay()===4),e,2)}function XW(t){return t.getDay()}function $W(t,e){return Ft(Bm.count(Mo(t)-1,t),e,2)}function YW(t,e){return Ft(t.getFullYear()%100,e,2)}function KW(t,e){return t=JL(t),Ft(t.getFullYear()%100,e,2)}function ZW(t,e){return Ft(t.getFullYear()%1e4,e,4)}function QW(t,e){var n=t.getDay();return t=n>=4||n===0?eu(t):eu.ceil(t),Ft(t.getFullYear()%1e4,e,4)}function JW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ft(e/60|0,"0",2)+Ft(e%60,"0",2)}function fN(t,e){return Ft(t.getUTCDate(),e,2)}function eq(t,e){return Ft(t.getUTCHours(),e,2)}function tq(t,e){return Ft(t.getUTCHours()%12||12,e,2)}function nq(t,e){return Ft(1+Vg.count(Ao(t),t),e,3)}function eU(t,e){return Ft(t.getUTCMilliseconds(),e,3)}function iq(t,e){return eU(t,e)+"000"}function rq(t,e){return Ft(t.getUTCMonth()+1,e,2)}function aq(t,e){return Ft(t.getUTCMinutes(),e,2)}function oq(t,e){return Ft(t.getUTCSeconds(),e,2)}function sq(t){var e=t.getUTCDay();return e===0?7:e}function lq(t,e){return Ft(qg.count(Ao(t)-1,t),e,2)}function tU(t){var e=t.getUTCDay();return e>=4||e===0?tu(t):tu.ceil(t)}function cq(t,e){return t=tU(t),Ft(tu.count(Ao(t),t)+(Ao(t).getUTCDay()===4),e,2)}function uq(t){return t.getUTCDay()}function fq(t,e){return Ft(Fm.count(Ao(t)-1,t),e,2)}function dq(t,e){return Ft(t.getUTCFullYear()%100,e,2)}function hq(t,e){return t=tU(t),Ft(t.getUTCFullYear()%100,e,2)}function pq(t,e){return Ft(t.getUTCFullYear()%1e4,e,4)}function mq(t,e){var n=t.getUTCDay();return t=n>=4||n===0?tu(t):tu.ceil(t),Ft(t.getUTCFullYear()%1e4,e,4)}function gq(){return"+0000"}function dN(){return"%"}function hN(t){return+t}function pN(t){return Math.floor(+t/1e3)}var _c,nU,iU;vq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vq(t){return _c=vW(t),nU=_c.format,_c.parse,iU=_c.utcFormat,_c.utcParse,_c}function xq(t){return new Date(t)}function yq(t){return t instanceof Date?+t:+new Date(+t)}function $S(t,e,n,i,r,o,l,c,f,d){var h=LS(),m=h.invert,g=h.domain,y=d(".%L"),S=d(":%S"),w=d("%I:%M"),v=d("%I %p"),_=d("%a %d"),A=d("%b %d"),T=d("%B"),C=d("%Y");function P(O){return(f(O)<O?y:c(O)<O?S:l(O)<O?w:o(O)<O?v:i(O)<O?r(O)<O?_:A:n(O)<O?T:C)(O)}return h.invert=function(O){return new Date(m(O))},h.domain=function(O){return arguments.length?g(Array.from(O,yq)):g().map(xq)},h.ticks=function(O){var D=g();return t(D[0],D[D.length-1],O??10)},h.tickFormat=function(O,D){return D==null?P:d(D)},h.nice=function(O){var D=g();return(!O||typeof O.range!="function")&&(O=e(D[0],D[D.length-1],O??10)),O?g(GL(D,O)):h},h.copy=function(){return Cd(h,$S(t,e,n,i,r,o,l,c,f,d))},h}function bq(){return Hr.apply($S(mW,gW,Mo,qS,Wg,Rd,VS,HS,dl,nU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _q(){return Hr.apply($S(hW,pW,Ao,XS,qg,Vg,WS,GS,dl,iU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xg(){var t=0,e=1,n,i,r,o,l=Li,c=!1,f;function d(m){return m==null||isNaN(m=+m)?f:l(r===0?.5:(m=(o(m)-n)*r,c?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),i=o(e=+e),r=n===i?0:1/(i-n),d):[t,e]},d.clamp=function(m){return arguments.length?(c=!!m,d):c},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(g){var y,S;return arguments.length?([y,S]=g,l=m(y,S),d):[l(0),l(1)]}}return d.range=h(du),d.rangeRound=h(DS),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return o=m,n=m(t),i=m(e),r=n===i?0:1/(i-n),d}}function Ps(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rU(){var t=Os(Xg()(Li));return t.copy=function(){return Ps(t,rU())},Uo.apply(t,arguments)}function aU(){var t=IS(Xg()).domain([1,10]);return t.copy=function(){return Ps(t,aU()).base(t.base())},Uo.apply(t,arguments)}function oU(){var t=jS(Xg());return t.copy=function(){return Ps(t,oU()).constant(t.constant())},Uo.apply(t,arguments)}function YS(){var t=BS(Xg());return t.copy=function(){return Ps(t,YS()).exponent(t.exponent())},Uo.apply(t,arguments)}function wq(){return YS.apply(null,arguments).exponent(.5)}function sU(){var t=[],e=Li;function n(i){if(i!=null&&!isNaN(i=+i))return e((Ad(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let r of i)r!=null&&!isNaN(r=+r)&&t.push(r);return t.sort(Ms),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,r)=>e(r/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(r,o)=>s7(t,o/i))},n.copy=function(){return sU(e).domain(t)},Uo.apply(n,arguments)}function $g(){var t=0,e=.5,n=1,i=1,r,o,l,c,f,d=Li,h,m=!1,g;function y(w){return isNaN(w=+w)?g:(w=.5+((w=+h(w))-o)*(i*w<i*o?c:f),d(m?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([t,e,n]=w,r=h(t=+t),o=h(e=+e),l=h(n=+n),c=r===o?0:.5/(o-r),f=o===l?0:.5/(l-o),i=o<r?-1:1,y):[t,e,n]},y.clamp=function(w){return arguments.length?(m=!!w,y):m},y.interpolator=function(w){return arguments.length?(d=w,y):d};function S(w){return function(v){var _,A,T;return arguments.length?([_,A,T]=v,d=L7(w,[_,A,T]),y):[d(0),d(.5),d(1)]}}return y.range=S(du),y.rangeRound=S(DS),y.unknown=function(w){return arguments.length?(g=w,y):g},function(w){return h=w,r=w(t),o=w(e),l=w(n),c=r===o?0:.5/(o-r),f=o===l?0:.5/(l-o),i=o<r?-1:1,y}}function lU(){var t=Os($g()(Li));return t.copy=function(){return Ps(t,lU())},Uo.apply(t,arguments)}function cU(){var t=IS($g()).domain([.1,1,10]);return t.copy=function(){return Ps(t,cU()).base(t.base())},Uo.apply(t,arguments)}function uU(){var t=jS($g());return t.copy=function(){return Ps(t,uU()).constant(t.constant())},Uo.apply(t,arguments)}function KS(){var t=BS($g());return t.copy=function(){return Ps(t,KS()).exponent(t.exponent())},Uo.apply(t,arguments)}function Sq(){return KS.apply(null,arguments).exponent(.5)}const jf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:NS,scaleDiverging:lU,scaleDivergingLog:cU,scaleDivergingPow:KS,scaleDivergingSqrt:Sq,scaleDivergingSymlog:uU,scaleIdentity:HL,scaleImplicit:P_,scaleLinear:zL,scaleLog:VL,scaleOrdinal:RS,scalePoint:u7,scalePow:FS,scaleQuantile:XL,scaleQuantize:$L,scaleRadial:qL,scaleSequential:rU,scaleSequentialLog:aU,scaleSequentialPow:YS,scaleSequentialQuantile:sU,scaleSequentialSqrt:wq,scaleSequentialSymlog:oU,scaleSqrt:iW,scaleSymlog:WL,scaleThreshold:YL,scaleTime:bq,scaleUtc:_q,tickFormat:FL},Symbol.toStringTag,{value:"Module"}));var ko=t=>t.chartData,fU=fe([ko],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),dU=(t,e,n,i)=>i?fU(t):ko(t),hU=(t,e,n)=>n?fU(t):ko(t);function To(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(At(e)&&At(n))return!0}return!1}function mN(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function pU(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,i]=t,r,o;if(At(n))r=n;else if(typeof n=="function")return;if(At(i))o=i;else if(typeof i=="function")return;var l=[r,o];if(To(l))return l}}function Eq(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var i=t(e,n);if(To(i))return mN(i,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[r,o]=t,l,c;if(r==="auto")e!=null&&(l=Math.min(...e));else if(qe(r))l=r;else if(typeof r=="function")try{e!=null&&(l=r(e==null?void 0:e[0]))}catch{}else if(typeof r=="string"&&TC.test(r)){var f=TC.exec(r);if(f==null||f[1]==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e==null?void 0:e[0];if(o==="auto")e!=null&&(c=Math.max(...e));else if(qe(o))c=o;else if(typeof o=="function")try{e!=null&&(c=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&CC.test(o)){var h=CC.exec(o);if(h==null||h[1]==null||e==null)c=void 0;else{var m=+h[1];c=e[1]+m}}else c=e==null?void 0:e[1];var g=[l,c];if(To(g))return e==null?g:mN(g,e,n)}}}var hu=1e9,Mq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QS,yn=!0,zr="[DecimalError] ",yl=zr+"Invalid argument: ",ZS=zr+"Exponent out of range: ",pu=Math.floor,ol=Math.pow,Aq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dr,ei=1e7,pn=7,mU=9007199254740991,zm=pu(mU/pn),$e={};$e.absoluteValue=$e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};$e.comparedTo=$e.cmp=function(t){var e,n,i,r,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(i=o.d.length,r=t.d.length,e=0,n=i<r?i:r;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return i===r?0:i>r^o.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(t){return xo(this,new this.constructor(t))};$e.dividedToIntegerBy=$e.idiv=function(t){var e=this,n=e.constructor;return cn(xo(e,new n(t),0,1),n.precision)};$e.equals=$e.eq=function(t){return!this.cmp(t)};$e.exponent=function(){return Fn(this)};$e.greaterThan=$e.gt=function(t){return this.cmp(t)>0};$e.greaterThanOrEqualTo=$e.gte=function(t){return this.cmp(t)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(t){return this.cmp(t)<0};$e.lessThanOrEqualTo=$e.lte=function(t){return this.cmp(t)<1};$e.logarithm=$e.log=function(t){var e,n=this,i=n.constructor,r=i.precision,o=r+5;if(t===void 0)t=new i(10);else if(t=new i(t),t.s<1||t.eq(dr))throw Error(zr+"NaN");if(n.s<1)throw Error(zr+(n.s?"NaN":"-Infinity"));return n.eq(dr)?new i(0):(yn=!1,e=xo(id(n,o),id(t,o),o),yn=!0,cn(e,r))};$e.minus=$e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xU(e,t):gU(e,(t.s=-t.s,t))};$e.modulo=$e.mod=function(t){var e,n=this,i=n.constructor,r=i.precision;if(t=new i(t),!t.s)throw Error(zr+"NaN");return n.s?(yn=!1,e=xo(n,t,0,1).times(t),yn=!0,n.minus(e)):cn(new i(n),r)};$e.naturalExponential=$e.exp=function(){return vU(this)};$e.naturalLogarithm=$e.ln=function(){return id(this)};$e.negated=$e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};$e.plus=$e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gU(e,t):xU(e,(t.s=-t.s,t))};$e.precision=$e.sd=function(t){var e,n,i,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(yl+t);if(e=Fn(r)+1,i=r.d.length-1,n=i*pn+1,i=r.d[i],i){for(;i%10==0;i/=10)n--;for(i=r.d[0];i>=10;i/=10)n++}return t&&e>n?e:n};$e.squareRoot=$e.sqrt=function(){var t,e,n,i,r,o,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(zr+"NaN")}for(t=Fn(c),yn=!1,r=Math.sqrt(+c),r==0||r==1/0?(e=Ma(c.d),(e.length+t)%2==0&&(e+="0"),r=Math.sqrt(e),t=pu((t+1)/2)-(t<0||t%2),r==1/0?e="5e"+t:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),i=new f(e)):i=new f(r.toString()),n=f.precision,r=l=n+3;;)if(o=i,i=o.plus(xo(c,o,l+2)).times(.5),Ma(o.d).slice(0,l)===(e=Ma(i.d)).slice(0,l)){if(e=e.slice(l-3,l+1),r==l&&e=="4999"){if(cn(o,n+1,0),o.times(o).eq(c)){i=o;break}}else if(e!="9999")break;l+=4}return yn=!0,cn(i,n)};$e.times=$e.mul=function(t){var e,n,i,r,o,l,c,f,d,h=this,m=h.constructor,g=h.d,y=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,f=g.length,d=y.length,f<d&&(o=g,g=y,y=o,l=f,f=d,d=l),o=[],l=f+d,i=l;i--;)o.push(0);for(i=d;--i>=0;){for(e=0,r=f+i;r>i;)c=o[r]+y[i]*g[r-i-1]+e,o[r--]=c%ei|0,e=c/ei|0;o[r]=(o[r]+e)%ei|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,yn?cn(t,m.precision):t};$e.toDecimalPlaces=$e.todp=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(Da(t,0,hu),e===void 0?e=i.rounding:Da(e,0,8),cn(n,t+Fn(n)+1,e))};$e.toExponential=function(t,e){var n,i=this,r=i.constructor;return t===void 0?n=Tl(i,!0):(Da(t,0,hu),e===void 0?e=r.rounding:Da(e,0,8),i=cn(new r(i),t+1,e),n=Tl(i,!0,t+1)),n};$e.toFixed=function(t,e){var n,i,r=this,o=r.constructor;return t===void 0?Tl(r):(Da(t,0,hu),e===void 0?e=o.rounding:Da(e,0,8),i=cn(new o(r),t+Fn(r)+1,e),n=Tl(i.abs(),!1,t+Fn(i)+1),r.isneg()&&!r.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var t=this,e=t.constructor;return cn(new e(t),Fn(t)+1,e.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(t){var e,n,i,r,o,l,c=this,f=c.constructor,d=12,h=+(t=new f(t));if(!t.s)return new f(dr);if(c=new f(c),!c.s){if(t.s<1)throw Error(zr+"Infinity");return c}if(c.eq(dr))return c;if(i=f.precision,t.eq(dr))return cn(c,i);if(e=t.e,n=t.d.length-1,l=e>=n,o=c.s,l){if((n=h<0?-h:h)<=mU){for(r=new f(dr),e=Math.ceil(i/pn+4),yn=!1;n%2&&(r=r.times(c),vN(r.d,e)),n=pu(n/2),n!==0;)c=c.times(c),vN(c.d,e);return yn=!0,t.s<0?new f(dr).div(r):cn(r,i)}}else if(o<0)throw Error(zr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,yn=!1,r=t.times(id(c,i+d)),yn=!0,r=vU(r),r.s=o,r};$e.toPrecision=function(t,e){var n,i,r=this,o=r.constructor;return t===void 0?(n=Fn(r),i=Tl(r,n<=o.toExpNeg||n>=o.toExpPos)):(Da(t,1,hu),e===void 0?e=o.rounding:Da(e,0,8),r=cn(new o(r),t,e),n=Fn(r),i=Tl(r,t<=n||n<=o.toExpNeg,t)),i};$e.toSignificantDigits=$e.tosd=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(Da(t,1,hu),e===void 0?e=i.rounding:Da(e,0,8)),cn(new i(n),t,e)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Fn(t),n=t.constructor;return Tl(t,e<=n.toExpNeg||e>=n.toExpPos)};function gU(t,e){var n,i,r,o,l,c,f,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),yn?cn(e,m):e;if(f=t.d,d=e.d,l=t.e,r=e.e,f=f.slice(),o=l-r,o){for(o<0?(i=f,o=-o,c=d.length):(i=d,r=l,c=f.length),l=Math.ceil(m/pn),c=l>c?l+1:c+1,o>c&&(o=c,i.length=1),i.reverse();o--;)i.push(0);i.reverse()}for(c=f.length,o=d.length,c-o<0&&(o=c,i=d,d=f,f=i),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/ei|0,f[o]%=ei;for(n&&(f.unshift(n),++r),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=r,yn?cn(e,m):e}function Da(t,e,n){if(t!==~~t||t<e||t>n)throw Error(yl+t)}function Ma(t){var e,n,i,r=t.length-1,o="",l=t[0];if(r>0){for(o+=l,e=1;e<r;e++)i=t[e]+"",n=pn-i.length,n&&(o+=xs(n)),o+=i;l=t[e],i=l+"",n=pn-i.length,n&&(o+=xs(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var xo=(function(){function t(i,r){var o,l=0,c=i.length;for(i=i.slice();c--;)o=i[c]*r+l,i[c]=o%ei|0,l=o/ei|0;return l&&i.unshift(l),i}function e(i,r,o,l){var c,f;if(o!=l)f=o>l?1:-1;else for(c=f=0;c<o;c++)if(i[c]!=r[c]){f=i[c]>r[c]?1:-1;break}return f}function n(i,r,o){for(var l=0;o--;)i[o]-=l,l=i[o]<r[o]?1:0,i[o]=l*ei+i[o]-r[o];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,o,l){var c,f,d,h,m,g,y,S,w,v,_,A,T,C,P,O,D,z,R=i.constructor,U=i.s==r.s?1:-1,F=i.d,j=r.d;if(!i.s)return new R(i);if(!r.s)throw Error(zr+"Division by zero");for(f=i.e-r.e,D=j.length,P=F.length,y=new R(U),S=y.d=[],d=0;j[d]==(F[d]||0);)++d;if(j[d]>(F[d]||0)&&--f,o==null?A=o=R.precision:l?A=o+(Fn(i)-Fn(r))+1:A=o,A<0)return new R(0);if(A=A/pn+2|0,d=0,D==1)for(h=0,j=j[0],A++;(d<P||h)&&A--;d++)T=h*ei+(F[d]||0),S[d]=T/j|0,h=T%j|0;else{for(h=ei/(j[0]+1)|0,h>1&&(j=t(j,h),F=t(F,h),D=j.length,P=F.length),C=D,w=F.slice(0,D),v=w.length;v<D;)w[v++]=0;z=j.slice(),z.unshift(0),O=j[0],j[1]>=ei/2&&++O;do h=0,c=e(j,w,D,v),c<0?(_=w[0],D!=v&&(_=_*ei+(w[1]||0)),h=_/O|0,h>1?(h>=ei&&(h=ei-1),m=t(j,h),g=m.length,v=w.length,c=e(m,w,g,v),c==1&&(h--,n(m,D<g?z:j,g))):(h==0&&(c=h=1),m=j.slice()),g=m.length,g<v&&m.unshift(0),n(w,m,v),c==-1&&(v=w.length,c=e(j,w,D,v),c<1&&(h++,n(w,D<v?z:j,v))),v=w.length):c===0&&(h++,w=[0]),S[d++]=h,c&&w[0]?w[v++]=F[C]||0:(w=[F[C]],v=1);while((C++<P||w[0]!==void 0)&&A--)}return S[0]||S.shift(),y.e=f,cn(y,l?o+Fn(y)+1:o)}})();function vU(t,e){var n,i,r,o,l,c,f=0,d=0,h=t.constructor,m=h.precision;if(Fn(t)>16)throw Error(ZS+Fn(t));if(!t.s)return new h(dr);for(yn=!1,c=m,l=new h(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(i=Math.log(ol(2,d))/Math.LN10*2+5|0,c+=i,n=r=o=new h(dr),h.precision=c;;){if(r=cn(r.times(t),c),n=n.times(++f),l=o.plus(xo(r,n,c)),Ma(l.d).slice(0,c)===Ma(o.d).slice(0,c)){for(;d--;)o=cn(o.times(o),c);return h.precision=m,e==null?(yn=!0,cn(o,m)):o}o=l}}function Fn(t){for(var e=t.e*pn,n=t.d[0];n>=10;n/=10)e++;return e}function $y(t,e,n){if(e>t.LN10.sd())throw yn=!0,n&&(t.precision=n),Error(zr+"LN10 precision limit exceeded");return cn(new t(t.LN10),e)}function xs(t){for(var e="";t--;)e+="0";return e}function id(t,e){var n,i,r,o,l,c,f,d,h,m=1,g=10,y=t,S=y.d,w=y.constructor,v=w.precision;if(y.s<1)throw Error(zr+(y.s?"NaN":"-Infinity"));if(y.eq(dr))return new w(0);if(e==null?(yn=!1,d=v):d=e,y.eq(10))return e==null&&(yn=!0),$y(w,d);if(d+=g,w.precision=d,n=Ma(S),i=n.charAt(0),o=Fn(y),Math.abs(o)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)y=y.times(t),n=Ma(y.d),i=n.charAt(0),m++;o=Fn(y),i>1?(y=new w("0."+n),o++):y=new w(i+"."+n.slice(1))}else return f=$y(w,d+2,v).times(o+""),y=id(new w(i+"."+n.slice(1)),d-g).plus(f),w.precision=v,e==null?(yn=!0,cn(y,v)):y;for(c=l=y=xo(y.minus(dr),y.plus(dr),d),h=cn(y.times(y),d),r=3;;){if(l=cn(l.times(h),d),f=c.plus(xo(l,new w(r),d)),Ma(f.d).slice(0,d)===Ma(c.d).slice(0,d))return c=c.times(2),o!==0&&(c=c.plus($y(w,d+2,v).times(o+""))),c=xo(c,new w(m),d),w.precision=v,e==null?(yn=!0,cn(c,v)):c;c=f,r+=2}}function gN(t,e){var n,i,r;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,n=n-i-1,t.e=pu(n/pn),t.d=[],i=(n+1)%pn,n<0&&(i+=pn),i<r){for(i&&t.d.push(+e.slice(0,i)),r-=pn;i<r;)t.d.push(+e.slice(i,i+=pn));e=e.slice(i),i=pn-e.length}else i-=r;for(;i--;)e+="0";if(t.d.push(+e),yn&&(t.e>zm||t.e<-zm))throw Error(ZS+n)}else t.s=0,t.e=0,t.d=[0];return t}function cn(t,e,n){var i,r,o,l,c,f,d,h,m=t.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(i=e-l,i<0)i+=pn,r=e,d=m[h=0];else{if(h=Math.ceil((i+1)/pn),o=m.length,h>=o)return t;for(d=o=m[h],l=1;o>=10;o/=10)l++;i%=pn,r=i-pn+l}if(n!==void 0&&(o=ol(10,l-r-1),c=d/o%10|0,f=e<0||m[h+1]!==void 0||d%o,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(i>0?r>0?d/ol(10,l-r):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(o=Fn(t),m.length=1,e=e-o-1,m[0]=ol(10,(pn-e%pn)%pn),t.e=pu(-e/pn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(i==0?(m.length=h,o=1,h--):(m.length=h+1,o=ol(10,pn-i),m[h]=r>0?(d/ol(10,l-r)%ol(10,r)|0)*o:0),f)for(;;)if(h==0){(m[0]+=o)==ei&&(m[0]=1,++t.e);break}else{if(m[h]+=o,m[h]!=ei)break;m[h--]=0,o=1}for(i=m.length;m[--i]===0;)m.pop();if(yn&&(t.e>zm||t.e<-zm))throw Error(ZS+Fn(t));return t}function xU(t,e){var n,i,r,o,l,c,f,d,h,m,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),yn?cn(e,y):e;if(f=t.d,m=e.d,i=e.e,d=t.e,f=f.slice(),l=d-i,l){for(h=l<0,h?(n=f,l=-l,c=m.length):(n=m,i=d,c=f.length),r=Math.max(Math.ceil(y/pn),c)+2,l>r&&(l=r,n.length=1),n.reverse(),r=l;r--;)n.push(0);n.reverse()}else{for(r=f.length,c=m.length,h=r<c,h&&(c=r),r=0;r<c;r++)if(f[r]!=m[r]){h=f[r]<m[r];break}l=0}for(h&&(n=f,f=m,m=n,e.s=-e.s),c=f.length,r=m.length-c;r>0;--r)f[c++]=0;for(r=m.length;r>l;){if(f[--r]<m[r]){for(o=r;o&&f[--o]===0;)f[o]=ei-1;--f[o],f[r]+=ei}f[r]-=m[r]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--i;return f[0]?(e.d=f,e.e=i,yn?cn(e,y):e):new g(0)}function Tl(t,e,n){var i,r=Fn(t),o=Ma(t.d),l=o.length;return e?(n&&(i=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+xs(i):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(r<0?"e":"e+")+r):r<0?(o="0."+xs(-r-1)+o,n&&(i=n-l)>0&&(o+=xs(i))):r>=l?(o+=xs(r+1-l),n&&(i=n-r-1)>0&&(o=o+"."+xs(i))):((i=r+1)<l&&(o=o.slice(0,i)+"."+o.slice(i)),n&&(i=n-l)>0&&(r+1===l&&(o+="."),o+=xs(i))),t.s<0?"-"+o:o}function vN(t,e){if(t.length>e)return t.length=e,!0}function yU(t){var e,n,i;function r(o){var l=this;if(!(l instanceof r))return new r(o);if(l.constructor=r,o instanceof r){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(yl+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return gN(l,o.toString())}else if(typeof o!="string")throw Error(yl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,Aq.test(o))gN(l,o);else throw Error(yl+o)}if(r.prototype=$e,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=yU,r.config=r.set=Tq,t===void 0&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return r.config(t),r}function Tq(t){if(!t||typeof t!="object")throw Error(zr+"Object expected");var e,n,i,r=["precision",1,hu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=t[n=r[e]])!==void 0)if(pu(i)===i&&i>=r[e+1]&&i<=r[e+2])this[n]=i;else throw Error(yl+n+": "+i);if((i=t[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(yl+n+": "+i);return this}var QS=yU(Mq);dr=new QS(1);const Jt=QS;function bU(t){var e;return t===0?e=1:e=Math.floor(new Jt(t).abs().log(10).toNumber())+1,e}function _U(t,e,n){for(var i=new Jt(t),r=0,o=[];i.lt(e)&&r<1e5;)o.push(i.toNumber()),i=i.add(n),r++;return o}var wU=t=>{var[e,n]=t,[i,r]=[e,n];return e>n&&([i,r]=[n,e]),[i,r]},SU=(t,e,n)=>{if(t.lte(0))return new Jt(0);var i=bU(t.toNumber()),r=new Jt(10).pow(i),o=t.div(r),l=i!==1?.05:.1,c=new Jt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=c.mul(r);return e?new Jt(f.toNumber()):new Jt(Math.ceil(f.toNumber()))},Cq=(t,e,n)=>{var i=new Jt(1),r=new Jt(t);if(!r.isint()&&n){var o=Math.abs(t);o<1?(i=new Jt(10).pow(bU(t)-1),r=new Jt(Math.floor(r.div(i).toNumber())).mul(i)):o>1&&(r=new Jt(Math.floor(t)))}else t===0?r=new Jt(Math.floor((e-1)/2)):n||(r=new Jt(Math.floor(t)));for(var l=Math.floor((e-1)/2),c=[],f=0;f<e;f++)c.push(r.add(new Jt(f-l).mul(i)).toNumber());return c},EU=function(e,n,i,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(i-1)))return{step:new Jt(0),tickMin:new Jt(0),tickMax:new Jt(0)};var l=SU(new Jt(n).sub(e).div(i-1),r,o),c;e<=0&&n>=0?c=new Jt(0):(c=new Jt(e).add(n).div(2),c=c.sub(new Jt(c).mod(l)));var f=Math.ceil(c.sub(e).div(l).toNumber()),d=Math.ceil(new Jt(n).sub(c).div(l).toNumber()),h=f+d+1;return h>i?EU(e,n,i,r,o+1):(h<i&&(d=n>0?d+(i-h):d,f=n>0?f:f+(i-h)),{step:l,tickMin:c.sub(new Jt(f).mul(l)),tickMax:c.add(new Jt(d).mul(l))})},Rq=function(e){var[n,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[c,f]=wU([n,i]);if(c===-1/0||f===1/0){var d=f===1/0?[c,...Array(r-1).fill(1/0)]:[...Array(r-1).fill(-1/0),f];return n>i?d.reverse():d}if(c===f)return Cq(c,r,o);var{step:h,tickMin:m,tickMax:g}=EU(c,f,l,o,0),y=_U(m,g.add(new Jt(.1).mul(h)),h);return n>i?y.reverse():y},Nq=function(e,n){var[i,r]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=wU([i,r]);if(l===-1/0||c===1/0)return[i,r];if(l===c)return[l];var f=Math.max(n,2),d=SU(new Jt(c).sub(l).div(f-1),o,0),h=[..._U(new Jt(l),new Jt(c),d),c];return o===!1&&(h=h.map(m=>Math.round(m))),i>r?h.reverse():h},MU=t=>t.rootProps.maxBarSize,Oq=t=>t.rootProps.barGap,AU=t=>t.rootProps.barCategoryGap,Pq=t=>t.rootProps.barSize,Yg=t=>t.rootProps.stackOffset,TU=t=>t.rootProps.reverseStackOrder,JS=t=>t.options.chartName,e1=t=>t.rootProps.syncId,CU=t=>t.rootProps.syncMethod,t1=t=>t.options.eventEmitter,Dq=t=>t.rootProps.baseValue,ti={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Zs={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ba={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Kg=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Zg(t,e,n){if(n!=="auto")return n;if(t!=null)return ja(t,e)?"category":"number"}function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(i){Lq(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Lq(t,e,n){return(e=Uq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uq(t){var e=kq(t,"string");return typeof e=="symbol"?e:e+""}function kq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yN={allowDataOverflow:Zs.allowDataOverflow,allowDecimals:Zs.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zs.angleAxisId,includeHidden:!1,name:void 0,reversed:Zs.reversed,scale:Zs.scale,tick:Zs.tick,tickCount:void 0,ticks:void 0,type:Zs.type,unit:void 0},bN={allowDataOverflow:ba.allowDataOverflow,allowDecimals:ba.allowDecimals,allowDuplicatedCategory:ba.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ba.radiusAxisId,includeHidden:ba.includeHidden,name:void 0,reversed:ba.reversed,scale:ba.scale,tick:ba.tick,tickCount:ba.tickCount,ticks:void 0,type:ba.type,unit:void 0},Iq=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},n1=fe([Iq,pL],(t,e)=>{var n;if(t!=null)return t;var i=(n=Zg(e,"angleAxis",yN.type))!==null&&n!==void 0?n:"category";return Hm(Hm({},yN),{},{type:i})}),jq=(t,e)=>t.polarAxis.radiusAxis[e],i1=fe([jq,pL],(t,e)=>{var n;if(t!=null)return t;var i=(n=Zg(e,"radiusAxis",bN.type))!==null&&n!==void 0?n:"category";return Hm(Hm({},bN),{},{type:i})}),Qg=t=>t.polarOptions,r1=fe([Do,Lo,ni],U9),RU=fe([Qg,r1],(t,e)=>{if(t!=null)return ca(t.innerRadius,e,0)}),NU=fe([Qg,r1],(t,e)=>{if(t!=null)return ca(t.outerRadius,e,e*.8)}),Bq=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},OU=fe([Qg],Bq);fe([n1,OU],Kg);var PU=fe([r1,RU,NU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});fe([i1,PU],Kg);var DU=fe([Xt,Qg,RU,NU,Do,Lo],(t,e,n,i,r,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||i==null)){var{cx:l,cy:c,startAngle:f,endAngle:d}=e;return{cx:ca(l,r,r/2),cy:ca(c,o,o/2),innerRadius:n,outerRadius:i,startAngle:f,endAngle:d,clockWise:!1}}}),ri=(t,e)=>e,Jg=(t,e,n)=>n;function ev(t){return t==null?void 0:t.id}function LU(t,e,n){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:o}=n,l=new Map;return t.forEach(c=>{var f,d=(f=c.data)!==null&&f!==void 0?f:i;if(!(d==null||d.length===0)){var h=ev(c);d.forEach((m,g)=>{var y=o==null||r?g:String(Bn(m,o,null)),S=Bn(m,c.dataKey,0),w;l.has(y)?w=l.get(y):w={},Object.assign(w,{[h]:S}),l.set(y,w)})}}),Array.from(l.values())}function tv(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var nv=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function iv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Fq(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var ai=t=>{var e=Xt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},mu=t=>t.tooltip.settings.axisId;function zq(t){if(t in jf)return jf[t]();var e="scale".concat(yd(t));if(e in jf)return jf[e]()}function _N(t){var e=t.ticks,n=t.bandwidth,i=t.range(),r=[Math.min(...i),Math.max(...i)];return{domain:()=>t.domain(),range:(function(o){function l(){return o.apply(this,arguments)}return l.toString=function(){return o.toString()},l})(()=>r),rangeMin:()=>r[0],rangeMax:()=>r[1],isInRange(o){var l=r[0],c=r[1];return l<=c?o>=l&&o<=c:o>=c&&o<=l},bandwidth:n?()=>n.call(t):void 0,ticks:e?o=>e.call(t,o):void 0,map:(o,l)=>{var c=t(o);if(c!=null){if(t.bandwidth&&l!==null&&l!==void 0&&l.position){var f=t.bandwidth();switch(l.position){case"middle":c+=f/2;break;case"end":c+=f;break}}return c}}}}function wN(t,e,n){if(typeof t=="function")return _N(t.copy().domain(e).range(n));if(t!=null){var i=zq(t);if(i!=null)return i.domain(e).range(n),_N(i)}}var Hq=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!To(e)){for(var n,i,r=0;r<e.length;r++){var o=e[r];At(o)&&((n===void 0||o<n)&&(n=o),(i===void 0||o>i)&&(i=o))}return n!==void 0&&i!==void 0?[n,i]:void 0}return e}default:return e}};function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(i){Gq(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Gq(t,e,n){return(e=Vq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vq(t){var e=Wq(t,"string");return typeof e=="symbol"?e:e+""}function Wq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k_=[0,"auto"],Qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},UU=(t,e)=>t.cartesianAxis.xAxis[e],Io=(t,e)=>{var n=UU(t,e);return n??Qn},Jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:k_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:wd},kU=(t,e)=>t.cartesianAxis.yAxis[e],jo=(t,e)=>{var n=kU(t,e);return n??Jn},qq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},a1=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??qq},zi=(t,e,n)=>{switch(e){case"xAxis":return Io(t,n);case"yAxis":return jo(t,n);case"zAxis":return a1(t,n);case"angleAxis":return n1(t,n);case"radiusAxis":return i1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Xq=(t,e,n)=>{switch(e){case"xAxis":return Io(t,n);case"yAxis":return jo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Nd=(t,e,n)=>{switch(e){case"xAxis":return Io(t,n);case"yAxis":return jo(t,n);case"angleAxis":return n1(t,n);case"radiusAxis":return i1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},IU=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function jU(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var rv=t=>t.graphicalItems.cartesianItems,$q=fe([ri,Jg],jU),BU=(t,e,n)=>t.filter(n).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),Od=fe([rv,zi,$q],BU,{memoizeOptions:{resultEqualityCheck:iv}}),FU=fe([Od],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(tv)),zU=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Yq=fe([Od],zU),HU=t=>t.map(e=>e.data).filter(Boolean).flat(1),Kq=fe([Od],HU,{memoizeOptions:{resultEqualityCheck:iv}}),GU=(t,e)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:r}=e;return t.length>0?t:n.slice(i,r+1)},o1=fe([Kq,dU],GU),VU=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:Bn(i,e.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>t.map(r=>({value:Bn(r,i)}))):t.map(i=>({value:i})),av=fe([o1,zi,Od],VU);function WU(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function $p(t){if(Oa(t)||t instanceof Date){var e=Number(t);if(At(e))return e}}function EN(t){if(Array.isArray(t)){var e=[$p(t[0]),$p(t[1])];return To(e)?e:void 0}var n=$p(t);if(n!=null)return[n,n]}function Co(t){return t.map($p).filter(Zi)}function Zq(t,e,n){return!n||typeof e!="number"||la(e)?[]:n.length?Co(n.flatMap(i=>{var r=Bn(t,i.dataKey),o,l;if(Array.isArray(r)?[o,l]=r:o=l=r,!(!At(o)||!At(l)))return[e-o,e+l]})):[]}var $n=t=>{var e=ai(t),n=mu(t);return Nd(t,e,n)},Pd=fe([$n],t=>t==null?void 0:t.dataKey),Qq=fe([FU,dU,$n],LU),qU=(t,e,n,i)=>{var r={},o=e.reduce((l,c)=>{if(c.stackId==null)return l;var f=l[c.stackId];return f==null&&(f=[]),f.push(c),l[c.stackId]=f,l},r);return Object.fromEntries(Object.entries(o).map(l=>{var[c,f]=l,d=i?[...f].reverse():f,h=d.map(ev);return[c,{stackedData:TG(t,h,n),graphicalItems:d}]}))},Vm=fe([Qq,FU,Yg,TU],qU),XU=(t,e,n,i)=>{var{dataStartIndex:r,dataEndIndex:o}=e;if(i==null&&n!=="zAxis"){var l=OG(t,r,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Jq=fe([zi],t=>t.allowDataOverflow),s1=t=>{var e;if(t==null||!("domain"in t))return k_;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Co(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:k_},$U=fe([zi],s1),YU=fe([$U,Jq],pU),eX=fe([Vm,ko,ri,YU],XU,{memoizeOptions:{resultEqualityCheck:nv}}),l1=t=>t.errorBars,tX=(t,e,n)=>t.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>WU(n,i)),Wm=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n.filter(Boolean);if(r.length!==0){var o=r.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},KU=(t,e,n,i,r)=>{var o,l;if(n.length>0&&t.forEach(c=>{n.forEach(f=>{var d,h,m=(d=i[f.id])===null||d===void 0?void 0:d.filter(_=>WU(r,_)),g=Bn(c,(h=e.dataKey)!==null&&h!==void 0?h:f.dataKey),y=Zq(c,g,m);if(y.length>=2){var S=Math.min(...y),w=Math.max(...y);(o==null||S<o)&&(o=S),(l==null||w>l)&&(l=w)}var v=EN(g);v!=null&&(o=o==null?v[0]:Math.min(o,v[0]),l=l==null?v[1]:Math.max(l,v[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(c=>{var f=EN(Bn(c,e.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),At(o)&&At(l))return[o,l]},nX=fe([o1,zi,Yq,l1,ri],KU,{memoizeOptions:{resultEqualityCheck:nv}});function iX(t){var{value:e}=t;if(Oa(e)||e instanceof Date)return e}var rX=(t,e,n)=>{var i=t.map(iX).filter(r=>r!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&f3(i))?OL(0,t.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},ZU=t=>t.referenceElements.dots,gu=(t,e,n)=>t.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===n:i.yAxisId===n),aX=fe([ZU,ri,Jg],gu),QU=t=>t.referenceElements.areas,oX=fe([QU,ri,Jg],gu),JU=t=>t.referenceElements.lines,sX=fe([JU,ri,Jg],gu),ek=(t,e)=>{if(t!=null){var n=Co(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},lX=fe(aX,ri,ek),tk=(t,e)=>{if(t!=null){var n=Co(t.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},cX=fe([oX,ri],tk);function uX(t){var e;if(t.x!=null)return Co([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.x);return n==null||n.length===0?[]:Co(n)}function fX(t){var e;if(t.y!=null)return Co([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.y);return n==null||n.length===0?[]:Co(n)}var nk=(t,e)=>{if(t!=null){var n=t.flatMap(i=>e==="xAxis"?uX(i):fX(i));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},dX=fe([sX,ri],nk),hX=fe(lX,dX,cX,(t,e,n)=>Wm(t,n,e)),ik=(t,e,n,i,r,o,l,c)=>{if(n!=null)return n;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",d=f?Wm(i,o,r):Wm(o,r);return Eq(e,d,t.allowDataOverflow)},pX=fe([zi,$U,YU,eX,nX,hX,Xt,ri],ik,{memoizeOptions:{resultEqualityCheck:nv}}),mX=[0,1],rk=(t,e,n,i,r,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:f}=t,d=ja(e,o);if(d&&c==null){var h;return OL(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return f==="category"?rX(i,t,d):r==="expand"?mX:l}},c1=fe([zi,Xt,o1,av,Yg,ri,pX],rk);function gX(t){return t in jf}var ak=(t,e,n)=>{if(t!=null){var{scale:i,type:r}=t;if(i==="auto")return r==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":r==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(yd(i));return gX(o)?o:"point"}}},vu=fe([zi,IU,JS],ak);function u1(t,e,n,i){if(!(n==null||i==null))return typeof t.scale=="function"?wN(t.scale,n,i):wN(e,n,i)}var ok=(t,e,n)=>{var i=s1(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&To(t))return Rq(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&To(t))return Nq(t,e.tickCount,e.allowDecimals)}},f1=fe([c1,Nd,vu],ok),sk=(t,e,n,i)=>{if(i!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&To(e)&&Array.isArray(n)&&n.length>0){var r,o,l=e[0],c=(r=n[0])!==null&&r!==void 0?r:0,f=e[1],d=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(l,c),Math.max(f,d)]}return e},vX=fe([zi,c1,f1,ri],sk),xX=fe(av,zi,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,i=Array.from(Co(t.map(m=>m.value))).sort((m,g)=>m-g),r=i[0],o=i[i.length-1];if(r==null||o==null)return 1/0;var l=o-r;if(l===0)return 1/0;for(var c=0;c<i.length-1;c++){var f=i[c],d=i[c+1];if(!(f==null||d==null)){var h=d-f;n=Math.min(n,h)}}return n/l}}),lk=fe(xX,Xt,AU,ni,(t,e,n,i,r)=>r,(t,e,n,i,r)=>{if(!At(t))return 0;var o=e==="vertical"?i.height:i.width;if(r==="gap")return t*o/2;if(r==="no-gap"){var l=ca(n,t*o),c=t*o/2;return c-l-(c-l)/o*l}return 0}),yX=(t,e,n)=>{var i=Io(t,e);return i==null||typeof i.padding!="string"?0:lk(t,"xAxis",e,n,i.padding)},bX=(t,e,n)=>{var i=jo(t,e);return i==null||typeof i.padding!="string"?0:lk(t,"yAxis",e,n,i.padding)},_X=fe(Io,yX,(t,e)=>{var n,i;if(t==null)return{left:0,right:0};var{padding:r}=t;return typeof r=="string"?{left:e,right:e}:{left:((n=r.left)!==null&&n!==void 0?n:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),wX=fe(jo,bX,(t,e)=>{var n,i;if(t==null)return{top:0,bottom:0};var{padding:r}=t;return typeof r=="string"?{top:e,bottom:e}:{top:((n=r.top)!==null&&n!==void 0?n:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),SX=fe([ni,_X,kg,Ug,(t,e,n)=>n],(t,e,n,i,r)=>{var{padding:o}=i;return r?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),EX=fe([ni,Xt,wX,kg,Ug,(t,e,n)=>n],(t,e,n,i,r,o)=>{var{padding:l}=r;return o?[i.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Dd=(t,e,n,i)=>{var r;switch(e){case"xAxis":return SX(t,n,i);case"yAxis":return EX(t,n,i);case"zAxis":return(r=a1(t,n))===null||r===void 0?void 0:r.range;case"angleAxis":return OU(t);case"radiusAxis":return PU(t,n);default:return}},ck=fe([zi,Dd],Kg),MX=fe([vu,vX],Hq),ov=fe([zi,vu,MX,ck],u1);fe([Od,l1,ri],tX);function uk(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var sv=(t,e)=>e,lv=(t,e,n)=>n,AX=fe(Dg,sv,lv,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(uk)),TX=fe(Lg,sv,lv,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(uk)),fk=(t,e)=>({width:t.width,height:e.height}),CX=(t,e)=>{var n=typeof e.width=="number"?e.width:wd;return{width:n,height:t.height}},dk=fe(ni,Io,fk),RX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},NX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},OX=fe(Lo,ni,AX,sv,lv,(t,e,n,i,r)=>{var o={},l;return n.forEach(c=>{var f=fk(e,c);l==null&&(l=RX(e,i,t));var d=i==="top"&&!r||i==="bottom"&&r;o[c.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),o}),PX=fe(Do,ni,TX,sv,lv,(t,e,n,i,r)=>{var o={},l;return n.forEach(c=>{var f=CX(e,c);l==null&&(l=NX(e,i,t));var d=i==="left"&&!r||i==="right"&&r;o[c.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),o}),DX=(t,e)=>{var n=Io(t,e);if(n!=null)return OX(t,n.orientation,n.mirror)},LX=fe([ni,Io,DX,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var r=n==null?void 0:n[i];return r==null?{x:t.left,y:0}:{x:t.left,y:r}}}),UX=(t,e)=>{var n=jo(t,e);if(n!=null)return PX(t,n.orientation,n.mirror)},kX=fe([ni,jo,UX,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var r=n==null?void 0:n[i];return r==null?{x:0,y:t.top}:{x:r,y:t.top}}}),hk=fe(ni,jo,(t,e)=>{var n=typeof e.width=="number"?e.width:wd;return{width:n,height:t.height}}),MN=(t,e,n)=>{switch(e){case"xAxis":return dk(t,n).width;case"yAxis":return hk(t,n).height;default:return}},pk=(t,e,n,i)=>{if(n!=null){var{allowDuplicatedCategory:r,type:o,dataKey:l}=n,c=ja(t,i),f=e.map(d=>d.value);if(l&&c&&o==="category"&&r&&f3(f))return f}},d1=fe([Xt,av,zi,ri],pk),mk=(t,e,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:r,scale:o}=n,l=ja(t,i);if(l&&(r==="number"||o!=="auto"))return e.map(c=>c.value)}},h1=fe([Xt,av,Nd,ri],mk),AN=fe([Xt,Xq,vu,ov,d1,h1,Dd,f1,ri],(t,e,n,i,r,o,l,c,f)=>{if(e!=null){var d=ja(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:r,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:i}}}),IX=(t,e,n,i,r,o,l,c,f)=>{if(!(e==null||i==null)){var d=ja(t,f),{type:h,ticks:m,tickCount:g}=e,y=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,S=h==="category"&&i.bandwidth?i.bandwidth()/y:0;S=f==="angleAxis"&&o!=null&&o.length>=2?Ki(o[0]-o[1])*2*S:S;var w=m||r;return w?w.map((v,_)=>{var A=l?l.indexOf(v):v,T=i.map(A);return At(T)?{index:_,coordinate:T+S,value:v,offset:S}:null}).filter(Zi):d&&c?c.map((v,_)=>{var A=i.map(v);return At(A)?{coordinate:A+S,value:v,index:_,offset:S}:null}).filter(Zi):i.ticks?i.ticks(g).map((v,_)=>{var A=i.map(v);return At(A)?{coordinate:A+S,value:v,index:_,offset:S}:null}).filter(Zi):i.domain().map((v,_)=>{var A=i.map(v);return At(A)?{coordinate:A+S,value:l?l[v]:v,index:_,offset:S}:null}).filter(Zi)}},gk=fe([Xt,Nd,vu,ov,f1,Dd,d1,h1,ri],IX),jX=(t,e,n,i,r,o,l)=>{if(!(e==null||n==null||i==null||i[0]===i[1])){var c=ja(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&(i==null?void 0:i.length)>=2?Ki(i[0]-i[1])*2*d:d,c&&o?o.map((h,m)=>{var g=n.map(h);return At(g)?{coordinate:g+d,value:h,index:m,offset:d}:null}).filter(Zi):n.ticks?n.ticks(f).map((h,m)=>{var g=n.map(h);return At(g)?{coordinate:g+d,value:h,index:m,offset:d}:null}).filter(Zi):n.domain().map((h,m)=>{var g=n.map(h);return At(g)?{coordinate:g+d,value:r?r[h]:h,index:m,offset:d}:null}).filter(Zi)}},Cs=fe([Xt,Nd,ov,Dd,d1,h1,ri],jX),Rs=fe(zi,ov,(t,e)=>{if(!(t==null||e==null))return Gm(Gm({},t),{},{scale:e})}),BX=fe([zi,vu,c1,ck],u1);fe((t,e,n)=>a1(t,n),BX,(t,e)=>{if(!(t==null||e==null))return Gm(Gm({},t),{},{scale:e})});var FX=fe([Xt,Dg,Lg],(t,e,n)=>{switch(t){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),vk=t=>t.options.defaultTooltipEventType,xk=t=>t.options.validateTooltipEventTypes;function yk(t,e,n){if(t==null)return e;var i=t?"axis":"item";return n==null?e:n.includes(i)?i:e}function p1(t,e){var n=vk(t),i=xk(t);return yk(e,n,i)}function zX(t){return ot(e=>p1(e,t))}var bk=(t,e)=>{var n,i=Number(e);if(!(la(i)||e==null))return i>=0?t==null||(n=t[i])===null||n===void 0?void 0:n.value:void 0},HX=t=>t.tooltip.settings,_s={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},GX={itemInteraction:{click:_s,hover:_s},axisInteraction:{click:_s,hover:_s},keyboardInteraction:_s,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_k=nr({name:"tooltip",initialState:GX,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:xn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:i}=e.payload,r=oa(t).tooltipItemPayloads.indexOf(n);r>-1&&(t.tooltipItemPayloads[r]=i)},prepare:xn()},removeTooltipEntrySettings:{reducer(t,e){var n=oa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:xn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:VX,replaceTooltipEntrySettings:WX,removeTooltipEntrySettings:qX,setTooltipSettingsState:XX,setActiveMouseOverItemIndex:wk,mouseLeaveItem:$X,mouseLeaveChart:Sk,setActiveClickItemIndex:YX,setMouseOverAxisIndex:Ek,setMouseClickAxisIndex:KX,setSyncInteraction:I_,setKeyboardInteraction:j_}=_k.actions,ZX=_k.reducer;function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(i){QX(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function QX(t,e,n){return(e=JX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JX(t){var e=e$(t,"string");return typeof e=="symbol"?e:e+""}function e$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t$(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function n$(t){return t.index!=null}var Mk=(t,e,n,i)=>{if(e==null)return _s;var r=t$(t,e,n);if(r==null)return _s;if(r.active)return r;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(n$(r)){if(o)return fp(fp({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return fp(fp({},_s),{},{coordinate:r.coordinate})};function i$(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function r$(t,e){var n=i$(t),i=e[0],r=e[1];if(n===void 0)return!1;var o=Math.min(i,r),l=Math.max(i,r);return n>=o&&n<=l}function a$(t,e,n){if(n==null||e==null)return!0;var i=Bn(t,e);return i==null||!To(n)?!0:r$(i,n)}var m1=(t,e,n,i)=>{var r=t==null?void 0:t.index;if(r==null)return null;var o=Number(r);if(!At(o))return r;var l=0,c=1/0;e.length>0&&(c=e.length-1);var f=Math.max(l,Math.min(o,c)),d=e[f];return d==null||a$(d,n,i)?String(f):null},Ak=(t,e,n,i,r,o,l)=>{if(o!=null){var c=l[0],f=c==null?void 0:c.getPosition(o);if(f!=null)return f;var d=r==null?void 0:r[Number(o)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(i.top+e)/2};default:return{x:(i.left+t)/2,y:d.coordinate}}}},Tk=(t,e,n,i)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var r;if(n==="hover"?r=t.itemInteraction.hover.graphicalItemId:r=t.itemInteraction.click.graphicalItemId,r==null&&i!=null){var o=t.tooltipItemPayloads[0];return o!=null?[o]:[]}return t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===r})},Ck=t=>t.options.tooltipPayloadSearcher,xu=t=>t.tooltip;function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function RN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(i){o$(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function o$(t,e,n){return(e=s$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t){var e=l$(t,"string");return typeof e=="symbol"?e:e+""}function l$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c$(t,e){return t??e}var Rk=(t,e,n,i,r,o,l)=>{if(!(e==null||o==null)){var{chartData:c,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,m=[];return t.reduce((g,y)=>{var S,{dataDefinedOnItem:w,settings:v}=y,_=c$(w,c),A=Array.isArray(_)?iL(_,d,h):_,T=(S=v==null?void 0:v.dataKey)!==null&&S!==void 0?S:i,C=v==null?void 0:v.nameKey,P;if(i&&Array.isArray(A)&&!Array.isArray(A[0])&&l==="axis"?P=d3(A,i,r):P=o(A,e,f,C),Array.isArray(P))P.forEach(D=>{var z=RN(RN({},v),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});g.push(RC({tooltipEntrySettings:z,dataKey:D.dataKey,payload:D.payload,value:Bn(D.payload,D.dataKey),name:D.name}))});else{var O;g.push(RC({tooltipEntrySettings:v,dataKey:T,payload:P,value:Bn(P,T),name:(O=Bn(P,C))!==null&&O!==void 0?O:v==null?void 0:v.name}))}return g},m)}},g1=fe([$n,IU,JS],ak),u$=fe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),f$=fe([ai,mu],jU),yu=fe([u$,$n,f$],BU,{memoizeOptions:{resultEqualityCheck:iv}}),d$=fe([yu],t=>t.filter(tv)),h$=fe([yu],HU,{memoizeOptions:{resultEqualityCheck:iv}}),bu=fe([h$,ko],GU),p$=fe([d$,ko,$n],LU),v1=fe([bu,$n,yu],VU),Nk=fe([$n],s1),m$=fe([$n],t=>t.allowDataOverflow),Ok=fe([Nk,m$],pU),g$=fe([yu],t=>t.filter(tv)),v$=fe([p$,g$,Yg,TU],qU),x$=fe([v$,ko,ai,Ok],XU),y$=fe([yu],zU),b$=fe([bu,$n,y$,l1,ai],KU,{memoizeOptions:{resultEqualityCheck:nv}}),_$=fe([ZU,ai,mu],gu),w$=fe([_$,ai],ek),S$=fe([QU,ai,mu],gu),E$=fe([S$,ai],tk),M$=fe([JU,ai,mu],gu),A$=fe([M$,ai],nk),T$=fe([w$,A$,E$],Wm),C$=fe([$n,Nk,Ok,x$,b$,T$,Xt,ai],ik),Ld=fe([$n,Xt,bu,v1,Yg,ai,C$],rk),R$=fe([Ld,$n,g1],ok),N$=fe([$n,Ld,R$,ai],sk),Pk=t=>{var e=ai(t),n=mu(t),i=!1;return Dd(t,e,n,i)},Dk=fe([$n,Pk],Kg),Lk=fe([$n,g1,N$,Dk],u1),O$=fe([Xt,v1,$n,ai],pk),P$=fe([Xt,v1,$n,ai],mk),D$=(t,e,n,i,r,o,l,c)=>{if(e){var{type:f}=e,d=ja(t,c);if(i){var h=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,m=f==="category"&&i.bandwidth?i.bandwidth()/h:0;return m=c==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?Ki(r[0]-r[1])*2*m:m,d&&l?l.map((g,y)=>{var S=i.map(g);return At(S)?{coordinate:S+m,value:g,index:y,offset:m}:null}).filter(Zi):i.domain().map((g,y)=>{var S=i.map(g);return At(S)?{coordinate:S+m,value:o?o[g]:g,index:y,offset:m}:null}).filter(Zi)}}},Bo=fe([Xt,$n,g1,Lk,Pk,O$,P$,ai],D$),x1=fe([vk,xk,HX],(t,e,n)=>yk(n.shared,t,e)),Uk=t=>t.tooltip.settings.trigger,y1=t=>t.tooltip.settings.defaultIndex,Ud=fe([xu,x1,Uk,y1],Mk),Cl=fe([Ud,bu,Pd,Ld],m1),kk=fe([Bo,Cl],bk),Ik=fe([Ud],t=>{if(t)return t.dataKey});fe([Ud],t=>{if(t)return t.graphicalItemId});var jk=fe([xu,x1,Uk,y1],Tk),L$=fe([Do,Lo,Xt,ni,Bo,y1,jk],Ak),U$=fe([Ud,L$],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),k$=fe([Ud],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),I$=fe([jk,Cl,ko,Pd,kk,Ck,x1],Rk),j$=fe([I$],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ON(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(i){B$(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function B$(t,e,n){return(e=F$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F$(t){var e=z$(t,"string");return typeof e=="symbol"?e:e+""}function z$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H$=()=>ot($n),G$=()=>{var t=H$(),e=ot(Bo),n=ot(Lk);return Zc(!t||!n?void 0:ON(ON({},t),{},{scale:n}),e)};function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(i){V$(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function V$(t,e,n){return(e=W$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W$(t){var e=q$(t,"string");return typeof e=="symbol"?e:e+""}function q$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X$=(t,e,n,i)=>{var r=e.find(o=>o&&o.index===n);if(r){if(t==="horizontal")return{x:r.coordinate,y:i.chartY};if(t==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},$$=(t,e,n,i)=>{var r=e.find(d=>d&&d.index===n);if(r){if(t==="centric"){var o=r.coordinate,{radius:l}=i;return wc(wc(wc({},i),xi(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=r.coordinate,{angle:f}=i;return wc(wc(wc({},i),xi(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Y$(t,e){var{chartX:n,chartY:i}=t;return n>=e.left&&n<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var Bk=(t,e,n,i,r)=>{var o,l=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(l<=1||t==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var c=0;c<l;c++){var f,d,h,m,g,y=c>0?(f=n[c-1])===null||f===void 0?void 0:f.coordinate:(d=n[l-1])===null||d===void 0?void 0:d.coordinate,S=(h=n[c])===null||h===void 0?void 0:h.coordinate,w=c>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(g=n[c+1])===null||g===void 0?void 0:g.coordinate,v=void 0;if(!(y==null||S==null||w==null))if(Ki(S-y)!==Ki(w-S)){var _=[];if(Ki(w-S)===Ki(r[1]-r[0])){v=w;var A=S+r[1]-r[0];_[0]=Math.min(A,(A+y)/2),_[1]=Math.max(A,(A+y)/2)}else{v=y;var T=w+r[1]-r[0];_[0]=Math.min(S,(T+S)/2),_[1]=Math.max(S,(T+S)/2)}var C=[Math.min(S,(v+S)/2),Math.max(S,(v+S)/2)];if(t>C[0]&&t<=C[1]||t>=_[0]&&t<=_[1]){var P;return(P=n[c])===null||P===void 0?void 0:P.index}}else{var O=Math.min(y,w),D=Math.max(y,w);if(t>(O+S)/2&&t<=(D+S)/2){var z;return(z=n[c])===null||z===void 0?void 0:z.index}}}else if(e)for(var R=0;R<l;R++){var U=e[R];if(U!=null){var F=e[R+1],j=e[R-1];if(R===0&&F!=null&&t<=(U.coordinate+F.coordinate)/2||R===l-1&&j!=null&&t>(U.coordinate+j.coordinate)/2||R>0&&R<l-1&&j!=null&&F!=null&&t>(U.coordinate+j.coordinate)/2&&t<=(U.coordinate+F.coordinate)/2)return U.index}}return-1},Fk=()=>ot(JS),b1=(t,e)=>e,zk=(t,e,n)=>n,_1=(t,e,n,i)=>i,K$=fe(Bo,t=>wg(t,e=>e.coordinate)),w1=fe([xu,b1,zk,_1],Mk),S1=fe([w1,bu,Pd,Ld],m1),Z$=(t,e,n)=>{if(e!=null){var i=xu(t);return e==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},Hk=fe([xu,b1,zk,_1],Tk),qm=fe([Do,Lo,Xt,ni,Bo,_1,Hk],Ak),Q$=fe([w1,qm],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Gk=fe([Bo,S1],bk),J$=fe([Hk,S1,ko,Pd,Gk,Ck,b1],Rk),eY=fe([w1,S1],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),tY=(t,e,n,i,r,o,l)=>{if(!(!t||!n||!i||!r)&&Y$(t,l)){var c=PG(t,e),f=Bk(c,o,r,n,i),d=X$(e,r,f,t);return{activeIndex:String(f),activeCoordinate:d}}},nY=(t,e,n,i,r,o,l)=>{if(!(!t||!i||!r||!o||!n)){var c=F9(t,n);if(c){var f=DG(c,e),d=Bk(f,l,o,i,r),h=$$(e,o,d,c);return{activeIndex:String(d),activeCoordinate:h}}}},iY=(t,e,n,i,r,o,l,c)=>{if(!(!t||!e||!i||!r||!o))return e==="horizontal"||e==="vertical"?tY(t,e,i,r,o,l,c):nY(t,e,n,i,r,o,l)},rY=fe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var i=t[e];if(i!=null)return n?i.panoramaElement:i.element}}),aY=fe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(i=>parseInt(i,10)).concat(Object.values(ti)),n=Array.from(new Set(e));return n.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:Fq}});function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function LN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(i){oY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function oY(t,e,n){return(e=sY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sY(t){var e=lY(t,"string");return typeof e=="symbol"?e:e+""}function lY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cY={},uY={zIndexMap:Object.values(ti).reduce((t,e)=>LN(LN({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),cY)},fY=new Set(Object.values(ti));function dY(t){return fY.has(t)}var Vk=nr({name:"zIndex",initialState:uY,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:xn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!dY(n)&&delete t.zIndexMap[n])},prepare:xn()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:i,isPanorama:r}=e.payload;t.zIndexMap[n]?r?t.zIndexMap[n].panoramaElement=i:t.zIndexMap[n].element=i:t.zIndexMap[n]={consumers:0,element:r?void 0:i,panoramaElement:r?i:void 0}},prepare:xn()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:xn()}}}),{registerZIndexPortal:hY,unregisterZIndexPortal:pY,registerZIndexPortalElement:mY,unregisterZIndexPortalElement:gY}=Vk.actions,vY=Vk.reducer;function Gr(t){var{zIndex:e,children:n}=t,i=fV(),r=i&&e!==void 0&&e!==0,o=Ri(),l=Pn();M.useLayoutEffect(()=>r?(l(hY({zIndex:e})),()=>{l(pY({zIndex:e}))}):Dl,[l,e,r]);var c=ot(f=>rY(f,e,o));return r?c?_D.createPortal(n,c):null:n}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},B_.apply(null,arguments)}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(i){xY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function xY(t,e,n){return(e=yY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yY(t){var e=bY(t,"string");return typeof e=="symbol"?e:e+""}function bY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Y(t){var{cursor:e,cursorComp:n,cursorProps:i}=t;return M.isValidElement(e)?M.cloneElement(e,i):M.createElement(n,i)}function wY(t){var e,{coordinate:n,payload:i,index:r,offset:o,tooltipAxisBandSize:l,layout:c,cursor:f,tooltipEventType:d,chartName:h}=t,m=n,g=i,y=r;if(!f||!m||h!=="ScatterChart"&&d!=="axis")return null;var S,w,v;if(h==="ScatterChart")S=m,w=JV,v=ti.cursorLine;else if(h==="BarChart")S=e9(c,m,o,l),w=TL,v=ti.cursorRectangle;else if(c==="radial"&&m3(m)){var{cx:_,cy:A,radius:T,startAngle:C,endAngle:P}=CL(m);S={cx:_,cy:A,startAngle:C,endAngle:P,innerRadius:T,outerRadius:T},w=NL,v=ti.cursorLine}else S={points:V9(c,m,o)},w=Hf,v=ti.cursorLine;var O=typeof f=="object"&&"className"in f?f.className:void 0,D=dp(dp(dp(dp({stroke:"#ccc",pointerEvents:"none"},o),S),xd(f)),{},{payload:g,payloadIndex:y,className:sn("recharts-tooltip-cursor",O)});return M.createElement(Gr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:v},M.createElement(_Y,{cursor:f,cursorComp:w,cursorProps:D}))}function SY(t){var e=G$(),n=fL(),i=Ll(),r=Fk();return e==null||n==null||i==null||r==null?null:M.createElement(wY,B_({},t,{offset:n,layout:i,tooltipAxisBandSize:e,chartName:r}))}var Wk=M.createContext(null),EY=()=>M.useContext(Wk),Yy={exports:{}},kN;function MY(){return kN||(kN=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new r(h,m||f,g),S=n?n+d:d;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],y]:f._events[S].push(y):(f._events[S]=y,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new i:delete f._events[d]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,S=new Array(y);g<y;g++)S[g]=m[g].fn;return S},c.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},c.prototype.emit=function(d,h,m,g,y,S){var w=n?n+d:d;if(!this._events[w])return!1;var v=this._events[w],_=arguments.length,A,T;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,m),!0;case 4:return v.fn.call(v.context,h,m,g),!0;case 5:return v.fn.call(v.context,h,m,g,y),!0;case 6:return v.fn.call(v.context,h,m,g,y,S),!0}for(T=1,A=new Array(_-1);T<_;T++)A[T-1]=arguments[T];v.fn.apply(v.context,A)}else{var C=v.length,P;for(T=0;T<C;T++)switch(v[T].once&&this.removeListener(d,v[T].fn,void 0,!0),_){case 1:v[T].fn.call(v[T].context);break;case 2:v[T].fn.call(v[T].context,h);break;case 3:v[T].fn.call(v[T].context,h,m);break;case 4:v[T].fn.call(v[T].context,h,m,g);break;default:if(!A)for(P=1,A=new Array(_-1);P<_;P++)A[P-1]=arguments[P];v[T].fn.apply(v[T].context,A)}}return!0},c.prototype.on=function(d,h,m){return o(this,d,h,m,!1)},c.prototype.once=function(d,h,m){return o(this,d,h,m,!0)},c.prototype.removeListener=function(d,h,m,g){var y=n?n+d:d;if(!this._events[y])return this;if(!h)return l(this,y),this;var S=this._events[y];if(S.fn)S.fn===h&&(!g||S.once)&&(!m||S.context===m)&&l(this,y);else{for(var w=0,v=[],_=S.length;w<_;w++)(S[w].fn!==h||g&&!S[w].once||m&&S[w].context!==m)&&v.push(S[w]);v.length?this._events[y]=v.length===1?v[0]:v:l(this,y)}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Yy)),Yy.exports}var AY=MY();const TY=Ia(AY);var rd=new TY,F_="recharts.syncEvent.tooltip",IN="recharts.syncEvent.brush",qk=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!la(n))return t[n]}},CY={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Xk=nr({name:"options",initialState:CY,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),RY=Xk.reducer,{createEventEmitter:NY}=Xk.actions;function OY(t){return t.tooltip.syncInteraction}var PY={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$k=nr({name:"chartData",initialState:PY,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:i}=e.payload;n!=null&&(t.dataStartIndex=n),i!=null&&(t.dataEndIndex=i)}}}),{setChartData:jN,setDataStartEndIndexes:DY,setComputedData:Vce}=$k.actions,LY=$k.reducer,UY=["x","y"];function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(i){kY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function kY(t,e,n){return(e=IY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IY(t){var e=jY(t,"string");return typeof e=="symbol"?e:e+""}function jY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BY(t,e){if(t==null)return{};var n,i,r=FY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FY(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function zY(){var t=ot(e1),e=ot(t1),n=Pn(),i=ot(CU),r=ot(Bo),o=Ll(),l=Ig(),c=ot(f=>f.rootProps.className);M.useEffect(()=>{if(t==null)return Dl;var f=(d,h,m)=>{if(e!==m&&t===d){if(i==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:S,y:w}=y,v=BY(y,UY),{x:_,y:A,width:T,height:C}=h.payload.sourceViewBox,P=Sc(Sc({},v),{},{x:l.x+(T?(S-_)/T:0)*l.width,y:l.y+(C?(w-A)/C:0)*l.height});n(Sc(Sc({},h),{},{payload:Sc(Sc({},h.payload),{},{coordinate:P})}))}else n(h);return}if(r!=null){var O;if(typeof i=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},z=i(r,D);O=r[z]}else i==="value"&&(O=r.find(B=>String(B.value)===h.payload.label));var{coordinate:R}=h.payload;if(O==null||h.payload.active===!1||R==null||l==null){n(I_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:F}=R,j=Math.min(U,l.x+l.width),W=Math.min(F,l.y+l.height),$={x:o==="horizontal"?O.coordinate:j,y:o==="horizontal"?W:O.coordinate},Q=I_({active:h.payload.active,coordinate:$,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Q)}}};return rd.on(F_,f),()=>{rd.off(F_,f)}},[c,n,e,t,i,r,o,l])}function HY(){var t=ot(e1),e=ot(t1),n=Pn();M.useEffect(()=>{if(t==null)return Dl;var i=(r,o,l)=>{e!==l&&t===r&&n(DY(o))};return rd.on(IN,i),()=>{rd.off(IN,i)}},[n,e,t])}function GY(){var t=Pn();M.useEffect(()=>{t(NY())},[t]),zY(),HY()}function VY(t,e,n,i,r,o){var l=ot(y=>Z$(y,t,e)),c=ot(t1),f=ot(e1),d=ot(CU),h=ot(OY),m=h==null?void 0:h.active,g=Ig();M.useEffect(()=>{if(!m&&f!=null&&c!=null){var y=I_({active:o,coordinate:n,dataKey:l,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:g,graphicalItemId:void 0});rd.emit(F_,f,y,c)}},[m,n,l,r,i,c,f,d,o,g])}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function zN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(i){WY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function WY(t,e,n){return(e=qY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qY(t){var e=XY(t,"string");return typeof e=="symbol"?e:e+""}function XY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Y(t){return t.dataKey}function YY(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(PV,e)}var HN=[],KY={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Xm(t){var e,n,i=Fi(t,KY),{active:r,allowEscapeViewBox:o,animationDuration:l,animationEasing:c,content:f,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:g,position:y,reverseDirection:S,useTranslate3d:w,wrapperStyle:v,cursor:_,shared:A,trigger:T,defaultIndex:C,portal:P,axisId:O}=i,D=Pn(),z=typeof C=="number"?String(C):C;M.useEffect(()=>{D(XX({shared:A,trigger:T,axisId:O,active:r,defaultIndex:z}))},[D,A,T,O,r,z]);var R=Ig(),U=wL(),F=zX(A),{activeIndex:j,isActive:W}=(e=ot(de=>eY(de,F,T,z)))!==null&&e!==void 0?e:{},$=ot(de=>J$(de,F,T,z)),Q=ot(de=>Gk(de,F,T,z)),B=ot(de=>Q$(de,F,T,z)),V=$,K=EY(),ge=(n=r??W)!==null&&n!==void 0?n:!1,[ve,H]=xH([V,ge]),ne=F==="axis"?Q:void 0;VY(F,T,B,ne,j,ge);var ye=P??K;if(ye==null||R==null||F==null)return null;var Te=V??HN;ge||(Te=HN),d&&Te.length&&(Te=V8(Te.filter(de=>de.value!=null&&(de.hide!==!0||i.includeHidden)),g,$Y));var Ie=Te.length>0,le=M.createElement(BV,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:ge,coordinate:B,hasPayload:Ie,offset:m,position:y,reverseDirection:S,useTranslate3d:w,viewBox:R,wrapperStyle:v,lastBoundingBox:ve,innerRef:H,hasPortalFromProps:!!P},YY(f,zN(zN({},i),{},{payload:Te,label:ne,active:ge,activeIndex:j,coordinate:B,accessibilityLayer:U})));return M.createElement(M.Fragment,null,_D.createPortal(le,ye),ge&&M.createElement(SY,{cursor:_,tooltipEventType:F,coordinate:B,payload:Te,index:j}))}var E1=t=>null;E1.displayName="Cell";function ZY(t,e,n){return(e=QY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QY(t){var e=JY(t,"string");return typeof e=="symbol"?e:e+""}function JY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class eK{constructor(e){ZY(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function tK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(n),!0).forEach(function(i){nK(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function nK(t,e,n){return(e=iK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iK(t){var e=rK(t,"string");return typeof e=="symbol"?e:e+""}function rK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aK={cacheSize:2e3,enableCache:!0},Yk=tK({},aK),VN=new eK(Yk.cacheSize),oK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WN="recharts_measurement_span";function sK(t,e){var n=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(i,"|").concat(r,"|").concat(o,"|").concat(l,"|").concat(c)}var qN=(t,e)=>{try{var n=document.getElementById(WN);n||(n=document.createElement("span"),n.setAttribute("id",WN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,oK,e),n.textContent="".concat(t);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},Gf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Md.isSsr)return{width:0,height:0};if(!Yk.enableCache)return qN(e,n);var i=sK(e,n),r=VN.get(i);if(r)return r;var o=qN(e,n);return VN.set(i,o),o},Kk;function lK(t,e,n){return(e=cK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cK(t){var e=uK(t,"string");return typeof e=="symbol"?e:e+""}function uK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$N=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pK=["cm","mm","pt","pc","in","Q","px"];function mK(t){return pK.includes(t)}var Fc="NaN";function gK(t,e){return t*hK[e]}class vi{static parse(e){var n,[,i,r]=(n=dK.exec(e))!==null&&n!==void 0?n:[];return i==null?vi.NaN:new vi(parseFloat(i),r??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,la(e)&&(this.unit=""),n!==""&&!fK.test(n)&&(this.num=NaN,this.unit=""),mK(n)&&(this.num=gK(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new vi(NaN,""):new vi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new vi(NaN,""):new vi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new vi(NaN,""):new vi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new vi(NaN,""):new vi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return la(this.num)}}Kk=vi;lK(vi,"NaN",new Kk(NaN,""));function Zk(t){if(t==null||t.includes(Fc))return Fc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,i,r,o]=(n=XN.exec(e))!==null&&n!==void 0?n:[],l=vi.parse(i??""),c=vi.parse(o??""),f=r==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return Fc;e=e.replace(XN,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,m,g]=(d=$N.exec(e))!==null&&d!==void 0?d:[],y=vi.parse(h??""),S=vi.parse(g??""),w=m==="+"?y.add(S):y.subtract(S);if(w.isNaN())return Fc;e=e.replace($N,w.toString())}return e}var YN=/\(([^()]*)\)/;function vK(t){for(var e=t,n;(n=YN.exec(e))!=null;){var[,i]=n;e=e.replace(YN,Zk(i))}return e}function xK(t){var e=t.replace(/\s+/g,"");return e=vK(e),e=Zk(e),e}function yK(t){try{return xK(t)}catch{return Fc}}function Ky(t){var e=yK(t.slice(5,-1));return e===Fc?"":e}var bK=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_K=["dx","dy","angle","className","breakAll"];function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},z_.apply(null,arguments)}function KN(t,e){if(t==null)return{};var n,i,r=wK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wK(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Qk=/[ \f\n\r\t\v\u2028\u2029]+/,Jk=t=>{var{children:e,breakAll:n,style:i}=t;try{var r=[];Cn(e)||(n?r=e.toString().split(""):r=e.toString().split(Qk));var o=r.map(c=>({word:c,width:Gf(c,i).width})),l=n?0:Gf("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function SK(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var eI=(t,e,n,i)=>t.reduce((r,o)=>{var{word:l,width:c}=o,f=r[r.length-1];if(f&&c!=null&&(e==null||i||f.width+c+n<Number(e)))f.words.push(l),f.width+=c+n;else{var d={words:[l],width:c};r.push(d)}return r},[]),tI=t=>t.reduce((e,n)=>e.width>n.width?e:n),EK="",ZN=(t,e,n,i,r,o,l,c)=>{var f=t.slice(0,e),d=Jk({breakAll:n,style:i,children:f+EK});if(!d)return[!1,[]];var h=eI(d.wordsWithComputedWidth,o,l,c),m=h.length>r||tI(h).width>Number(o);return[m,h]},MK=(t,e,n,i,r)=>{var{maxLines:o,children:l,style:c,breakAll:f}=t,d=qe(o),h=String(l),m=eI(e,i,n,r);if(!d||r)return m;var g=m.length>o||tI(m).width>Number(i);if(!g)return m;for(var y=0,S=h.length-1,w=0,v;y<=S&&w<=h.length-1;){var _=Math.floor((y+S)/2),A=_-1,[T,C]=ZN(h,A,f,c,o,i,n,r),[P]=ZN(h,_,f,c,o,i,n,r);if(!T&&!P&&(y=_+1),T&&P&&(S=_-1),!T&&P){v=C;break}w++}return v||m},QN=t=>{var e=Cn(t)?[]:t.toString().split(Qk);return[{words:e,width:void 0}]},AK=t=>{var{width:e,scaleToFit:n,children:i,style:r,breakAll:o,maxLines:l}=t;if((e||n)&&!Md.isSsr){var c,f,d=Jk({breakAll:o,children:i,style:r});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;c=h,f=m}else return QN(i);return MK({breakAll:o,children:i,maxLines:l,style:r},c,f,e,!!n)}return QN(i)},nI="#808080",TK={angle:0,breakAll:!1,capHeight:"0.71em",fill:nI,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},M1=M.forwardRef((t,e)=>{var n=Fi(t,TK),{x:i,y:r,lineHeight:o,capHeight:l,fill:c,scaleToFit:f,textAnchor:d,verticalAnchor:h}=n,m=KN(n,bK),g=M.useMemo(()=>AK({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),{dx:y,dy:S,angle:w,className:v,breakAll:_}=m,A=KN(m,_K);if(!Oa(i)||!Oa(r)||g.length===0)return null;var T=Number(i)+(qe(y)?y:0),C=Number(r)+(qe(S)?S:0);if(!At(T)||!At(C))return null;var P;switch(h){case"start":P=Ky("calc(".concat(l,")"));break;case"middle":P=Ky("calc(".concat((g.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:P=Ky("calc(".concat(g.length-1," * -").concat(o,")"));break}var O=[],D=g[0];if(f&&D!=null){var z=D.width,{width:R}=m;O.push("scale(".concat(qe(R)&&qe(z)?R/z:1,")"))}return w&&O.push("rotate(".concat(w,", ").concat(T,", ").concat(C,")")),O.length&&(A.transform=O.join(" ")),M.createElement("text",z_({},Ii(A),{ref:e,x:T,y:C,className:sn("recharts-text",v),textAnchor:d,fill:c.includes("url")?nI:c}),g.map((U,F)=>{var j=U.words.join(_?"":" ");return M.createElement("tspan",{x:T,dy:F===0?P:o,key:"".concat(j,"-").concat(F)},j)}))});M1.displayName="Text";function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(i){CK(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function CK(t,e,n){return(e=RK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RK(t){var e=NK(t,"string");return typeof e=="symbol"?e:e+""}function NK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OK=t=>{var{viewBox:e,position:n,offset:i=0,parentViewBox:r}=t,{x:o,y:l,height:c,upperWidth:f,lowerWidth:d}=ES(e),h=o,m=o+(f-d)/2,g=(h+m)/2,y=(f+d)/2,S=h+f/2,w=c>=0?1:-1,v=w*i,_=w>0?"end":"start",A=w>0?"start":"end",T=f>=0?1:-1,C=T*i,P=T>0?"end":"start",O=T>0?"start":"end",D=r;if(n==="top"){var z={x:h+f/2,y:l-v,horizontalAnchor:"middle",verticalAnchor:_};return D&&(z.height=Math.max(l-D.y,0),z.width=f),z}if(n==="bottom"){var R={x:m+d/2,y:l+c+v,horizontalAnchor:"middle",verticalAnchor:A};return D&&(R.height=Math.max(D.y+D.height-(l+c),0),R.width=d),R}if(n==="left"){var U={x:g-C,y:l+c/2,horizontalAnchor:P,verticalAnchor:"middle"};return D&&(U.width=Math.max(U.x-D.x,0),U.height=c),U}if(n==="right"){var F={x:g+y+C,y:l+c/2,horizontalAnchor:O,verticalAnchor:"middle"};return D&&(F.width=Math.max(D.x+D.width-F.x,0),F.height=c),F}var j=D?{width:y,height:c}:{};return n==="insideLeft"?_a({x:g+C,y:l+c/2,horizontalAnchor:O,verticalAnchor:"middle"},j):n==="insideRight"?_a({x:g+y-C,y:l+c/2,horizontalAnchor:P,verticalAnchor:"middle"},j):n==="insideTop"?_a({x:h+f/2,y:l+v,horizontalAnchor:"middle",verticalAnchor:A},j):n==="insideBottom"?_a({x:m+d/2,y:l+c-v,horizontalAnchor:"middle",verticalAnchor:_},j):n==="insideTopLeft"?_a({x:h+C,y:l+v,horizontalAnchor:O,verticalAnchor:A},j):n==="insideTopRight"?_a({x:h+f-C,y:l+v,horizontalAnchor:P,verticalAnchor:A},j):n==="insideBottomLeft"?_a({x:m+C,y:l+c-v,horizontalAnchor:O,verticalAnchor:_},j):n==="insideBottomRight"?_a({x:m+d-C,y:l+c-v,horizontalAnchor:P,verticalAnchor:_},j):n&&typeof n=="object"&&(qe(n.x)||Sl(n.x))&&(qe(n.y)||Sl(n.y))?_a({x:o+ca(n.x,y),y:l+ca(n.y,c),horizontalAnchor:"end",verticalAnchor:"end"},j):_a({x:S,y:l+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},j)},PK=["labelRef"],DK=["content"];function eO(t,e){if(t==null)return{};var n,i,r=LK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LK(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(i){UK(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function UK(t,e,n){return(e=kK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kK(t){var e=IK(t,"string");return typeof e=="symbol"?e:e+""}function IK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fo(){return fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fo.apply(null,arguments)}var iI=M.createContext(null),jK=t=>{var{x:e,y:n,upperWidth:i,lowerWidth:r,width:o,height:l,children:c}=t,f=M.useMemo(()=>({x:e,y:n,upperWidth:i,lowerWidth:r,width:o,height:l}),[e,n,i,r,o,l]);return M.createElement(iI.Provider,{value:f},c)},rI=()=>{var t=M.useContext(iI),e=Ig();return t||(e?ES(e):void 0)},BK=M.createContext(null),FK=()=>{var t=M.useContext(BK),e=ot(DU);return t||e},zK=t=>{var{value:e,formatter:n}=t,i=Cn(t.children)?e:t.children;return typeof n=="function"?n(i):i},A1=t=>t!=null&&typeof t=="function",HK=(t,e)=>{var n=Ki(e-t),i=Math.min(Math.abs(e-t),360);return n*i},GK=(t,e,n,i,r)=>{var{offset:o,className:l}=t,{cx:c,cy:f,innerRadius:d,outerRadius:h,startAngle:m,endAngle:g,clockWise:y}=r,S=(d+h)/2,w=HK(m,g),v=w>=0?1:-1,_,A;switch(e){case"insideStart":_=m+v*o,A=y;break;case"insideEnd":_=g-v*o,A=!y;break;case"end":_=g+v*o,A=y;break;default:throw new Error("Unsupported position ".concat(e))}A=w<=0?A:!A;var T=xi(c,f,S,_),C=xi(c,f,S,_+(A?1:-1)*359),P="M".concat(T.x,",").concat(T.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(A?0:1,`,
    `).concat(C.x,",").concat(C.y),O=Cn(t.id)?Wf("recharts-radial-line-"):t.id;return M.createElement("text",fo({},i,{dominantBaseline:"central",className:sn("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:O,d:P})),M.createElement("textPath",{xlinkHref:"#".concat(O)},n))},VK=(t,e,n)=>{var{cx:i,cy:r,innerRadius:o,outerRadius:l,startAngle:c,endAngle:f}=t,d=(c+f)/2;if(n==="outside"){var{x:h,y:m}=xi(i,r,l+e,d);return{x:h,y:m,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var g=(o+l)/2,{x:y,y:S}=xi(i,r,g,d);return{x:y,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Yp=t=>t!=null&&"cx"in t&&qe(t.cx),WK={angle:0,offset:5,zIndex:ti.label,position:"middle",textBreakAll:!1};function qK(t){if(!Yp(t))return t;var{cx:e,cy:n,outerRadius:i}=t,r=i*2;return{x:e-i,y:n-i,width:r,upperWidth:r,lowerWidth:r,height:r}}function ys(t){var e=Fi(t,WK),{viewBox:n,parentViewBox:i,position:r,value:o,children:l,content:c,className:f="",textBreakAll:d,labelRef:h}=e,m=FK(),g=rI(),y=r==="center"?g:m??g,S,w,v;n==null?S=y:Yp(n)?S=n:S=ES(n);var _=qK(S);if(!S||Cn(o)&&Cn(l)&&!M.isValidElement(c)&&typeof c!="function")return null;var A=Bf(Bf({},e),{},{viewBox:S});if(M.isValidElement(c)){var{labelRef:T}=A,C=eO(A,PK);return M.cloneElement(c,C)}if(typeof c=="function"){var{content:P}=A,O=eO(A,DK);if(w=M.createElement(c,O),M.isValidElement(w))return w}else w=zK(e);var D=Ii(e);if(Yp(S)){if(r==="insideStart"||r==="insideEnd"||r==="end")return GK(e,r,w,D,S);v=VK(S,e.offset,e.position)}else{if(!_)return null;var z=OK({viewBox:_,position:r,offset:e.offset,parentViewBox:Yp(i)?void 0:i});v=Bf(Bf({x:z.x,y:z.y,textAnchor:z.horizontalAnchor,verticalAnchor:z.verticalAnchor},z.width!==void 0?{width:z.width}:{}),z.height!==void 0?{height:z.height}:{})}return M.createElement(Gr,{zIndex:e.zIndex},M.createElement(M1,fo({ref:h,className:sn("recharts-label",f)},D,v,{textAnchor:SK(D.textAnchor)?D.textAnchor:v.textAnchor,breakAll:d}),w))}ys.displayName="Label";var XK=(t,e,n)=>{if(!t)return null;var i={viewBox:e,labelRef:n};return t===!0?M.createElement(ys,fo({key:"label-implicit"},i)):Oa(t)?M.createElement(ys,fo({key:"label-implicit",value:t},i)):M.isValidElement(t)?t.type===ys?M.cloneElement(t,Bf({key:"label-implicit"},i)):M.createElement(ys,fo({key:"label-implicit",content:t},i)):A1(t)?M.createElement(ys,fo({key:"label-implicit",content:t},i)):t&&typeof t=="object"?M.createElement(ys,fo({},t,{key:"label-implicit"},i)):null};function $K(t){var{label:e,labelRef:n}=t,i=rI();return XK(e,i,n)||null}var Zy={},Qy={},nO;function YK(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Qy)),Qy}var Jy={},iO;function KK(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Jy)),Jy}var rO;function ZK(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YK(),n=KK(),i=hS();function r(o){if(i.isArrayLike(o))return e.last(n.toArray(o))}t.last=r})(Zy)),Zy}var eb,aO;function QK(){return aO||(aO=1,eb=ZK().last),eb}var JK=QK();const eZ=Ia(JK);var tZ=["valueAccessor"],nZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$m.apply(null,arguments)}function oO(t,e){if(t==null)return{};var n,i,r=iZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iZ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var rZ=t=>Array.isArray(t.value)?eZ(t.value):t.value,aI=M.createContext(void 0),oI=aI.Provider,sI=M.createContext(void 0);sI.Provider;function aZ(){return M.useContext(aI)}function oZ(){return M.useContext(sI)}function Kp(t){var{valueAccessor:e=rZ}=t,n=oO(t,tZ),{dataKey:i,clockWise:r,id:o,textBreakAll:l,zIndex:c}=n,f=oO(n,nZ),d=aZ(),h=oZ(),m=d||h;return!m||!m.length?null:M.createElement(Gr,{zIndex:c??ti.label},M.createElement(ji,{className:"recharts-label-list"},m.map((g,y)=>{var S,w=Cn(i)?e(g,y):Bn(g.payload,i),v=Cn(o)?{}:{id:"".concat(o,"-").concat(y)};return M.createElement(ys,$m({key:"label-".concat(y)},Ii(g),f,v,{fill:(S=n.fill)!==null&&S!==void 0?S:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:l,viewBox:g.viewBox,index:y,zIndex:0}))})))}Kp.displayName="LabelList";function lI(t){var{label:e}=t;return e?e===!0?M.createElement(Kp,{key:"labelList-implicit"}):M.isValidElement(e)||A1(e)?M.createElement(Kp,{key:"labelList-implicit",content:e}):typeof e=="object"?M.createElement(Kp,$m({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},H_.apply(null,arguments)}var cI=t=>{var{cx:e,cy:n,r:i,className:r}=t,o=sn("recharts-dot",r);return qe(e)&&qe(n)&&qe(i)?M.createElement("circle",H_({},Br(t),fS(t),{className:o,cx:e,cy:n,r:i})):null},sZ={radiusAxis:{},angleAxis:{}},uI=nr({name:"polarAxis",initialState:sZ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Wce,removeRadiusAxis:qce,addAngleAxis:Xce,removeAngleAxis:$ce}=uI.actions,lZ=uI.reducer;function cZ(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var tb={exports:{}},rn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO;function uZ(){if(sO)return rn;sO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function S(w){if(typeof w=="object"&&w!==null){var v=w.$$typeof;switch(v){case t:switch(w=w.type,w){case n:case r:case i:case f:case d:case g:return w;default:switch(w=w&&w.$$typeof,w){case l:case c:case m:case h:return w;case o:return w;default:return v}}case e:return v}}}return rn.ContextConsumer=o,rn.ContextProvider=l,rn.Element=t,rn.ForwardRef=c,rn.Fragment=n,rn.Lazy=m,rn.Memo=h,rn.Portal=e,rn.Profiler=r,rn.StrictMode=i,rn.Suspense=f,rn.SuspenseList=d,rn.isContextConsumer=function(w){return S(w)===o},rn.isContextProvider=function(w){return S(w)===l},rn.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},rn.isForwardRef=function(w){return S(w)===c},rn.isFragment=function(w){return S(w)===n},rn.isLazy=function(w){return S(w)===m},rn.isMemo=function(w){return S(w)===h},rn.isPortal=function(w){return S(w)===e},rn.isProfiler=function(w){return S(w)===r},rn.isStrictMode=function(w){return S(w)===i},rn.isSuspense=function(w){return S(w)===f},rn.isSuspenseList=function(w){return S(w)===d},rn.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===r||w===i||w===f||w===d||typeof w=="object"&&w!==null&&(w.$$typeof===m||w.$$typeof===h||w.$$typeof===l||w.$$typeof===o||w.$$typeof===c||w.$$typeof===y||w.getModuleId!==void 0)},rn.typeOf=S,rn}var lO;function fZ(){return lO||(lO=1,tb.exports=uZ()),tb.exports}var dZ=fZ(),cO=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",uO=null,nb=null,fI=t=>{if(t===uO&&Array.isArray(nb))return nb;var e=[];return M.Children.forEach(t,n=>{Cn(n)||(dZ.isFragment(n)?e=e.concat(fI(n.props.children)):e.push(n))}),nb=e,uO=t,e};function hZ(t,e){var n=[],i=[];return Array.isArray(e)?i=e.map(r=>cO(r)):i=[cO(e)],fI(t).forEach(r=>{var o=Yc(r,"type.displayName")||Yc(r,"type.name");o&&i.indexOf(o)!==-1&&n.push(r)}),n}var dI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,ib={},fO;function pZ(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${o}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}t.isPlainObject=e})(ib)),ib}var rb,dO;function mZ(){return dO||(dO=1,rb=pZ().isPlainObject),rb}var gZ=mZ();const vZ=Ia(gZ);var hO,pO,mO,gO,vO;function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function yO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(i){xZ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function xZ(t,e,n){return(e=yZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yZ(t){var e=bZ(t,"string");return typeof e=="symbol"?e:e+""}function bZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ym.apply(null,arguments)}function Cf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var bO=(t,e,n,i,r)=>{var o=n-i,l;return l=An(hO||(hO=Cf(["M ",",",""])),t,e),l+=An(pO||(pO=Cf(["L ",",",""])),t+n,e),l+=An(mO||(mO=Cf(["L ",",",""])),t+n-o/2,e+r),l+=An(gO||(gO=Cf(["L ",",",""])),t+n-o/2-i,e+r),l+=An(vO||(vO=Cf(["L ",","," Z"])),t,e),l},_Z={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wZ=t=>{var e=Fi(t,_Z),{x:n,y:i,upperWidth:r,lowerWidth:o,height:l,className:c}=e,{animationEasing:f,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=e,g=M.useRef(null),[y,S]=M.useState(-1),w=M.useRef(r),v=M.useRef(o),_=M.useRef(l),A=M.useRef(n),T=M.useRef(i),C=Hg(t,"trapezoid-");if(M.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var $=g.current.getTotalLength();$&&S($)}catch{}},[]),n!==+n||i!==+i||r!==+r||o!==+o||l!==+l||r===0&&o===0||l===0)return null;var P=sn("recharts-trapezoid",c);if(!m)return M.createElement("g",null,M.createElement("path",Ym({},Ii(e),{className:P,d:bO(n,i,r,o,l)})));var O=w.current,D=v.current,z=_.current,R=A.current,U=T.current,F="0px ".concat(y===-1?1:y,"px"),j="".concat(y,"px 0px"),W=SL(["strokeDasharray"],d,f);return M.createElement(zg,{animationId:C,key:C,canBegin:y>0,duration:d,easing:f,isActive:m,begin:h},$=>{var Q=_n(O,r,$),B=_n(D,o,$),V=_n(z,l,$),K=_n(R,n,$),ge=_n(U,i,$);g.current&&(w.current=Q,v.current=B,_.current=V,A.current=K,T.current=ge);var ve=$>0?{transition:W,strokeDasharray:j}:{strokeDasharray:F};return M.createElement("path",Ym({},Ii(e),{className:P,d:bO(K,ge,Q,B,V),ref:g,style:yO(yO({},ve),e.style)}))})},SZ=["option","shapeType","activeClassName"];function EZ(t,e){if(t==null)return{};var n,i,r=MZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MZ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(i){AZ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function AZ(t,e,n){return(e=TZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TZ(t){var e=CZ(t,"string");return typeof e=="symbol"?e:e+""}function CZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RZ(t,e){return Km(Km({},e),t)}function NZ(t,e){return t==="symbols"}function wO(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return M.createElement(TL,n);case"trapezoid":return M.createElement(wZ,n);case"sector":return M.createElement(NL,n);case"symbols":if(NZ(e))return M.createElement(p3,n);break;case"curve":return M.createElement(Hf,n);default:return null}}function OZ(t){return M.isValidElement(t)?t.props:t}function PZ(t){var{option:e,shapeType:n,activeClassName:i="recharts-active-shape"}=t,r=EZ(t,SZ),o;if(M.isValidElement(e))o=M.cloneElement(e,Km(Km({},r),OZ(e)));else if(typeof e=="function")o=e(r,r.index);else if(vZ(e)&&typeof e!="boolean"){var l=RZ(e,r);o=M.createElement(wO,{shapeType:n,elementProps:l})}else{var c=r;o=M.createElement(wO,{shapeType:n,elementProps:c})}return r.isActive?M.createElement(ji,{className:i},o):o}var hI=(t,e,n)=>{var i=Pn();return(r,o)=>l=>{t==null||t(r,o,l),i(wk({activeIndex:String(o),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:n}))}},pI=t=>{var e=Pn();return(n,i)=>r=>{t==null||t(n,i,r),e($X())}},mI=(t,e,n)=>{var i=Pn();return(r,o)=>l=>{t==null||t(r,o,l),i(YX({activeIndex:String(o),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:n}))}};function gI(t){var{tooltipEntrySettings:e}=t,n=Pn(),i=Ri(),r=M.useRef(null);return M.useLayoutEffect(()=>{i||(r.current===null?n(VX(e)):r.current!==e&&n(WX({prev:r.current,next:e})),r.current=e)},[e,n,i]),M.useLayoutEffect(()=>()=>{r.current&&(n(qX(r.current)),r.current=null)},[n]),null}function vI(t){var{legendPayload:e}=t,n=Pn(),i=Ri(),r=M.useRef(null);return M.useLayoutEffect(()=>{i||(r.current===null?n(EV(e)):r.current!==e&&n(MV({prev:r.current,next:e})),r.current=e)},[n,i,e]),M.useLayoutEffect(()=>()=>{r.current&&(n(AV(r.current)),r.current=null)},[n]),null}var ab,DZ=()=>{var[t]=M.useState(()=>Wf("uid-"));return t},LZ=(ab=YB.useId)!==null&&ab!==void 0?ab:DZ;function UZ(t,e){var n=LZ();return e||(t?"".concat(t,"-").concat(n):n)}var kZ=M.createContext(void 0),xI=t=>{var{id:e,type:n,children:i}=t,r=UZ("recharts-".concat(n),e);return M.createElement(kZ.Provider,{value:r},i(r))},IZ={cartesianItems:[],polarItems:[]},yI=nr({name:"graphicalItems",initialState:IZ,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:xn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:i}=e.payload,r=oa(t).cartesianItems.indexOf(n);r>-1&&(t.cartesianItems[r]=i)},prepare:xn()},removeCartesianGraphicalItem:{reducer(t,e){var n=oa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:xn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:xn()},removePolarGraphicalItem:{reducer(t,e){var n=oa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:xn()}}}),{addCartesianGraphicalItem:jZ,replaceCartesianGraphicalItem:BZ,removeCartesianGraphicalItem:FZ,addPolarGraphicalItem:Yce,removePolarGraphicalItem:Kce}=yI.actions,zZ=yI.reducer,HZ=t=>{var e=Pn(),n=M.useRef(null);return M.useLayoutEffect(()=>{n.current===null?e(jZ(t)):n.current!==t&&e(BZ({prev:n.current,next:t})),n.current=t},[e,t]),M.useLayoutEffect(()=>()=>{n.current&&(e(FZ(n.current)),n.current=null)},[e]),null},bI=M.memo(HZ),GZ=["points"];function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(i){VZ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function VZ(t,e,n){return(e=WZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WZ(t){var e=qZ(t,"string");return typeof e=="symbol"?e:e+""}function qZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Zm.apply(null,arguments)}function XZ(t,e){if(t==null)return{};var n,i,r=$Z(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Z(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function YZ(t){var{option:e,dotProps:n,className:i}=t;if(M.isValidElement(e))return M.cloneElement(e,n);if(typeof e=="function")return e(n);var r=sn(i,typeof e!="boolean"?e.className:""),o=n??{},{points:l}=o,c=XZ(o,GZ);return M.createElement(cI,Zm({},c,{className:r}))}function KZ(t,e){return t==null?!1:e?!0:t.length===1}function ZZ(t){var{points:e,dot:n,className:i,dotClassName:r,dataKey:o,baseProps:l,needClip:c,clipPathId:f,zIndex:d=ti.scatter}=t;if(!KZ(e,n))return null;var h=dI(n),m=g6(n),g=e.map((S,w)=>{var v,_,A=ob(ob(ob({r:3},l),m),{},{index:w,cx:(v=S.x)!==null&&v!==void 0?v:void 0,cy:(_=S.y)!==null&&_!==void 0?_:void 0,dataKey:o,value:S.value,payload:S.payload,points:e});return M.createElement(YZ,{key:"dot-".concat(w),option:n,dotProps:A,className:r})}),y={};return c&&f!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(f,")")),M.createElement(Gr,{zIndex:d},M.createElement(ji,Zm({className:i},y),g))}function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(i){QZ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function QZ(t,e,n){return(e=JZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JZ(t){var e=eQ(t,"string");return typeof e=="symbol"?e:e+""}function eQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _I=0,tQ={xAxis:{},yAxis:{},zAxis:{}},wI=nr({name:"cartesianAxis",initialState:tQ,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:xn()},replaceXAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.xAxis[n.id],t.xAxis[i.id]=i)},prepare:xn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:xn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:xn()},replaceYAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.yAxis[n.id],t.yAxis[i.id]=i)},prepare:xn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:xn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:xn()},replaceZAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.zAxis[n.id],t.zAxis[i.id]=i)},prepare:xn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:xn()},updateYAxisWidth(t,e){var{id:n,width:i}=e.payload,r=t.yAxis[n];if(r){var o,l=r.widthHistory||[];if(l.length===3&&l[0]===l[2]&&i===l[1]&&i!==r.width&&Math.abs(i-((o=l[0])!==null&&o!==void 0?o:0))<=1)return;var c=[...l,i].slice(-3);t.yAxis[n]=MO(MO({},r),{},{width:i,widthHistory:c})}}}}),{addXAxis:nQ,replaceXAxis:iQ,removeXAxis:rQ,addYAxis:aQ,replaceYAxis:oQ,removeYAxis:sQ,addZAxis:Zce,replaceZAxis:Qce,removeZAxis:Jce,updateYAxisWidth:lQ}=wI.actions,cQ=wI.reducer,uQ=fe([ni],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),fQ=fe([uQ,Do,Lo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),T1=()=>ot(fQ),dQ=()=>ot(j$);function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function sb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(i){hQ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function hQ(t,e,n){return(e=pQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pQ(t){var e=mQ(t,"string");return typeof e=="symbol"?e:e+""}function mQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gQ=t=>{var{point:e,childIndex:n,mainColor:i,activeDot:r,dataKey:o,clipPath:l}=t;if(r===!1||e.x==null||e.y==null)return null;var c={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=sb(sb(sb({},c),xd(r)),fS(r)),d;return M.isValidElement(r)?d=M.cloneElement(r,f):typeof r=="function"?d=r(f):d=M.createElement(cI,f),M.createElement(ji,{className:"recharts-active-dot",clipPath:l},d)};function TO(t){var{points:e,mainColor:n,activeDot:i,itemDataKey:r,clipPath:o,zIndex:l=ti.activeDot}=t,c=ot(Cl),f=dQ();if(e==null||f==null)return null;var d=e.find(h=>f.includes(h.payload));return Cn(d)?null:M.createElement(Gr,{zIndex:l},M.createElement(gQ,{point:d,childIndex:Number(c),mainColor:n,dataKey:r,activeDot:i,clipPath:o}))}var CO=(t,e,n)=>{var i=n??t;if(!Cn(i))return ca(i,e,0)},vQ=(t,e,n)=>{var i={},r=t.filter(tv),o=t.filter(d=>d.stackId==null),l=r.reduce((d,h)=>{var m=d[h.stackId];return m==null&&(m=[]),m.push(h),d[h.stackId]=m,d},i),c=Object.entries(l).map(d=>{var h,[m,g]=d,y=g.map(w=>w.dataKey),S=CO(e,n,(h=g[0])===null||h===void 0?void 0:h.barSize);return{stackId:m,dataKeys:y,barSize:S}}),f=o.map(d=>{var h=[d.dataKey].filter(g=>g!=null),m=CO(e,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...c,...f]};function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(i){xQ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function xQ(t,e,n){return(e=yQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yQ(t){var e=bQ(t,"string");return typeof e=="symbol"?e:e+""}function bQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Q(t,e,n,i,r){var o,l=i.length;if(!(l<1)){var c=ca(t,n,0,!0),f,d=[];if(At((o=i[0])===null||o===void 0?void 0:o.barSize)){var h=!1,m=n/l,g=i.reduce((A,T)=>A+(T.barSize||0),0);g+=(l-1)*c,g>=n&&(g-=(l-1)*c,c=0),g>=n&&m>0&&(h=!0,m*=.9,g=l*m);var y=(n-g)/2>>0,S={offset:y-c,size:0};f=i.reduce((A,T)=>{var C,P={stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:S.offset+S.size+c,size:h?m:(C=T.barSize)!==null&&C!==void 0?C:0}},O=[...A,P];return S=P.position,O},d)}else{var w=ca(e,n,0,!0);n-2*w-(l-1)*c<=0&&(c=0);var v=(n-2*w-(l-1)*c)/l;v>1&&(v>>=0);var _=At(r)?Math.min(v,r):v;f=i.reduce((A,T,C)=>[...A,{stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:w+(v+c)*C+(v-_)/2,size:_}}],d)}return f}}var wQ=(t,e,n,i,r,o,l)=>{var c=Cn(l)?e:l,f=_Q(n,i,r!==o?r:o,t,c);return r!==o&&f!=null&&(f=f.map(d=>hp(hp({},d),{},{position:hp(hp({},d.position),{},{offset:d.position.offset-r/2})}))),f},SQ=(t,e)=>{var n=ev(e);if(!(!t||n==null||e==null)){var{stackId:i}=e;if(i!=null){var r=t[i];if(r){var{stackedData:o}=r;if(o)return o.find(l=>l.key===n)}}}},EQ=(t,e)=>{if(!(t==null||e==null)){var n=t.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function MQ(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&At(t.zIndex)?t.zIndex:e}var AQ=t=>{var{chartData:e}=t,n=Pn(),i=Ri();return M.useEffect(()=>i?()=>{}:(n(jN(e)),()=>{n(jN(void 0))}),[e,n,i]),null},NO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},SI=nr({name:"brush",initialState:NO,reducers:{setBrushSettings(t,e){return e.payload==null?NO:e.payload}}}),{setBrushSettings:eue}=SI.actions,TQ=SI.reducer;function CQ(t){return(t%180+180)%180}var RQ=function(e){var{width:n,height:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=CQ(r),l=o*Math.PI/180,c=Math.atan(i/n),f=l>c&&l<Math.PI-c?i/Math.sin(l):n/Math.cos(l);return Math.abs(f)},NQ={dots:[],areas:[],lines:[]},EI=nr({name:"referenceElements",initialState:NQ,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=oa(t).dots.findIndex(i=>i===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=oa(t).areas.findIndex(i=>i===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=oa(t).lines.findIndex(i=>i===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:tue,removeDot:nue,addArea:iue,removeArea:rue,addLine:aue,removeLine:oue}=EI.actions,OQ=EI.reducer,PQ=M.createContext(void 0),DQ=t=>{var{children:e}=t,[n]=M.useState("".concat(Wf("recharts"),"-clip")),i=T1();if(i==null)return null;var{x:r,y:o,width:l,height:c}=i;return M.createElement(PQ.Provider,{value:n},M.createElement("defs",null,M.createElement("clipPath",{id:n},M.createElement("rect",{x:r,y:o,height:c,width:l}))),e)};function MI(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],i=0;i<t.length;i+=e){var r=t[i];r!==void 0&&n.push(r)}return n}function LQ(t,e,n){var i={width:t.width+e.width,height:t.height+e.height};return RQ(i,n)}function UQ(t,e,n){var i=n==="width",{x:r,y:o,width:l,height:c}=t;return e===1?{start:i?r:o,end:i?r+l:o+c}:{start:i?r+l:o+c,end:i?r:o}}function ad(t,e,n,i,r){if(t*e<t*i||t*e>t*r)return!1;var o=n();return t*(e-t*o/2-i)>=0&&t*(e+t*o/2-r)<=0}function kQ(t,e){return MI(t,e+1)}function IQ(t,e,n,i,r){for(var o=(i||[]).slice(),{start:l,end:c}=e,f=0,d=1,h=l,m=function(){var S=i==null?void 0:i[f];if(S===void 0)return{v:MI(i,d)};var w=f,v,_=()=>(v===void 0&&(v=n(S,w)),v),A=S.coordinate,T=f===0||ad(t,A,_,h,c);T||(f=0,h=l,d+=1),T&&(h=A+t*(_()/2+r),f+=d)},g;d<=o.length;)if(g=m(),g)return g.v;return[]}function jQ(t,e,n,i,r){var o=(i||[]).slice(),l=o.length;if(l===0)return[];for(var{start:c,end:f}=e,d=1;d<=l;d++){for(var h=(l-1)%d,m=c,g=!0,y=function(){var C=i[w];if(C==null)return 0;var P=w,O,D=()=>(O===void 0&&(O=n(C,P)),O),z=C.coordinate,R=w===h||ad(t,z,D,m,f);if(!R)return g=!1,1;R&&(m=z+t*(D()/2+r))},S,w=h;w<l&&(S=y(),!(S!==0&&S===1));w+=d);if(g){for(var v=[],_=h;_<l;_+=d){var A=i[_];A!=null&&v.push(A)}return v}}return[]}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(i){BQ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function BQ(t,e,n){return(e=FQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FQ(t){var e=zQ(t,"string");return typeof e=="symbol"?e:e+""}function zQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HQ(t,e,n,i,r){for(var o=(i||[]).slice(),l=o.length,{start:c}=e,{end:f}=e,d=function(g){var y=o[g];if(y==null)return 1;var S=y,w,v=()=>(w===void 0&&(w=n(y,g)),w);if(g===l-1){var _=t*(S.coordinate+t*v()/2-f);o[g]=S=Mi(Mi({},S),{},{tickCoord:_>0?S.coordinate-_*t:S.coordinate})}else o[g]=S=Mi(Mi({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var A=ad(t,S.tickCoord,v,c,f);A&&(f=S.tickCoord-t*(v()/2+r),o[g]=Mi(Mi({},S),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return o}function GQ(t,e,n,i,r,o){var l=(i||[]).slice(),c=l.length,{start:f,end:d}=e;if(o){var h=i[c-1];if(h!=null){var m=n(h,c-1),g=t*(h.coordinate+t*m/2-d);if(l[c-1]=h=Mi(Mi({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate}),h.tickCoord!=null){var y=ad(t,h.tickCoord,()=>m,f,d);y&&(d=h.tickCoord-t*(m/2+r),l[c-1]=Mi(Mi({},h),{},{isShow:!0}))}}}for(var S=o?c-1:c,w=function(A){var T=l[A];if(T==null)return 1;var C=T,P,O=()=>(P===void 0&&(P=n(T,A)),P);if(A===0){var D=t*(C.coordinate-t*O()/2-f);l[A]=C=Mi(Mi({},C),{},{tickCoord:D<0?C.coordinate-D*t:C.coordinate})}else l[A]=C=Mi(Mi({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var z=ad(t,C.tickCoord,O,f,d);z&&(f=C.tickCoord+t*(O()/2+r),l[A]=Mi(Mi({},C),{},{isShow:!0}))}},v=0;v<S;v++)w(v);return l}function C1(t,e,n){var{tick:i,ticks:r,viewBox:o,minTickGap:l,orientation:c,interval:f,tickFormatter:d,unit:h,angle:m}=t;if(!r||!r.length||!i)return[];if(qe(f)||Md.isSsr){var g;return(g=kQ(r,qe(f)?f:0))!==null&&g!==void 0?g:[]}var y=[],S=c==="top"||c==="bottom"?"width":"height",w=h&&S==="width"?Gf(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=(P,O)=>{var D=typeof d=="function"?d(P.value,O):P.value;return S==="width"?LQ(Gf(D,{fontSize:e,letterSpacing:n}),w,m):Gf(D,{fontSize:e,letterSpacing:n})[S]},_=r[0],A=r[1],T=r.length>=2&&_!=null&&A!=null?Ki(A.coordinate-_.coordinate):1,C=UQ(o,T,S);return f==="equidistantPreserveStart"?IQ(T,C,v,r,l):f==="equidistantPreserveEnd"?jQ(T,C,v,r,l):(f==="preserveStart"||f==="preserveStartEnd"?y=GQ(T,C,v,r,l,f==="preserveStartEnd"):y=HQ(T,C,v,r,l),y.filter(P=>P.isShow))}var VQ=t=>{var{ticks:e,label:n,labelGapWithTick:i=5,tickSize:r=0,tickMargin:o=0}=t,l=0;if(e){Array.from(e).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var c=n?n.getBoundingClientRect().width:0,f=r+o,d=l+f+c+(n?i:0);return Math.round(d)}return 0},WQ=["axisLine","width","height","className","hide","ticks","axisType"];function qQ(t,e){if(t==null)return{};var n,i,r=XQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XQ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rl.apply(null,arguments)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(i){$Q(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $Q(t,e,n){return(e=YQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YQ(t){var e=KQ(t,"string");return typeof e=="symbol"?e:e+""}function KQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ti.axis};function ZQ(t){var{x:e,y:n,width:i,height:r,orientation:o,mirror:l,axisLine:c,otherSvgProps:f}=t;if(!c)return null;var d=Mn(Mn(Mn({},f),Br(c)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!l||o==="bottom"&&l);d=Mn(Mn({},d),{},{x1:e,y1:n+h*r,x2:e+i,y2:n+h*r})}else{var m=+(o==="left"&&!l||o==="right"&&l);d=Mn(Mn({},d),{},{x1:e+m*i,y1:n,x2:e+m*i,y2:n+r})}return M.createElement("line",Rl({},d,{className:sn("recharts-cartesian-axis-line",Yc(c,"className"))}))}function QQ(t,e,n,i,r,o,l,c,f){var d,h,m,g,y,S,w=c?-1:1,v=t.tickSize||l,_=qe(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=h=t.coordinate,g=n+ +!c*r,m=g-w*v,S=m-w*f,y=_;break;case"left":m=g=t.coordinate,h=e+ +!c*i,d=h-w*v,y=d-w*f,S=_;break;case"right":m=g=t.coordinate,h=e+ +c*i,d=h+w*v,y=d+w*f,S=_;break;default:d=h=t.coordinate,g=n+ +c*r,m=g+w*v,S=m+w*f,y=_;break}return{line:{x1:d,y1:m,x2:h,y2:g},tick:{x:y,y:S}}}function JQ(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function eJ(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function tJ(t){var{option:e,tickProps:n,value:i}=t,r,o=sn(n.className,"recharts-cartesian-axis-tick-value");if(M.isValidElement(e))r=M.cloneElement(e,Mn(Mn({},n),{},{className:o}));else if(typeof e=="function")r=e(Mn(Mn({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=sn(l,cZ(e))),r=M.createElement(M1,Rl({},n,{className:l}),i)}return r}var nJ=M.forwardRef((t,e)=>{var{ticks:n=[],tick:i,tickLine:r,stroke:o,tickFormatter:l,unit:c,padding:f,tickTextProps:d,orientation:h,mirror:m,x:g,y,width:S,height:w,tickSize:v,tickMargin:_,fontSize:A,letterSpacing:T,getTicksConfig:C,events:P,axisType:O}=t,D=C1(Mn(Mn({},C),{},{ticks:n}),A,T),z=JQ(h,m),R=eJ(h,m),U=Br(C),F=xd(i),j={};typeof r=="object"&&(j=r);var W=Mn(Mn({},U),{},{fill:"none"},j),$=D.map(V=>Mn({entry:V},QQ(V,g,y,S,w,h,v,m,_))),Q=$.map(V=>{var{entry:K,line:ge}=V;return M.createElement(ji,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},r&&M.createElement("line",Rl({},W,ge,{className:sn("recharts-cartesian-axis-tick-line",Yc(r,"className"))})))}),B=$.map((V,K)=>{var ge,ve,{entry:H,tick:ne}=V,ye=Mn(Mn(Mn(Mn({verticalAnchor:R},U),{},{textAnchor:z,stroke:"none",fill:o},ne),{},{index:K,payload:H,visibleTicksCount:D.length,tickFormatter:l,padding:f},d),{},{angle:(ge=(ve=d==null?void 0:d.angle)!==null&&ve!==void 0?ve:U.angle)!==null&&ge!==void 0?ge:0}),Te=Mn(Mn({},ye),F);return M.createElement(ji,Rl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},dS(P,H,K)),i&&M.createElement(tJ,{option:i,tickProps:Te,value:"".concat(typeof l=="function"?l(H.value,K):H.value).concat(c||"")}))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},B.length>0&&M.createElement(Gr,{zIndex:ti.label},M.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:e},B)),Q.length>0&&M.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},Q))}),iJ=M.forwardRef((t,e)=>{var{axisLine:n,width:i,height:r,className:o,hide:l,ticks:c,axisType:f}=t,d=qQ(t,WQ),[h,m]=M.useState(""),[g,y]=M.useState(""),S=M.useRef(null);M.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var v;return VQ({ticks:S.current,label:(v=t.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var w=M.useCallback(v=>{if(v){var _=v.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=_;var A=_[0];if(A){var T=window.getComputedStyle(A),C=T.fontSize,P=T.letterSpacing;(C!==h||P!==g)&&(m(C),y(P))}}},[h,g]);return l||i!=null&&i<=0||r!=null&&r<=0?null:M.createElement(Gr,{zIndex:t.zIndex},M.createElement(ji,{className:sn("recharts-cartesian-axis",o)},M.createElement(ZQ,{x:t.x,y:t.y,width:i,height:r,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Br(t)}),M.createElement(nJ,{ref:w,axisType:f,events:d,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),M.createElement(jK,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},M.createElement($K,{label:t.label,labelRef:t.labelRef}),t.children)))}),R1=M.forwardRef((t,e)=>{var n=Fi(t,yo);return M.createElement(iJ,Rl({},n,{ref:e}))});R1.displayName="CartesianAxis";var rJ=["x1","y1","x2","y2","key"],aJ=["offset"],oJ=["xAxisId","yAxisId"],sJ=["xAxisId","yAxisId"];function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(i){lJ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function lJ(t,e,n){return(e=cJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cJ(t){var e=uJ(t,"string");return typeof e=="symbol"?e:e+""}function uJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hl.apply(null,arguments)}function Qm(t,e){if(t==null)return{};var n,i,r=fJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fJ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var dJ=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:i,y:r,width:o,height:l,ry:c}=t;return M.createElement("rect",{x:i,y:r,ry:c,width:o,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function AI(t){var{option:e,lineItemProps:n}=t,i;if(M.isValidElement(e))i=M.cloneElement(e,n);else if(typeof e=="function")i=e(n);else{var r,{x1:o,y1:l,x2:c,y2:f,key:d}=n,h=Qm(n,rJ),m=(r=Br(h))!==null&&r!==void 0?r:{},{offset:g}=m,y=Qm(m,aJ);i=M.createElement("line",hl({},y,{x1:o,y1:l,x2:c,y2:f,fill:"none",key:d}))}return i}function hJ(t){var{x:e,width:n,horizontal:i=!0,horizontalPoints:r}=t;if(!i||!r||!r.length)return null;var{xAxisId:o,yAxisId:l}=t,c=Qm(t,oJ),f=r.map((d,h)=>{var m=Ai(Ai({},c),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(h),index:h});return M.createElement(AI,{key:"line-".concat(h),option:i,lineItemProps:m})});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function pJ(t){var{y:e,height:n,vertical:i=!0,verticalPoints:r}=t;if(!i||!r||!r.length)return null;var{xAxisId:o,yAxisId:l}=t,c=Qm(t,sJ),f=r.map((d,h)=>{var m=Ai(Ai({},c),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(h),index:h});return M.createElement(AI,{option:i,lineItemProps:m,key:"line-".concat(h)})});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function mJ(t){var{horizontalFill:e,fillOpacity:n,x:i,y:r,width:o,height:l,horizontalPoints:c,horizontal:f=!0}=t;if(!f||!e||!e.length||c==null)return null;var d=c.map(m=>Math.round(m+r-r)).sort((m,g)=>m-g);r!==d[0]&&d.unshift(0);var h=d.map((m,g)=>{var y=d[g+1],S=y==null,w=S?r+l-m:y-m;if(w<=0)return null;var v=g%e.length;return M.createElement("rect",{key:"react-".concat(g),y:m,x:i,height:w,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function gJ(t){var{vertical:e=!0,verticalFill:n,fillOpacity:i,x:r,y:o,width:l,height:c,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(m=>Math.round(m+r-r)).sort((m,g)=>m-g);r!==d[0]&&d.unshift(0);var h=d.map((m,g)=>{var y=d[g+1],S=y==null,w=S?r+l-m:y-m;if(w<=0)return null;var v=g%n.length;return M.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:w,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var vJ=(t,e)=>{var{xAxis:n,width:i,height:r,offset:o}=t;return rL(C1(Ai(Ai(Ai({},yo),n),{},{ticks:aL(n),viewBox:{x:0,y:0,width:i,height:r}})),o.left,o.left+o.width,e)},xJ=(t,e)=>{var{yAxis:n,width:i,height:r,offset:o}=t;return rL(C1(Ai(Ai(Ai({},yo),n),{},{ticks:aL(n),viewBox:{x:0,y:0,width:i,height:r}})),o.top,o.top+o.height,e)},yJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ti.grid};function Jm(t){var e=dL(),n=hL(),i=fL(),r=Ai(Ai({},Fi(t,yJ)),{},{x:qe(t.x)?t.x:i.left,y:qe(t.y)?t.y:i.top,width:qe(t.width)?t.width:i.width,height:qe(t.height)?t.height:i.height}),{xAxisId:o,yAxisId:l,x:c,y:f,width:d,height:h,syncWithTicks:m,horizontalValues:g,verticalValues:y}=r,S=Ri(),w=ot(R=>AN(R,"xAxis",o,S)),v=ot(R=>AN(R,"yAxis",l,S));if(!Pa(d)||!Pa(h)||!qe(c)||!qe(f))return null;var _=r.verticalCoordinatesGenerator||vJ,A=r.horizontalCoordinatesGenerator||xJ,{horizontalPoints:T,verticalPoints:C}=r;if((!T||!T.length)&&typeof A=="function"){var P=g&&g.length,O=A({yAxis:v?Ai(Ai({},v),{},{ticks:P?g:v.ticks}):void 0,width:e??d,height:n??h,offset:i},P?!0:m);_m(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(T=O)}if((!C||!C.length)&&typeof _=="function"){var D=y&&y.length,z=_({xAxis:w?Ai(Ai({},w),{},{ticks:D?y:w.ticks}):void 0,width:e??d,height:n??h,offset:i},D?!0:m);_m(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(C=z)}return M.createElement(Gr,{zIndex:r.zIndex},M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(dJ,{fill:r.fill,fillOpacity:r.fillOpacity,x:r.x,y:r.y,width:r.width,height:r.height,ry:r.ry}),M.createElement(mJ,hl({},r,{horizontalPoints:T})),M.createElement(gJ,hl({},r,{verticalPoints:C})),M.createElement(hJ,hl({},r,{offset:i,horizontalPoints:T,xAxis:w,yAxis:v})),M.createElement(pJ,hl({},r,{offset:i,verticalPoints:C,xAxis:w,yAxis:v}))))}Jm.displayName="CartesianGrid";var bJ={},TI=nr({name:"errorBars",initialState:bJ,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]||(t[n]=[]),t[n].push(i)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:i,next:r}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===i.dataKey&&o.direction===i.direction?r:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]&&(t[n]=t[n].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:sue,replaceErrorBar:lue,removeErrorBar:cue}=TI.actions,_J=TI.reducer,wJ=["children"];function SJ(t,e){if(t==null)return{};var n,i,r=EJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EJ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var MJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},AJ=M.createContext(MJ);function TJ(t){var{children:e}=t,n=SJ(t,wJ);return M.createElement(AJ.Provider,{value:n},e)}function N1(t,e){var n,i,r=ot(d=>Io(d,t)),o=ot(d=>jo(d,e)),l=(n=r==null?void 0:r.allowDataOverflow)!==null&&n!==void 0?n:Qn.allowDataOverflow,c=(i=o==null?void 0:o.allowDataOverflow)!==null&&i!==void 0?i:Jn.allowDataOverflow,f=l||c;return{needClip:f,needClipX:l,needClipY:c}}function CI(t){var{xAxisId:e,yAxisId:n,clipPathId:i}=t,r=T1(),{needClipX:o,needClipY:l,needClip:c}=N1(e,n);if(!c||!r)return null;var{x:f,y:d,width:h,height:m}=r;return M.createElement("clipPath",{id:"clipPath-".concat(i)},M.createElement("rect",{x:o?f:f-h/2,y:l?d:d-m/2,width:o?h:h*2,height:l?m:m*2}))}function CJ(t){var e=xd(t),n=3,i=2;if(e!=null){var{r,strokeWidth:o}=e,l=Number(r),c=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(c)||c<0)&&(c=i),{r:l,strokeWidth:c}}return{r:n,strokeWidth:i}}var lb={exports:{}},cb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO;function RJ(){if(LO)return cb;LO=1;var t=su();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,r=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return cb.useSyncExternalStoreWithSelector=function(f,d,h,m,g){var y=r(null);if(y.current===null){var S={hasValue:!1,value:null};y.current=S}else S=y.current;y=l(function(){function v(P){if(!_){if(_=!0,A=P,P=m(P),g!==void 0&&S.hasValue){var O=S.value;if(g(O,P))return T=O}return T=P}if(O=T,n(A,P))return O;var D=m(P);return g!==void 0&&g(O,D)?(A=P,O):(A=P,T=D)}var _=!1,A,T,C=h===void 0?null:h;return[function(){return v(d())},C===null?void 0:function(){return v(C())}]},[d,h,m,g]);var w=i(f,y[0],y[1]);return o(function(){S.hasValue=!0,S.value=w},[w]),c(w),w},cb}var UO;function NJ(){return UO||(UO=1,lb.exports=RJ()),lb.exports}NJ();function OJ(t){t()}function PJ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){OJ(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!i||t===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var kO={notify(){},get:()=>[]};function DJ(t,e){let n,i=kO,r=0,o=!1;function l(w){h();const v=i.subscribe(w);let _=!1;return()=>{_||(_=!0,v(),m())}}function c(){i.notify()}function f(){S.onStateChange&&S.onStateChange()}function d(){return o}function h(){r++,n||(n=t.subscribe(f),i=PJ())}function m(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=kO)}function g(){o||(o=!0,h())}function y(){o&&(o=!1,m())}const S={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:d,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>i};return S}var LJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UJ=LJ(),kJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",IJ=kJ(),jJ=()=>UJ||IJ?M.useLayoutEffect:M.useEffect,BJ=jJ();function IO(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function FJ(t,e){if(IO(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!IO(t[n[r]],e[n[r]]))return!1;return!0}var ub=Symbol.for("react-redux-context"),fb=typeof globalThis<"u"?globalThis:{};function zJ(){if(!M.createContext)return{};const t=fb[ub]??(fb[ub]=new Map);let e=t.get(M.createContext);return e||(e=M.createContext(null),t.set(M.createContext,e)),e}var HJ=zJ();function GJ(t){const{children:e,context:n,serverState:i,store:r}=t,o=M.useMemo(()=>{const f=DJ(r);return{store:r,subscription:f,getServerState:i?()=>i:void 0}},[r,i]),l=M.useMemo(()=>r.getState(),[r]);BJ(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==r.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const c=n||HJ;return M.createElement(c.Provider,{value:o},e)}var VJ=GJ,WJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function qJ(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function cv(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var i of n)if(WJ.has(i)){if(t[i]==null&&e[i]==null)continue;if(!FJ(t[i],e[i]))return!1}else if(!qJ(t[i],e[i]))return!1;return!0}function Ba(t,e){var n,i;return(n=(i=t.graphicalItems.cartesianItems.find(r=>r.id===e))===null||i===void 0?void 0:i.xAxisId)!==null&&n!==void 0?n:_I}function Fa(t,e){var n,i;return(n=(i=t.graphicalItems.cartesianItems.find(r=>r.id===e))===null||i===void 0?void 0:i.yAxisId)!==null&&n!==void 0?n:_I}var RI=(t,e,n)=>Rs(t,"xAxis",Ba(t,e),n),NI=(t,e,n)=>Cs(t,"xAxis",Ba(t,e),n),OI=(t,e,n)=>Rs(t,"yAxis",Fa(t,e),n),PI=(t,e,n)=>Cs(t,"yAxis",Fa(t,e),n),XJ=fe([Xt,RI,OI,NI,PI],(t,e,n,i,r)=>ja(t,"xAxis")?Zc(e,i,!1):Zc(n,r,!1)),$J=(t,e)=>e,DI=fe([rv,$J],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),LI=t=>{var e=Xt(t),n=ja(e,"xAxis");return n?"yAxis":"xAxis"},YJ=(t,e)=>{var n=LI(t);return n==="yAxis"?Fa(t,e):Ba(t,e)},KJ=(t,e,n)=>Vm(t,LI(t),YJ(t,e),n),ZJ=fe([DI,KJ],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:i}=t,r=ev(t);if(!(i==null||r==null)){var o=(n=e[i])===null||n===void 0?void 0:n.stackedData,l=o==null?void 0:o.find(c=>c.key===r);if(l!=null)return l.map(c=>[c[0],c[1]])}}}),QJ=fe([Xt,RI,OI,NI,PI,ZJ,hU,XJ,DI,Dq],(t,e,n,i,r,o,l,c,f,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=l;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||i==null||r==null||i.length===0||r.length===0||c==null)){var{data:y}=f,S;if(y&&y.length>0?S=y:S=h==null?void 0:h.slice(m,g+1),S!=null)return vee({layout:t,xAxis:e,yAxis:n,xAxisTicks:i,yAxisTicks:r,dataStartIndex:m,areaSettings:f,stackedData:o,displayedData:S,chartBaseValue:d,bandSize:c})}}),JJ=["id"],eee=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bl.apply(null,arguments)}function UI(t,e){if(t==null)return{};var n,i,r=tee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tee(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(i){nee(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function nee(t,e,n){return(e=iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iee(t){var e=ree(t,"string");return typeof e=="symbol"?e:e+""}function ree(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eg(t,e){return t&&t!=="none"?t:e}var aee=t=>{var{dataKey:e,name:n,stroke:i,fill:r,legendType:o,hide:l}=t;return[{inactive:l,dataKey:e,type:o,color:eg(i,r),value:Pg(n,e),payload:t}]},oee=M.memo(t=>{var{dataKey:e,data:n,stroke:i,strokeWidth:r,fill:o,name:l,hide:c,unit:f,tooltipType:d,id:h}=t,m={dataDefinedOnItem:n,getPosition:Dl,settings:{stroke:i,strokeWidth:r,fill:o,dataKey:e,nameKey:void 0,name:Pg(l,e),hide:c,type:d,color:eg(i,o),unit:f,graphicalItemId:h}};return M.createElement(gI,{tooltipEntrySettings:m})});function see(t){var{clipPathId:e,points:n,props:i}=t,{needClip:r,dot:o,dataKey:l}=i,c=Br(i);return M.createElement(ZZ,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:c,needClip:r,clipPathId:e})}function lee(t){var{showLabels:e,children:n,points:i}=t,r=i.map(o=>{var l,c,f={x:(l=o.x)!==null&&l!==void 0?l:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return zc(zc({},f),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return M.createElement(oI,{value:e?r:void 0},n)}function BO(t){var{points:e,baseLine:n,needClip:i,clipPathId:r,props:o}=t,{layout:l,type:c,stroke:f,connectNulls:d,isRange:h}=o,{id:m}=o,g=UI(o,JJ),y=Br(g),S=Ii(g);return M.createElement(M.Fragment,null,(e==null?void 0:e.length)>1&&M.createElement(ji,{clipPath:i?"url(#clipPath-".concat(r,")"):void 0},M.createElement(Hf,bl({},S,{id:m,points:e,connectNulls:d,type:c,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&M.createElement(Hf,bl({},y,{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:e})),f!=="none"&&h&&M.createElement(Hf,bl({},y,{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n}))),M.createElement(see,{points:e,props:g,clipPathId:r}))}function cee(t){var e,n,{alpha:i,baseLine:r,points:o,strokeWidth:l}=t,c=(e=o[0])===null||e===void 0?void 0:e.y,f=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!At(c)||!At(f))return null;var d=i*Math.abs(c-f),h=Math.max(...o.map(m=>m.x||0));return qe(r)?h=Math.max(r,h):r&&Array.isArray(r)&&r.length&&(h=Math.max(...r.map(m=>m.x||0),h)),qe(h)?M.createElement("rect",{x:0,y:c<f?c:c-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}function uee(t){var e,n,{alpha:i,baseLine:r,points:o,strokeWidth:l}=t,c=(e=o[0])===null||e===void 0?void 0:e.x,f=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!At(c)||!At(f))return null;var d=i*Math.abs(c-f),h=Math.max(...o.map(m=>m.y||0));return qe(r)?h=Math.max(r,h):r&&Array.isArray(r)&&r.length&&(h=Math.max(...r.map(m=>m.y||0),h)),qe(h)?M.createElement("rect",{x:c<f?c:c-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}function fee(t){var{alpha:e,layout:n,points:i,baseLine:r,strokeWidth:o}=t;return n==="vertical"?M.createElement(cee,{alpha:e,points:i,baseLine:r,strokeWidth:o}):M.createElement(uee,{alpha:e,points:i,baseLine:r,strokeWidth:o})}function dee(t){var{needClip:e,clipPathId:n,props:i,previousPointsRef:r,previousBaselineRef:o}=t,{points:l,baseLine:c,isAnimationActive:f,animationBegin:d,animationDuration:h,animationEasing:m,onAnimationStart:g,onAnimationEnd:y}=i,S=M.useMemo(()=>({points:l,baseLine:c}),[l,c]),w=Hg(S,"recharts-area-"),v=MS(),[_,A]=M.useState(!1),T=!_,C=M.useCallback(()=>{typeof y=="function"&&y(),A(!1)},[y]),P=M.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);if(v==null)return null;var O=r.current,D=o.current;return M.createElement(lee,{showLabels:T,points:l},i.children,M.createElement(zg,{animationId:w,begin:d,duration:h,isActive:f,easing:m,onAnimationEnd:C,onAnimationStart:P,key:w},z=>{if(O){var R=O.length/l.length,U=z===1?l:l.map((j,W)=>{var $=Math.floor(W*R);if(O[$]){var Q=O[$];return zc(zc({},j),{},{x:_n(Q.x,j.x,z),y:_n(Q.y,j.y,z)})}return j}),F;return qe(c)?F=_n(D,c,z):Cn(c)||la(c)?F=_n(D,0,z):F=c.map((j,W)=>{var $=Math.floor(W*R);if(Array.isArray(D)&&D[$]){var Q=D[$];return zc(zc({},j),{},{x:_n(Q.x,j.x,z),y:_n(Q.y,j.y,z)})}return j}),z>0&&(r.current=U,o.current=F),M.createElement(BO,{points:U,baseLine:F,needClip:e,clipPathId:n,props:i})}return z>0&&(r.current=l,o.current=c),M.createElement(ji,null,f&&M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(n)},M.createElement(fee,{alpha:z,points:l,baseLine:c,layout:v,strokeWidth:i.strokeWidth}))),M.createElement(ji,{clipPath:"url(#animationClipPath-".concat(n,")")},M.createElement(BO,{points:l,baseLine:c,needClip:e,clipPathId:n,props:i})))}),M.createElement(lI,{label:i.label}))}function hee(t){var{needClip:e,clipPathId:n,props:i}=t,r=M.useRef(null),o=M.useRef();return M.createElement(dee,{needClip:e,clipPathId:n,props:i,previousPointsRef:r,previousBaselineRef:o})}class pee extends M.PureComponent{render(){var{hide:e,dot:n,points:i,className:r,top:o,left:l,needClip:c,xAxisId:f,yAxisId:d,width:h,height:m,id:g,baseLine:y,zIndex:S}=this.props;if(e)return null;var w=sn("recharts-area",r),v=g,{r:_,strokeWidth:A}=CJ(n),T=dI(n),C=_*2+A,P=c?"url(#clipPath-".concat(T?"":"dots-").concat(v,")"):void 0;return M.createElement(Gr,{zIndex:S},M.createElement(ji,{className:w},c&&M.createElement("defs",null,M.createElement(CI,{clipPathId:v,xAxisId:f,yAxisId:d}),!T&&M.createElement("clipPath",{id:"clipPath-dots-".concat(v)},M.createElement("rect",{x:l-C/2,y:o-C/2,width:h+C,height:m+C}))),M.createElement(hee,{needClip:c,clipPathId:v,props:this.props})),M.createElement(TO,{points:i,mainColor:eg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(y)&&M.createElement(TO,{points:y,mainColor:eg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var kI={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ti.area};function mee(t){var e,n=Fi(t,kI),{activeDot:i,animationBegin:r,animationDuration:o,animationEasing:l,connectNulls:c,dot:f,fill:d,fillOpacity:h,hide:m,isAnimationActive:g,legendType:y,stroke:S,xAxisId:w,yAxisId:v}=n,_=UI(n,eee),A=Ll(),T=Fk(),{needClip:C}=N1(w,v),P=Ri(),{points:O,isRange:D,baseLine:z}=(e=ot($=>QJ($,t.id,P)))!==null&&e!==void 0?e:{},R=T1();if(A!=="horizontal"&&A!=="vertical"||R==null||T!=="AreaChart"&&T!=="ComposedChart")return null;var{height:U,width:F,x:j,y:W}=R;return!O||!O.length?null:M.createElement(pee,bl({},_,{activeDot:i,animationBegin:r,animationDuration:o,animationEasing:l,baseLine:z,connectNulls:c,dot:f,fill:d,fillOpacity:h,height:U,hide:m,layout:A,isAnimationActive:g==="auto"?!Md.isSsr:g,isRange:D,legendType:y,needClip:C,points:O,stroke:S,width:F,left:j,top:W,xAxisId:w,yAxisId:v}))}var gee=(t,e,n,i,r)=>{var o=n??e;if(qe(o))return o;var l=t==="horizontal"?r:i,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]};function vee(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:i},stackedData:r,layout:o,chartBaseValue:l,xAxis:c,yAxis:f,displayedData:d,dataStartIndex:h,xAxisTicks:m,yAxisTicks:g,bandSize:y}=t,S=r&&r.length,w=gee(o,l,n,c,f),v=o==="horizontal",_=!1,A=d.map((C,P)=>{var O,D,z,R;if(S)R=r[h+P];else{var U=Bn(C,i);Array.isArray(U)?(R=U,_=!0):R=[w,U]}var F=(O=(D=R)===null||D===void 0?void 0:D[1])!==null&&O!==void 0?O:null,j=F==null||S&&!e&&Bn(C,i)==null;if(v){var W;return{x:MC({axis:c,ticks:m,bandSize:y,entry:C,index:P}),y:j?null:(W=f.scale.map(F))!==null&&W!==void 0?W:null,value:R,payload:C}}return{x:j?null:(z=c.scale.map(F))!==null&&z!==void 0?z:null,y:MC({axis:f,ticks:g,bandSize:y,entry:C,index:P}),value:R,payload:C}}),T;return S||_?T=A.map(C=>{var P,O=Array.isArray(C.value)?C.value[0]:null;if(v){var D;return{x:C.x,y:O!=null&&C.y!=null&&(D=f.scale.map(O))!==null&&D!==void 0?D:null,payload:C.payload}}return{x:O!=null&&(P=c.scale.map(O))!==null&&P!==void 0?P:null,y:C.y,payload:C.payload}}):T=v?f.scale.map(w):c.scale.map(w),{points:A,baseLine:T??0,isRange:_}}function xee(t){var e=Fi(t,kI),n=Ri();return M.createElement(xI,{id:e.id,type:"area"},i=>M.createElement(M.Fragment,null,M.createElement(vI,{legendPayload:aee(e)}),M.createElement(oee,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),M.createElement(bI,{type:"area",id:i,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:oL(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),M.createElement(mee,bl({},e,{id:i}))))}var II=M.memo(xee,cv);II.displayName="Area";var yee="Invariant failed";function bee(t,e){throw new Error(yee)}function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},G_.apply(null,arguments)}function tg(t){return M.createElement(PZ,G_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var _ee=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(qe(e))return e;var o=qe(i)||Cn(i);return o?e(i,r):(o||bee(),n)}},wee=(t,e,n)=>n,See=(t,e)=>e,kd=fe([rv,See],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Eee=fe([kd],t=>t==null?void 0:t.maxBarSize),Mee=(t,e,n,i)=>i,Aee=fe([Xt,rv,Ba,Fa,wee],(t,e,n,i,r)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===i).filter(o=>o.isPanorama===r).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Tee=(t,e,n)=>{var i=Xt(t),r=Ba(t,e),o=Fa(t,e);if(!(r==null||o==null))return i==="horizontal"?Vm(t,"yAxis",o,n):Vm(t,"xAxis",r,n)},Cee=(t,e)=>{var n=Xt(t),i=Ba(t,e),r=Fa(t,e);if(!(i==null||r==null))return n==="horizontal"?MN(t,"xAxis",i):MN(t,"yAxis",r)},Ree=fe([Aee,Pq,Cee],vQ),Nee=(t,e,n)=>{var i,r,o=kd(t,e);if(o==null)return 0;var l=Ba(t,e),c=Fa(t,e);if(l==null||c==null)return 0;var f=Xt(t),d=MU(t),{maxBarSize:h}=o,m=Cn(h)?d:h,g,y;return f==="horizontal"?(g=Rs(t,"xAxis",l,n),y=Cs(t,"xAxis",l,n)):(g=Rs(t,"yAxis",c,n),y=Cs(t,"yAxis",c,n)),(i=(r=Zc(g,y,!0))!==null&&r!==void 0?r:m)!==null&&i!==void 0?i:0},jI=(t,e,n)=>{var i=Xt(t),r=Ba(t,e),o=Fa(t,e);if(!(r==null||o==null)){var l,c;return i==="horizontal"?(l=Rs(t,"xAxis",r,n),c=Cs(t,"xAxis",r,n)):(l=Rs(t,"yAxis",o,n),c=Cs(t,"yAxis",o,n)),Zc(l,c)}},Oee=fe([Ree,MU,Oq,AU,Nee,jI,Eee],wQ),Pee=(t,e,n)=>{var i=Ba(t,e);if(i!=null)return Rs(t,"xAxis",i,n)},Dee=(t,e,n)=>{var i=Fa(t,e);if(i!=null)return Rs(t,"yAxis",i,n)},Lee=(t,e,n)=>{var i=Ba(t,e);if(i!=null)return Cs(t,"xAxis",i,n)},Uee=(t,e,n)=>{var i=Fa(t,e);if(i!=null)return Cs(t,"yAxis",i,n)},kee=fe([Oee,kd],EQ),Iee=fe([Tee,kd],SQ),jee=fe([ni,wS,Pee,Dee,Lee,Uee,kee,Xt,hU,jI,Iee,kd,Mee],(t,e,n,i,r,o,l,c,f,d,h,m,g)=>{var{chartData:y,dataStartIndex:S,dataEndIndex:w}=f;if(!(m==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||i==null||r==null||o==null||d==null)){var{data:v}=m,_;if(v!=null&&v.length>0?_=v:_=y==null?void 0:y.slice(S,w+1),_!=null)return dte({layout:c,barSettings:m,pos:l,parentViewBox:e,bandSize:d,xAxis:n,yAxis:i,xAxisTicks:r,yAxisTicks:o,stackedData:h,displayedData:_,offset:t,cells:g,dataStartIndex:S})}}),Bee=["index"];function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},V_.apply(null,arguments)}function Fee(t,e){if(t==null)return{};var n,i,r=zee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zee(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var BI=M.createContext(void 0),Hee=t=>{var e=M.useContext(BI);if(e!=null)return e.stackId;if(t!=null)return oL(t)},Gee=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Vee=t=>{var e=M.useContext(BI);if(e!=null){var{stackId:n}=e;return"url(#".concat(Gee(n,t),")")}},FI=t=>{var{index:e}=t,n=Fee(t,Bee),i=Vee(e);return M.createElement(ji,V_({className:"recharts-bar-stack-layer",clipPath:i},n))},Wee=["onMouseEnter","onMouseLeave","onClick"],qee=["value","background","tooltipPosition"],Xee=["id"],$ee=["onMouseEnter","onClick","onMouseLeave"];function Ro(){return Ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ro.apply(null,arguments)}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(i){Yee(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Yee(t,e,n){return(e=Kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kee(t){var e=Zee(t,"string");return typeof e=="symbol"?e:e+""}function Zee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ng(t,e){if(t==null)return{};var n,i,r=Qee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qee(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Jee=t=>{var{dataKey:e,name:n,fill:i,legendType:r,hide:o}=t;return[{inactive:o,dataKey:e,type:r,color:i,value:Pg(n,e),payload:t}]},ete=M.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:i,fill:r,name:o,hide:l,unit:c,tooltipType:f,id:d}=t,h={dataDefinedOnItem:void 0,getPosition:Dl,settings:{stroke:n,strokeWidth:i,fill:r,dataKey:e,nameKey:void 0,name:Pg(o,e),hide:l,type:f,color:r,unit:c,graphicalItemId:d}};return M.createElement(gI,{tooltipEntrySettings:h})});function tte(t){var e=ot(Cl),{data:n,dataKey:i,background:r,allOtherBarProps:o}=t,{onMouseEnter:l,onMouseLeave:c,onClick:f}=o,d=ng(o,Wee),h=hI(l,i,o.id),m=pI(c),g=mI(f,i,o.id);if(!r||n==null)return null;var y=xd(r);return M.createElement(Gr,{zIndex:MQ(r,ti.barBackground)},n.map((S,w)=>{var{value:v,background:_,tooltipPosition:A}=S,T=ng(S,qee);if(!_)return null;var C=h(S,w),P=m(S,w),O=g(S,w),D=Di(Di(Di(Di(Di({option:r,isActive:String(w)===e},T),{},{fill:"#eee"},_),y),dS(d,S,w)),{},{onMouseEnter:C,onMouseLeave:P,onClick:O,dataKey:i,index:w,className:"recharts-bar-background-rectangle"});return M.createElement(tg,Ro({key:"background-bar-".concat(w)},D))}))}function nte(t){var{showLabels:e,children:n,rects:i}=t,r=i==null?void 0:i.map(o=>{var l={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return Di(Di({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return M.createElement(oI,{value:e?r:void 0},n)}function ite(t){var{shape:e,activeBar:n,baseProps:i,entry:r,index:o,dataKey:l}=t,c=ot(Cl),f=ot(Ik),d=n&&String(o)===c&&(f==null||l===f),h=d?n:e;return d?M.createElement(Gr,{zIndex:ti.activeBar},M.createElement(FI,{index:o},M.createElement(tg,Ro({},i,{name:String(i.name)},r,{isActive:d,option:h,index:o,dataKey:l})))):M.createElement(tg,Ro({},i,{name:String(i.name)},r,{isActive:d,option:h,index:o,dataKey:l}))}function rte(t){var{shape:e,baseProps:n,entry:i,index:r,dataKey:o}=t;return M.createElement(tg,Ro({},n,{name:String(n.name)},i,{isActive:!1,option:e,index:r,dataKey:o}))}function ate(t){var e,{data:n,props:i}=t,r=(e=Br(i))!==null&&e!==void 0?e:{},{id:o}=r,l=ng(r,Xee),{shape:c,dataKey:f,activeBar:d}=i,{onMouseEnter:h,onClick:m,onMouseLeave:g}=i,y=ng(i,$ee),S=hI(h,f,o),w=pI(g),v=mI(m,f,o);return n?M.createElement(M.Fragment,null,n.map((_,A)=>M.createElement(FI,Ro({index:A,key:"rectangle-".concat(_==null?void 0:_.x,"-").concat(_==null?void 0:_.y,"-").concat(_==null?void 0:_.value,"-").concat(A),className:"recharts-bar-rectangle"},dS(y,_,A),{onMouseEnter:S(_,A),onMouseLeave:w(_,A),onClick:v(_,A)}),d?M.createElement(ite,{shape:c,activeBar:d,baseProps:l,entry:_,index:A,dataKey:f}):M.createElement(rte,{shape:c,baseProps:l,entry:_,index:A,dataKey:f})))):null}function ote(t){var{props:e,previousRectanglesRef:n}=t,{data:i,layout:r,isAnimationActive:o,animationBegin:l,animationDuration:c,animationEasing:f,onAnimationEnd:d,onAnimationStart:h}=e,m=n.current,g=Hg(e,"recharts-bar-"),[y,S]=M.useState(!1),w=!y,v=M.useCallback(()=>{typeof d=="function"&&d(),S(!1)},[d]),_=M.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return M.createElement(nte,{showLabels:w,rects:i},M.createElement(zg,{animationId:g,begin:l,duration:c,isActive:o,easing:f,onAnimationEnd:v,onAnimationStart:_,key:g},A=>{var T=A===1?i:i==null?void 0:i.map((C,P)=>{var O=m&&m[P];if(O)return Di(Di({},C),{},{x:_n(O.x,C.x,A),y:_n(O.y,C.y,A),width:_n(O.width,C.width,A),height:_n(O.height,C.height,A)});if(r==="horizontal"){var D=_n(0,C.height,A),z=_n(C.stackedBarStart,C.y,A);return Di(Di({},C),{},{y:z,height:D})}var R=_n(0,C.width,A),U=_n(C.stackedBarStart,C.x,A);return Di(Di({},C),{},{width:R,x:U})});return A>0&&(n.current=T??null),T==null?null:M.createElement(ji,null,M.createElement(ate,{props:e,data:T}))}),M.createElement(lI,{label:e.label}),e.children)}function ste(t){var e=M.useRef(null);return M.createElement(ote,{previousRectanglesRef:e,props:t})}var zI=0,lte=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Bn(t,e)}};class cte extends M.PureComponent{render(){var{hide:e,data:n,dataKey:i,className:r,xAxisId:o,yAxisId:l,needClip:c,background:f,id:d}=this.props;if(e||n==null)return null;var h=sn("recharts-bar",r),m=d;return M.createElement(ji,{className:h,id:d},c&&M.createElement("defs",null,M.createElement(CI,{clipPathId:m,xAxisId:o,yAxisId:l})),M.createElement(ji,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},M.createElement(tte,{data:n,dataKey:i,background:f,allOtherBarProps:this.props}),M.createElement(ste,this.props)))}}var ute={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:zI,xAxisId:0,yAxisId:0,zIndex:ti.bar};function fte(t){var{xAxisId:e,yAxisId:n,hide:i,legendType:r,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:d,isAnimationActive:h}=t,{needClip:m}=N1(e,n),g=Ll(),y=Ri(),S=hZ(t.children,E1),w=ot(A=>jee(A,t.id,y,S));if(g!=="vertical"&&g!=="horizontal")return null;var v,_=w==null?void 0:w[0];return _==null||_.height==null||_.width==null?v=0:v=g==="vertical"?_.height/2:_.width/2,M.createElement(TJ,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:lte,errorBarOffset:v},M.createElement(cte,Ro({},t,{layout:g,needClip:m,data:w,xAxisId:e,yAxisId:n,hide:i,legendType:r,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:f,animationEasing:d,isAnimationActive:h})))}function dte(t){var{layout:e,barSettings:{dataKey:n,minPointSize:i},pos:r,bandSize:o,xAxis:l,yAxis:c,xAxisTicks:f,yAxisTicks:d,stackedData:h,displayedData:m,offset:g,cells:y,parentViewBox:S,dataStartIndex:w}=t,v=e==="horizontal"?c:l,_=h?v.scale.domain():null,A=CG({numericAxis:v}),T=v.scale.map(A);return m.map((C,P)=>{var O,D,z,R,U,F;if(h){var j=h[P+w];if(j==null)return null;O=SG(j,_)}else O=Bn(C,n),Array.isArray(O)||(O=[A,O]);var W=_ee(i,zI)(O[1],P);if(e==="horizontal"){var $,Q=c.scale.map(O[0]),B=c.scale.map(O[1]);if(Q==null||B==null)return null;D=AC({axis:l,ticks:f,bandSize:o,offset:r.offset,entry:C,index:P}),z=($=B??Q)!==null&&$!==void 0?$:void 0,R=r.size;var V=Q-B;if(U=la(V)?0:V,F={x:D,y:g.top,width:R,height:g.height},Math.abs(W)>0&&Math.abs(U)<Math.abs(W)){var K=Ki(U||W)*(Math.abs(W)-Math.abs(U));z-=K,U+=K}}else{var ge=l.scale.map(O[0]),ve=l.scale.map(O[1]);if(ge==null||ve==null)return null;if(D=ge,z=AC({axis:c,ticks:d,bandSize:o,offset:r.offset,entry:C,index:P}),R=ve-ge,U=r.size,F={x:g.left,y:z,width:g.width,height:U},Math.abs(W)>0&&Math.abs(R)<Math.abs(W)){var H=Ki(R||W)*(Math.abs(W)-Math.abs(R));R+=H}}if(D==null||z==null||R==null||U==null)return null;var ne=Di(Di({},C),{},{stackedBarStart:T,x:D,y:z,width:R,height:U,value:h?O:O[1],payload:C,background:F,tooltipPosition:{x:D+R/2,y:z+U/2},parentViewBox:S},y&&y[P]&&y[P].props);return ne}).filter(Boolean)}function hte(t){var e=Fi(t,ute),n=Hee(e.stackId),i=Ri();return M.createElement(xI,{id:e.id,type:"bar"},r=>M.createElement(M.Fragment,null,M.createElement(vI,{legendPayload:Jee(e)}),M.createElement(ete,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),M.createElement(bI,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:i}),M.createElement(Gr,{zIndex:e.zIndex},M.createElement(fte,Ro({},e,{id:r})))))}var od=M.memo(hte,cv);od.displayName="Bar";var pte=["domain","range"],mte=["domain","range"];function zO(t,e){if(t==null)return{};var n,i,r=gte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gte(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function HO(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function HI(t,e){if(t===e)return!0;var{domain:n,range:i}=t,r=zO(t,pte),{domain:o,range:l}=e,c=zO(e,mte);return!HO(n,o)||!HO(i,l)?!1:cv(r,c)}var vte=["type"],xte=["dangerouslySetInnerHTML","ticks","scale"],yte=["id","scale"];function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},W_.apply(null,arguments)}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function VO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(i){bte(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function bte(t,e,n){return(e=_te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _te(t){var e=wte(t,"string");return typeof e=="symbol"?e:e+""}function wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q_(t,e){if(t==null)return{};var n,i,r=Ste(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ste(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Ete(t){var e=Pn(),n=M.useRef(null),i=MS(),{type:r}=t,o=q_(t,vte),l=Zg(i,"xAxis",r),c=M.useMemo(()=>{if(l!=null)return VO(VO({},o),{},{type:l})},[o,l]);return M.useLayoutEffect(()=>{c!=null&&(n.current===null?e(nQ(c)):n.current!==c&&e(iQ({prev:n.current,next:c})),n.current=c)},[c,e]),M.useLayoutEffect(()=>()=>{n.current&&(e(rQ(n.current)),n.current=null)},[e]),null}var Mte=t=>{var{xAxisId:e,className:n}=t,i=ot(wS),r=Ri(),o="xAxis",l=ot(_=>gk(_,o,e,r)),c=ot(_=>dk(_,e)),f=ot(_=>LX(_,e)),d=ot(_=>UU(_,e));if(c==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:g}=t,y=q_(t,xte),{id:S,scale:w}=d,v=q_(d,yte);return M.createElement(R1,W_({},y,v,{x:f.x,y:f.y,width:c.width,height:c.height,className:sn("recharts-".concat(o," ").concat(o),n),viewBox:i,ticks:l,axisType:o}))},Ate={allowDataOverflow:Qn.allowDataOverflow,allowDecimals:Qn.allowDecimals,allowDuplicatedCategory:Qn.allowDuplicatedCategory,angle:Qn.angle,axisLine:yo.axisLine,height:Qn.height,hide:!1,includeHidden:Qn.includeHidden,interval:Qn.interval,label:!1,minTickGap:Qn.minTickGap,mirror:Qn.mirror,orientation:Qn.orientation,padding:Qn.padding,reversed:Qn.reversed,scale:Qn.scale,tick:Qn.tick,tickCount:Qn.tickCount,tickLine:yo.tickLine,tickSize:yo.tickSize,type:Qn.type,xAxisId:0},Tte=t=>{var e=Fi(t,Ate);return M.createElement(M.Fragment,null,M.createElement(Ete,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),M.createElement(Mte,e))},ig=M.memo(Tte,HI);ig.displayName="XAxis";var Cte=["type"],Rte=["dangerouslySetInnerHTML","ticks","scale"],Nte=["id","scale"];function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},X_.apply(null,arguments)}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function qO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(i){Ote(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Ote(t,e,n){return(e=Pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pte(t){var e=Dte(t,"string");return typeof e=="symbol"?e:e+""}function Dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $_(t,e){if(t==null)return{};var n,i,r=Lte(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lte(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Ute(t){var e=Pn(),n=M.useRef(null),i=MS(),{type:r}=t,o=$_(t,Cte),l=Zg(i,"yAxis",r),c=M.useMemo(()=>{if(l!=null)return qO(qO({},o),{},{type:l})},[l,o]);return M.useLayoutEffect(()=>{c!=null&&(n.current===null?e(aQ(c)):n.current!==c&&e(oQ({prev:n.current,next:c})),n.current=c)},[c,e]),M.useLayoutEffect(()=>()=>{n.current&&(e(sQ(n.current)),n.current=null)},[e]),null}function kte(t){var{yAxisId:e,className:n,width:i,label:r}=t,o=M.useRef(null),l=M.useRef(null),c=ot(wS),f=Ri(),d=Pn(),h="yAxis",m=ot(O=>hk(O,e)),g=ot(O=>kX(O,e)),y=ot(O=>gk(O,h,e,f)),S=ot(O=>kU(O,e));if(M.useLayoutEffect(()=>{if(!(i!=="auto"||!m||A1(r)||M.isValidElement(r)||S==null)){var O=o.current;if(O){var D=O.getCalculatedWidth();Math.round(m.width)!==Math.round(D)&&d(lQ({id:e,width:D}))}}},[y,m,d,r,e,i,S]),m==null||g==null||S==null)return null;var{dangerouslySetInnerHTML:w,ticks:v,scale:_}=t,A=$_(t,Rte),{id:T,scale:C}=S,P=$_(S,Nte);return M.createElement(R1,X_({},A,P,{ref:o,labelRef:l,x:g.x,y:g.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:m.width,height:m.height,className:sn("recharts-".concat(h," ").concat(h),n),viewBox:c,ticks:y,axisType:h}))}var Ite={allowDataOverflow:Jn.allowDataOverflow,allowDecimals:Jn.allowDecimals,allowDuplicatedCategory:Jn.allowDuplicatedCategory,angle:Jn.angle,axisLine:yo.axisLine,hide:!1,includeHidden:Jn.includeHidden,interval:Jn.interval,label:!1,minTickGap:Jn.minTickGap,mirror:Jn.mirror,orientation:Jn.orientation,padding:Jn.padding,reversed:Jn.reversed,scale:Jn.scale,tick:Jn.tick,tickCount:Jn.tickCount,tickLine:yo.tickLine,tickSize:yo.tickSize,type:Jn.type,width:Jn.width,yAxisId:0},jte=t=>{var e=Fi(t,Ite);return M.createElement(M.Fragment,null,M.createElement(Ute,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),M.createElement(kte,e))},rg=M.memo(jte,HI);rg.displayName="YAxis";var Bte=(t,e)=>e,O1=fe([Bte,Xt,DU,ai,Dk,Bo,K$,ni],iY),P1=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,i=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/i)}},GI=Fr("mouseClick"),VI=_d();VI.startListening({actionCreator:GI,effect:(t,e)=>{var n=t.payload,i=O1(e.getState(),P1(n));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(KX({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var Y_=Fr("mouseMove"),WI=_d(),pp=null;WI.startListening({actionCreator:Y_,effect:(t,e)=>{var n=t.payload;pp!==null&&cancelAnimationFrame(pp);var i=P1(n);pp=requestAnimationFrame(()=>{var r=e.getState(),o=p1(r,r.tooltip.settings.shared);if(o==="axis"){var l=O1(r,i);(l==null?void 0:l.activeIndex)!=null?e.dispatch(Ek({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(Sk())}pp=null})}});function Fte(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var XO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},qI=nr({name:"rootProps",initialState:XO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:XO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),zte=qI.reducer,{updateOptions:Hte}=qI.actions,Gte=null,Vte={updatePolarOptions:(t,e)=>e.payload},XI=nr({name:"polarOptions",initialState:Gte,reducers:Vte}),{updatePolarOptions:uue}=XI.actions,Wte=XI.reducer,$I=Fr("keyDown"),YI=Fr("focus"),D1=_d();D1.startListening({actionCreator:$I,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=m1(r,bu(n),Pd(n),Ld(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var f=Bo(n);if(o==="Enter"){var d=qm(n,"axis","hover",String(r.index));e.dispatch(j_({active:!r.active,activeIndex:r.index,activeCoordinate:d}));return}var h=FX(n),m=h==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,y=c+g*m;if(!(f==null||y>=f.length||y<0)){var S=qm(n,"axis","hover",String(y));e.dispatch(j_({active:!0,activeIndex:y.toString(),activeCoordinate:S}))}}}}}});D1.startListening({actionCreator:YI,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&r.index==null){var o="0",l=qm(n,"axis","hover",String(o));e.dispatch(j_({active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Lr=Fr("externalEvent"),KI=_d(),db=new Map;KI.startListening({actionCreator:Lr,effect:(t,e)=>{var{handler:n,reactEvent:i}=t.payload;if(n!=null){i.persist();var r=i.type,o=db.get(r);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var c=e.getState(),f={activeCoordinate:U$(c),activeDataKey:Ik(c),activeIndex:Cl(c),activeLabel:kk(c),activeTooltipIndex:Cl(c),isTooltipActive:k$(c)};n(f,i)}finally{db.delete(r)}});db.set(r,l)}}});var qte=fe([xu],t=>t.tooltipItemPayloads),Xte=fe([qte,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var i=t.find(o=>o.settings.graphicalItemId===n);if(i!=null){var{getPosition:r}=i;if(r!=null)return r(e)}}}),ZI=Fr("touchMove"),QI=_d();QI.startListening({actionCreator:ZI,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var i=e.getState(),r=p1(i,i.tooltip.settings.shared);if(r==="axis"){var o=n.touches[0];if(o==null)return;var l=O1(i,P1({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&e.dispatch(Ek({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(r==="item"){var c,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var d=document.elementFromPoint(f.clientX,f.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(UG),m=(c=d.getAttribute(kG))!==null&&c!==void 0?c:void 0,g=yu(i).find(w=>w.id===m);if(h==null||g==null||m==null)return;var{dataKey:y}=g,S=Xte(i,h,m);e.dispatch(wk({activeDataKey:y,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:m}))}}}});var $te=R3({brush:TQ,cartesianAxis:cQ,chartData:LY,errorBars:_J,graphicalItems:zZ,layout:xG,legend:TV,options:RY,polarAxis:lZ,polarOptions:Wte,referenceElements:OQ,rootProps:zte,tooltip:ZX,zIndex:vY}),Yte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return GH({reducer:$te,preloadedState:e,middleware:i=>{var r;return i({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([VI.middleware,WI.middleware,D1.middleware,KI.middleware,QI.middleware])},enhancers:i=>{var r=i;return typeof i=="function"&&(r=i()),r.concat(V3({type:"raf"}))},devTools:{serialize:{replacer:Fte},name:"recharts-".concat(n)}})};function Kte(t){var{preloadedState:e,children:n,reduxStoreName:i}=t,r=Ri(),o=M.useRef(null);if(r)return n;o.current==null&&(o.current=Yte(e,i));var l=mS;return M.createElement(VJ,{context:l,store:o.current},n)}function Zte(t){var{layout:e,margin:n}=t,i=Pn(),r=Ri();return M.useEffect(()=>{r||(i(mG(e)),i(pG(n)))},[i,r,e,n]),null}var Qte=M.memo(Zte,cv);function Jte(t){var e=Pn();return M.useEffect(()=>{e(Hte(t))},[e,t]),null}function $O(t){var{zIndex:e,isPanorama:n}=t,i=M.useRef(null),r=Pn();return M.useLayoutEffect(()=>(i.current&&r(mY({zIndex:e,element:i.current,isPanorama:n})),()=>{r(gY({zIndex:e,isPanorama:n}))}),[r,e,n]),M.createElement("g",{tabIndex:-1,ref:i})}function YO(t){var{children:e,isPanorama:n}=t,i=ot(aY);if(!i||i.length===0)return e;var r=i.filter(l=>l<0),o=i.filter(l=>l>0);return M.createElement(M.Fragment,null,r.map(l=>M.createElement($O,{key:l,zIndex:l,isPanorama:n})),e,o.map(l=>M.createElement($O,{key:l,zIndex:l,isPanorama:n})))}var ene=["children"];function tne(t,e){if(t==null)return{};var n,i,r=nne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nne(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ag.apply(null,arguments)}var ine={width:"100%",height:"100%",display:"block"},rne=M.forwardRef((t,e)=>{var n=dL(),i=hL(),r=wL();if(!Pa(n)||!Pa(i))return null;var{children:o,otherAttributes:l,title:c,desc:f}=t,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=r?0:void 0,typeof l.role=="string"?h=l.role:h=r?"application":void 0),M.createElement(XD,ag({},l,{title:c,desc:f,role:h,tabIndex:d,width:n,height:i,style:ine,ref:e}),o)}),ane=t=>{var{children:e}=t,n=ot(kg);if(!n)return null;var{width:i,height:r,y:o,x:l}=n;return M.createElement(XD,{width:i,height:r,x:l,y:o},e)},KO=M.forwardRef((t,e)=>{var{children:n}=t,i=tne(t,ene),r=Ri();return r?M.createElement(ane,null,M.createElement(YO,{isPanorama:!0},n)):M.createElement(rne,ag({ref:e},i),M.createElement(YO,{isPanorama:!1},n))});function one(){var t=Pn(),[e,n]=M.useState(null),i=ot(LG);return M.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),o=r.width/e.offsetWidth;At(o)&&o!==i&&t(vG(o))}},[e,t,i]),n}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function sne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(i){lne(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function lne(t,e,n){return(e=cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cne(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},As.apply(null,arguments)}var fne=()=>(GY(),null);function og(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var dne=M.forwardRef((t,e)=>{var n,i,r=M.useRef(null),[o,l]=M.useState({containerWidth:og((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:og((i=t.style)===null||i===void 0?void 0:i.height)}),c=M.useCallback((d,h)=>{l(m=>{var g=Math.round(d),y=Math.round(h);return m.containerWidth===g&&m.containerHeight===y?m:{containerWidth:g,containerHeight:y}})},[]),f=M.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();c(h,m);var g=S=>{var w=S[0];if(w!=null){var{width:v,height:_}=w.contentRect;c(v,_)}},y=new ResizeObserver(g);y.observe(d),r.current=y}},[e,c]);return M.useEffect(()=>()=>{var d=r.current;d!=null&&d.disconnect()},[c]),M.createElement(M.Fragment,null,M.createElement(Sd,{width:o.containerWidth,height:o.containerHeight}),M.createElement("div",As({ref:f},t)))}),hne=M.forwardRef((t,e)=>{var{width:n,height:i}=t,[r,o]=M.useState({containerWidth:og(n),containerHeight:og(i)}),l=M.useCallback((f,d)=>{o(h=>{var m=Math.round(f),g=Math.round(d);return h.containerWidth===m&&h.containerHeight===g?h:{containerWidth:m,containerHeight:g}})},[]),c=M.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:d,height:h}=f.getBoundingClientRect();l(d,h)}},[e,l]);return M.createElement(M.Fragment,null,M.createElement(Sd,{width:r.containerWidth,height:r.containerHeight}),M.createElement("div",As({ref:c},t)))}),pne=M.forwardRef((t,e)=>{var{width:n,height:i}=t;return M.createElement(M.Fragment,null,M.createElement(Sd,{width:n,height:i}),M.createElement("div",As({ref:e},t)))}),mne=M.forwardRef((t,e)=>{var{width:n,height:i}=t;return typeof n=="string"||typeof i=="string"?M.createElement(hne,As({},t,{ref:e})):typeof n=="number"&&typeof i=="number"?M.createElement(pne,As({},t,{width:n,height:i,ref:e})):M.createElement(M.Fragment,null,M.createElement(Sd,{width:n,height:i}),M.createElement("div",As({ref:e},t)))});function gne(t){return t?dne:mne}var vne=M.forwardRef((t,e)=>{var{children:n,className:i,height:r,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:g,onTouchEnd:y,onTouchMove:S,onTouchStart:w,style:v,width:_,responsive:A,dispatchTouchEvents:T=!0}=t,C=M.useRef(null),P=Pn(),[O,D]=M.useState(null),[z,R]=M.useState(null),U=one(),F=SS(),j=(F==null?void 0:F.width)>0?F.width:_,W=(F==null?void 0:F.height)>0?F.height:r,$=M.useCallback(ae=>{U(ae),typeof e=="function"&&e(ae),D(ae),R(ae),ae!=null&&(C.current=ae)},[U,e,D,R]),Q=M.useCallback(ae=>{P(GI(ae)),P(Lr({handler:o,reactEvent:ae}))},[P,o]),B=M.useCallback(ae=>{P(Y_(ae)),P(Lr({handler:d,reactEvent:ae}))},[P,d]),V=M.useCallback(ae=>{P(Sk()),P(Lr({handler:h,reactEvent:ae}))},[P,h]),K=M.useCallback(ae=>{P(Y_(ae)),P(Lr({handler:m,reactEvent:ae}))},[P,m]),ge=M.useCallback(()=>{P(YI())},[P]),ve=M.useCallback(ae=>{P($I(ae.key))},[P]),H=M.useCallback(ae=>{P(Lr({handler:l,reactEvent:ae}))},[P,l]),ne=M.useCallback(ae=>{P(Lr({handler:c,reactEvent:ae}))},[P,c]),ye=M.useCallback(ae=>{P(Lr({handler:f,reactEvent:ae}))},[P,f]),Te=M.useCallback(ae=>{P(Lr({handler:g,reactEvent:ae}))},[P,g]),Ie=M.useCallback(ae=>{P(Lr({handler:w,reactEvent:ae}))},[P,w]),le=M.useCallback(ae=>{T&&P(ZI(ae)),P(Lr({handler:S,reactEvent:ae}))},[P,T,S]),de=M.useCallback(ae=>{P(Lr({handler:y,reactEvent:ae}))},[P,y]),Le=gne(A);return M.createElement(Wk.Provider,{value:O},M.createElement(S6.Provider,{value:z},M.createElement(Le,{width:j??(v==null?void 0:v.width),height:W??(v==null?void 0:v.height),className:sn("recharts-wrapper",i),style:sne({position:"relative",cursor:"default",width:j,height:W},v),onClick:Q,onContextMenu:H,onDoubleClick:ne,onFocus:ge,onKeyDown:ve,onMouseDown:ye,onMouseEnter:B,onMouseLeave:V,onMouseMove:K,onMouseUp:Te,onTouchEnd:de,onTouchMove:le,onTouchStart:Ie,ref:$},M.createElement(fne,null),n)))}),xne=["width","height","responsive","children","className","style","compact","title","desc"];function yne(t,e){if(t==null)return{};var n,i,r=bne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bne(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var _ne=M.forwardRef((t,e)=>{var{width:n,height:i,responsive:r,children:o,className:l,style:c,compact:f,title:d,desc:h}=t,m=yne(t,xne),g=Br(m);return f?M.createElement(M.Fragment,null,M.createElement(Sd,{width:n,height:i}),M.createElement(KO,{otherAttributes:g,title:d,desc:h},o)):M.createElement(vne,{className:l,style:c,width:n,height:i,responsive:r??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},M.createElement(KO,{otherAttributes:g,title:d,desc:h,ref:e},M.createElement(DQ,null,o)))});function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},K_.apply(null,arguments)}var wne={top:5,right:5,bottom:5,left:5},Sne={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:wne,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},JI=M.forwardRef(function(e,n){var i,r=Fi(e.categoricalChartProps,Sne),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,categoricalChartProps:d}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return M.createElement(Kte,{preloadedState:{options:h},reduxStoreName:(i=d.id)!==null&&i!==void 0?i:o},M.createElement(AQ,{chartData:d.data}),M.createElement(Qte,{layout:r.layout,margin:r.margin}),M.createElement(Jte,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),M.createElement(_ne,K_({},r,{ref:n})))}),Ene=["axis","item"],Z_=M.forwardRef((t,e)=>M.createElement(JI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ene,tooltipPayloadSearcher:qk,categoricalChartProps:t,ref:e})),Mne=["axis"],Ane=M.forwardRef((t,e)=>M.createElement(JI,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Mne,tooltipPayloadSearcher:qk,categoricalChartProps:t,ref:e}));const Tne=()=>{const{id:t}=BF(),[e,n]=M.useState(null),[i,r]=M.useState(!0),[o,l]=M.useState("3d"),[c,f]=M.useState(null),[d,h]=M.useState([]),[m,g]=M.useState(!1),[y,S]=M.useState(!1),[w,v]=M.useState({currentFloor:0,completionPercentage:0,budgetUsed:0,stage:"Foundation"}),[_,A]=M.useState({text:"",rating:5}),[T,C]=M.useState(!1),[P,O]=M.useState([]),[D,z]=M.useState([]);M.useEffect(()=>{R()},[t]);const R=async()=>{try{const j=await yt.get(`/projects/${t}`);n(j.data.data),v({currentFloor:j.data.data.currentFloor,completionPercentage:j.data.data.completionPercentage,budgetUsed:j.data.data.budgetUsed,stage:j.data.data.stage});const W=await yt.get(`/projects/${t}/analytics`);f(W.data.data);const $=await yt.get(`/comments/project/${t}`);h($.data.data);const[Q,B]=await Promise.all([yt.get("/workers"),yt.get("/logistics")]);O(Q.data.data.filter(V=>{var K;return((K=V.assignedProject)==null?void 0:K._id)===t})),z(B.data.data.filter(V=>{var K;return((K=V.assignedProject)==null?void 0:K._id)===t}))}catch(j){console.error("Failed to fetch project details",j)}finally{r(!1)}},U=async j=>{j.preventDefault(),C(!0);try{await yt.put(`/projects/${t}/update-progress`,w),await R(),S(!1)}catch(W){console.error("Failed to update progress",W)}finally{C(!1)}},F=async j=>{j.preventDefault(),g(!0);try{const W=await yt.post("/comments",{projectId:t,text:_.text,rating:_.rating});h([W.data.data,...d]),A({text:"",rating:5})}catch(W){console.error("Failed to post comment",W)}finally{g(!1)}};return i?x.jsx("div",{className:"p-20 text-center font-black text-dwello-lilac",children:"Loading project data..."}):e?x.jsxs("div",{className:"space-y-10 animate-fadeIn max-w-7xl mx-auto",children:[x.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsxs("nav",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:[x.jsx(Ui,{to:"/projects",className:"hover:text-dwello-indigo transition-colors",children:"Directory"}),x.jsx("span",{className:"opacity-40",children:"/"}),x.jsx("span",{className:"text-dwello-grape",children:e.name})]}),x.jsx("h1",{className:"text-5xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tighter",children:e.name}),x.jsxs("p",{className:"text-dwello-grape/70 font-medium",children:[e.location,"  Established ",new Date(e.startDate).toLocaleDateString()]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>S(!0),className:"bg-dwello-indigo text-white px-8 py-4 rounded-2xl font-black text-sm shadow-xl shadow-dwello-indigo/10 hover:translate-y-[-2px] transition-all",children:"Update Progress"}),x.jsx("button",{className:"bg-white border-2 border-dwello-indigo/10 text-dwello-indigo px-8 py-4 rounded-2xl font-black text-sm hover:bg-dwello-parchment transition-colors",children:"Export Blueprint"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[x.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] overflow-hidden shadow-sm border border-dwello-lilac/20",children:[x.jsxs("div",{className:"flex bg-dwello-parchment/50 p-2",children:[x.jsx("button",{onClick:()=>l("3d"),className:`flex-1 py-4 font-black uppercase tracking-widest text-xs rounded-2xl transition-all ${o==="3d"?"bg-dwello-indigo text-white shadow-lg":"text-dwello-lilac hover:text-dwello-indigo"}`,children:"Structural 3D Viewer"}),x.jsx("button",{onClick:()=>l("planning"),className:`flex-1 py-4 font-black uppercase tracking-widest text-xs rounded-2xl transition-all ${o==="planning"?"bg-dwello-indigo text-white shadow-lg":"text-dwello-lilac hover:text-dwello-indigo"}`,children:"AI Resource Planning"})]}),x.jsx("div",{className:"p-8",children:o==="3d"?x.jsx("div",{className:"h-[500px]",children:x.jsx(d6,{progress:e.completionPercentage||e.currentFloor/e.expectedFloors*100,floors:e.expectedFloors})}):x.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"p-6 bg-dwello-parchment/30 rounded-3xl border border-dwello-lilac/10",children:[x.jsx("h3",{className:"text-sm font-black uppercase text-dwello-indigo mb-4 tracking-widest",children:"Budget vs Actual"}),c&&x.jsx("div",{className:"h-64",children:x.jsx(wm,{width:"100%",height:"100%",children:x.jsxs(Z_,{data:[{name:"Budget",amount:c.budgetUsage.allocated},{name:"Used",amount:c.budgetUsage.used}],children:[x.jsx(Jm,{strokeDasharray:"3 3",opacity:.3}),x.jsx(ig,{dataKey:"name",fontSize:10,fontWeight:800}),x.jsx(rg,{fontSize:10,fontWeight:800}),x.jsx(Xm,{}),x.jsx(od,{dataKey:"amount",fill:"#4a4e69",radius:[8,8,0,0],barSize:40})]})})})]}),x.jsxs("div",{className:"p-6 bg-dwello-parchment/30 rounded-3xl border border-dwello-lilac/10",children:[x.jsx("h3",{className:"text-sm font-black uppercase text-dwello-indigo mb-4 tracking-widest",children:"Timeline Progress"}),c&&x.jsx("div",{className:"h-64",children:x.jsx(wm,{width:"100%",height:"100%",children:x.jsxs(Z_,{layout:"vertical",data:[{name:"Planned",value:c.timeProgress.planned},{name:"Actual",value:c.timeProgress.actual}],children:[x.jsx(Jm,{strokeDasharray:"3 3",opacity:.3}),x.jsx(ig,{type:"number",hide:!0}),x.jsx(rg,{dataKey:"name",type:"category",fontSize:10,fontWeight:800,width:60}),x.jsx(Xm,{}),x.jsx(od,{dataKey:"value",fill:"#22223b",radius:[0,8,8,0],barSize:20})]})})})]})]}),x.jsxs("div",{className:"p-8 bg-dwello-indigo rounded-[32px] text-dwello-parchment",children:[x.jsx("h4",{className:"text-lg font-black text-dwello-silk mb-2",children:"Planning Recommendation"}),x.jsx("p",{className:"text-sm opacity-80 leading-relaxed",children:"Predictive models suggest shifting electrical rough-ins for Level 3 by 48 hours to avoid congestion with the masonry team. This adjustment maintains current budget parameters while reducing site friction."})]})]})})]}),x.jsxs("section",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-black text-dwello-indigo",children:"Project Gallery"}),x.jsxs("label",{className:"cursor-pointer bg-dwello-parchment text-dwello-indigo px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-dwello-lilac/20 transition-all",children:["Add Viewport",x.jsx("input",{type:"file",className:"hidden",onChange:async j=>{var Q;const W=(Q=j.target.files)==null?void 0:Q[0];if(!W)return;const $=new FormData;$.append("image",W);try{const B=await yt.post("/upload",$);await yt.put(`/projects/${t}`,{images:[...e.images||[],B.data.url]}),R()}catch(B){console.error(B)}}})]})]}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(e.images||[]).map((j,W)=>x.jsxs("div",{className:"aspect-square rounded-3xl overflow-hidden border border-dwello-lilac/10 group relative",children:[x.jsx("img",{src:`http://localhost:5000${j}`,className:"w-full h-full object-cover",alt:"Project view"}),x.jsx("div",{className:"absolute inset-0 bg-dwello-indigo/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:x.jsx("button",{className:"text-white font-black text-[10px] uppercase tracking-tighter",children:"Expand View"})})]},W)),(!e.images||e.images.length===0)&&x.jsx("div",{className:"aspect-square rounded-3xl bg-dwello-parchment/30 border-2 border-dashed border-dwello-lilac/20 flex items-center justify-center text-dwello-lilac font-bold text-center p-4",children:"No construction captures yet."})]})]}),x.jsxs("section",{className:"bg-dwello-indigo p-8 rounded-[40px] text-white overflow-hidden relative",children:[x.jsx("h2",{className:"text-2xl font-black mb-8 italic",children:"Transformation: Before & After"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 h-80",children:[x.jsxs("div",{className:"relative rounded-[32px] overflow-hidden border border-white/10 group",children:[x.jsx("img",{src:e.beforeImageUrl?`http://localhost:5000${e.beforeImageUrl}`:"https://images.unsplash.com/photo-1541913057-2599eecbceef?q=80&w=800",className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700",alt:"Before"}),x.jsx("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur-md px-4 py-1 rounded-full text-[10px] font-black uppercase",children:"Phase 0: Ground Zero"}),x.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:async j=>{var Q;const W=(Q=j.target.files)==null?void 0:Q[0];if(!W)return;const $=new FormData;$.append("image",W);try{const B=await yt.post("/upload",$);await yt.put(`/projects/${t}`,{beforeImageUrl:B.data.url}),R()}catch(B){console.error(B)}}})]}),x.jsxs("div",{className:"relative rounded-[32px] overflow-hidden border border-white/10 group",children:[x.jsx("img",{src:e.afterImageUrl?`http://localhost:5000${e.afterImageUrl}`:"https://images.unsplash.com/photo-1503387762-592dee58c460?q=80&w=800",className:"w-full h-full object-cover",alt:"After"}),x.jsx("div",{className:"absolute bottom-4 right-4 bg-dwello-silk text-dwello-indigo px-4 py-1 rounded-full text-[10px] font-black uppercase",children:"Current Manifestation"}),x.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:async j=>{var Q;const W=(Q=j.target.files)==null?void 0:Q[0];if(!W)return;const $=new FormData;$.append("image",W);try{const B=await yt.post("/upload",$);await yt.put(`/projects/${t}`,{afterImageUrl:B.data.url}),R()}catch(B){console.error(B)}}})]})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-2xl font-black text-dwello-indigo mb-6",children:"Workflow Milestones"}),x.jsx("div",{className:"space-y-4",children:e.timelineData&&e.timelineData.length>0?e.timelineData.map((j,W)=>x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-dwello-lilac/10 flex items-center gap-4",children:[x.jsx("div",{className:"w-10 h-10 rounded-full bg-dwello-indigo text-white flex items-center justify-center font-bold text-xs",children:W+1}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-dwello-indigo",children:j.status||"Update"}),x.jsxs("p",{className:"text-xs text-dwello-lilac",children:[new Date(j.date).toLocaleDateString()," - ",j.comment]})]})]},W)):x.jsx("div",{className:"p-12 text-center bg-white rounded-3xl border-2 border-dashed border-dwello-lilac/30 text-dwello-lilac font-bold",children:"No specific timeline updates yet."})})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-2xl font-black text-dwello-indigo mb-6",children:"Open Comments & Reviews"}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[32px] border border-dwello-lilac/10 shadow-sm space-y-8",children:[x.jsxs("form",{onSubmit:F,className:"space-y-4 pb-8 border-b border-dwello-parchment",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h3",{className:"text-sm font-black uppercase text-dwello-indigo tracking-widest",children:"Post a Review"}),x.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(j=>x.jsx("button",{type:"button",onClick:()=>A({..._,rating:j}),className:`w-6 h-6 ${_.rating>=j?"text-yellow-500":"text-gray-300"}`,children:""},j))})]}),x.jsx("textarea",{required:!0,value:_.text,onChange:j=>A({..._,text:j.target.value}),placeholder:"Share your thoughts on the construction progress...",className:"w-full p-4 rounded-2xl bg-dwello-parchment/30 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none min-h-[100px] font-medium"}),x.jsx("button",{type:"submit",disabled:m,className:"bg-dwello-indigo text-white px-6 py-3 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-dwello-grape transition-all disabled:opacity-50",children:m?"Posting...":"Post Comment"})]}),x.jsx("div",{className:"space-y-6 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:d.length>0?d.map((j,W)=>x.jsxs("div",{className:"space-y-2 pb-6 border-b border-dwello-parchment/50 last:border-0 last:pb-0",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-dwello-grape text-white flex items-center justify-center font-bold text-[10px]",children:j.name[0]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-dwello-indigo text-xs",children:j.name}),x.jsx("p",{className:"text-[10px] text-dwello-lilac font-medium",children:new Date(j.createdAt).toLocaleDateString()})]})]}),x.jsxs("div",{className:"text-yellow-500 text-xs",children:["".repeat(j.rating),"".repeat(5-j.rating)]})]}),x.jsx("p",{className:"text-sm text-dwello-grape font-medium leading-relaxed",children:j.text})]},W)):x.jsx("p",{className:"text-center py-10 text-dwello-lilac font-bold",children:"No reviews yet. Be the first to comment!"})})]})]})]}),x.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[32px] border border-dwello-lilac/20 shadow-sm",children:[x.jsx("h2",{className:"text-xl font-black text-dwello-indigo mb-6",children:"Structural Specs"}),x.jsx("dl",{className:"space-y-5",children:[{label:"Client",value:e.clientName},{label:"Verticality",value:`${e.expectedFloors} Levels`},{label:"Current Progress",value:`Floor ${e.currentFloor}`},{label:"Structural Stage",value:e.stage},{label:"Capitalization",value:`$${e.budget.toLocaleString()}`},{label:"Labor Force",value:`${P.length} Workers`},{label:"Material Assets",value:`${D.length} Entries`}].map((j,W)=>x.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-dwello-parchment last:border-0 last:pb-0",children:[x.jsx("dt",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:j.label}),x.jsx("dd",{className:"font-black text-dwello-indigo dark:text-dwello-silk",children:j.value})]},W))})]}),x.jsxs("div",{className:"bg-dwello-silk/10 p-8 rounded-[32px] border-2 border-dwello-silk/30 relative overflow-hidden group",children:[x.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:x.jsx("svg",{className:"w-20 h-20",fill:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{d:"M13 14h-2v-4h2m0 8h-2v-2h2M1 21h22L12 2 1 21z"})})}),x.jsx("h2",{className:"text-xl font-black text-dwello-indigo mb-4 flex items-center gap-2",children:"Strategic Risks"}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{className:"p-4 bg-white/60 rounded-2xl text-xs font-bold border border-dwello-silk/40 leading-relaxed",children:"Logistics: Cement supply shortage detected in regional hubs. Contingency suppliers mapped."}),x.jsx("div",{className:"p-4 bg-white/60 rounded-2xl text-xs font-bold border border-dwello-silk/40 leading-relaxed",children:"Weather: Extreme precipitation likely in Q4. Re-evaluating curing times for exterior shells."})]}),x.jsx("button",{className:"mt-6 w-full bg-dwello-indigo text-white font-black py-4 rounded-2xl text-xs uppercase tracking-widest hover:bg-dwello-grape transition-colors",children:"Execute Mitigation"})]})]})]}),y&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-md p-4",children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[40px] p-12 w-full max-w-xl shadow-2xl animate-fadeIn",children:[x.jsx("h2",{className:"text-3xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tighter mb-8",children:"Deploy Progress Update"}),x.jsxs("form",{onSubmit:U,className:"grid grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Execution Level (Floor)"}),x.jsx("input",{type:"number",value:w.currentFloor,onChange:j=>v({...w,currentFloor:parseInt(j.target.value)}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none focus:border-dwello-indigo"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Percentage (%)"}),x.jsx("input",{type:"number",value:w.completionPercentage,onChange:j=>v({...w,completionPercentage:parseInt(j.target.value)}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none focus:border-dwello-indigo"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Capital Deployed ($)"}),x.jsx("input",{type:"number",value:w.budgetUsed,onChange:j=>v({...w,budgetUsed:parseInt(j.target.value)}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none focus:border-dwello-indigo"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Structural Stage"}),x.jsx("select",{value:w.stage,onChange:j=>v({...w,stage:j.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none",children:["Foundation","Framing","Electrical","Interior","Completed"].map(j=>x.jsx("option",{children:j},j))})]}),x.jsxs("div",{className:"col-span-2 pt-6 flex gap-4",children:[x.jsx("button",{type:"button",onClick:()=>S(!1),className:"flex-1 py-4 font-bold text-dwello-indigo hover:bg-dwello-parchment rounded-2xl transition-colors",children:"Abort"}),x.jsx("button",{type:"submit",disabled:T,className:"flex-1 py-4 bg-dwello-indigo text-white font-black rounded-2xl shadow-xl hover:bg-dwello-grape transition-all italic",children:T?"Transmitting...":"Commit Changes "})]})]})]})})]}):x.jsx("div",{className:"p-20 text-center font-black",children:"Project data not found."})},Cne=()=>{const[t,e]=M.useState([]),[n,i]=M.useState(!0),[r,o]=M.useState(!1),[l,c]=M.useState([]),[f,d]=M.useState({caption:"",project:"",location:"",tags:"",imageUrl:""}),[h,m]=M.useState(!1),[g,y]=M.useState(null),[S,w]=M.useState([]),[v,_]=M.useState("");M.useEffect(()=>{A(),T()},[]);const A=async()=>{try{const R=await yt.get("/posts");e(R.data.data)}catch(R){console.error("Failed to fetch posts",R)}finally{i(!1)}},T=async()=>{try{const R=await yt.get("/projects");c(R.data.data)}catch(R){console.error("Failed to fetch projects",R)}},C=async R=>{var j;if(!((j=R.target.files)!=null&&j[0]))return;m(!0);const U=R.target.files[0],F=new FormData;F.append("image",U);try{const W=await yt.post("/upload",F,{headers:{"Content-Type":"multipart/form-data"}});d({...f,imageUrl:W.data.url})}catch(W){console.error("Upload failed",W)}finally{m(!1)}},P=async R=>{R.preventDefault();try{const U={...f,tags:f.tags.split(",").map(F=>F.trim()),project:f.project||void 0};await yt.post("/posts",U),o(!1),d({caption:"",project:"",location:"",tags:"",imageUrl:""}),A()}catch(U){console.error("Failed to create post",U)}},O=async R=>{try{const U=await yt.post(`/posts/${R}/like`);e(t.map(F=>F._id===R?{...F,likesCount:U.data.data.likesCount}:F))}catch(U){console.error("Failed to like post",U)}},D=async R=>{if(g===R){y(null);return}y(R);try{const U=await yt.get(`/posts/${R}/comment`);w(U.data.data)}catch(U){console.error("Failed to fetch comments",U)}},z=async R=>{if(v.trim())try{const U=await yt.post(`/posts/${R}/comment`,{content:v});w([U.data.data,...S]),_(""),e(t.map(F=>F._id===R?{...F,commentsCount:F.commentsCount+1}:F))}catch(U){console.error("Failed to post comment",U)}};return x.jsxs("div",{className:"max-w-3xl mx-auto space-y-12 animate-fadeIn pb-24",children:[x.jsxs("header",{className:"flex justify-between items-end",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-5xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tighter italic",children:"Showcase Hub"}),x.jsx("p",{className:"text-dwello-lilac font-medium",children:"Capture and share the architectural journey."})]}),x.jsxs("button",{onClick:()=>o(!0),className:"bg-dwello-indigo text-white px-8 py-4 rounded-3xl font-black shadow-2xl shadow-dwello-indigo/20 hover:scale-110 transition-all flex items-center gap-3",children:[x.jsx(an.Camera,{className:"w-6 h-6"}),"Snap Post"]})]}),x.jsx("div",{className:"space-y-16",children:t.map(R=>{var U,F,j;return x.jsxs("article",{className:"bg-white dark:bg-slate-800 rounded-[40px] overflow-hidden shadow-2xl border border-dwello-lilac/10 group",children:[x.jsxs("div",{className:"p-8 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-14 h-14 rounded-2xl bg-dwello-indigo text-dwello-silk flex items-center justify-center font-black text-xl shadow-lg",children:((U=R.userName)==null?void 0:U[0])||"U"}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-black text-xl text-dwello-indigo dark:text-dwello-silk",children:R.userName}),x.jsx("p",{className:"text-[10px] text-dwello-lilac font-black uppercase tracking-widest",children:((F=R.project)==null?void 0:F.name)||R.location||"Site View"})]})]}),x.jsx("span",{className:"text-[10px] font-black text-dwello-lilac/50 uppercase tracking-widest",children:new Date(R.createdAt).toLocaleDateString()})]}),x.jsxs("div",{className:"relative aspect-[4/3] bg-dwello-parchment overflow-hidden",children:[x.jsx("img",{src:R.imageUrl.startsWith("/")?`http://localhost:5000${R.imageUrl}`:R.imageUrl,alt:"Construction",className:"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105"}),R.project&&x.jsxs("div",{className:"absolute bottom-8 left-8 bg-white/90 backdrop-blur-md p-4 rounded-2xl shadow-xl flex items-center gap-4 border border-white",children:[x.jsx("p",{className:"text-[8px] font-black uppercase text-dwello-lilac tracking-widest leading-none",children:"Related Project"}),x.jsx("h4",{className:"font-black text-dwello-indigo",children:R.project.name})]})]}),x.jsxs("div",{className:"p-10",children:[x.jsxs("div",{className:"flex gap-8 mb-8",children:[x.jsxs("button",{onClick:()=>O(R._id),className:"flex items-center gap-3 group/like",children:[x.jsx("div",{className:"p-3 rounded-2xl bg-red-50 text-red-500 group-hover/like:bg-red-500 group-hover/like:text-white transition-all",children:x.jsx(an.Heart,{className:"w-6 h-6",fill:R.likesCount>0?"currentColor":"none"})}),x.jsx("span",{className:"font-black text-dwello-indigo",children:R.likesCount})]}),x.jsxs("button",{onClick:()=>D(R._id),className:"flex items-center gap-3 group/msg",children:[x.jsx("div",{className:"p-3 rounded-2xl bg-dwello-parchment text-dwello-indigo group-hover/msg:bg-dwello-indigo group-hover/msg:text-white transition-all",children:x.jsx(an.Chat,{className:"w-6 h-6"})}),x.jsx("span",{className:"font-black text-dwello-indigo",children:R.commentsCount})]}),x.jsx("button",{className:"ml-auto p-3 rounded-2xl text-dwello-lilac hover:bg-dwello-parchment transition-all",children:x.jsx(an.Share,{className:"w-6 h-6"})})]}),x.jsxs("p",{className:"text-lg leading-relaxed text-dwello-grape font-medium mb-8",children:[x.jsxs("span",{className:"font-black mr-3 text-dwello-indigo",children:["@",R.userName.toLowerCase().replace(" ","")]}),R.caption]}),x.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:(j=R.tags)==null?void 0:j.map((W,$)=>x.jsxs("span",{className:"text-[10px] font-black uppercase text-dwello-lilac tracking-widest bg-dwello-parchment/50 px-3 py-1 rounded-full border border-dwello-lilac/10",children:["#",W]},$))}),g===R._id&&x.jsxs("div",{className:"pt-8 border-t border-dwello-parchment/50 animate-fadeIn space-y-6",children:[x.jsxs("div",{className:"flex gap-4",children:[x.jsx("input",{value:v,onChange:W=>_(W.target.value),placeholder:"Write a technical feedback...",className:"flex-1 px-6 py-3 rounded-xl bg-dwello-parchment/50 border border-dwello-lilac/10 focus:border-dwello-indigo outline-none font-medium"}),x.jsx("button",{onClick:()=>z(R._id),className:"bg-dwello-indigo text-white px-6 py-3 rounded-xl font-black text-xs uppercase tracking-widest",children:"Post"})]}),x.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-4",children:S.map((W,$)=>x.jsxs("div",{className:"flex gap-4 p-4 rounded-2xl bg-dwello-parchment/30",children:[x.jsx("div",{className:"w-8 h-8 rounded-lg bg-dwello-grape text-white flex items-center justify-center font-bold text-xs",children:W.userName[0]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-black text-dwello-indigo",children:W.userName}),x.jsx("p",{className:"text-sm font-medium text-dwello-grape",children:W.content})]})]},$))})]})]})]},R._id)})}),r&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4",children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[48px] p-12 w-full max-w-2xl shadow-2xl border border-dwello-lilac/20 animate-fadeIn relative",children:[x.jsx("button",{onClick:()=>o(!1),className:"absolute top-8 right-12 text-dwello-lilac hover:text-dwello-indigo text-3xl font-black",children:""}),x.jsx("h2",{className:"text-4xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tighter mb-10",children:"Broadcast Deployment"}),x.jsxs("form",{onSubmit:P,className:"space-y-8",children:[x.jsxs("div",{className:"bg-dwello-parchment/50 p-10 rounded-[32px] border-2 border-dashed border-dwello-lilac/30 text-center relative overflow-hidden group",children:[f.imageUrl?x.jsx("img",{src:f.imageUrl.startsWith("/")?`http://localhost:5000${f.imageUrl}`:f.imageUrl,className:"absolute inset-0 w-full h-full object-cover"}):x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{className:"w-16 h-16 bg-dwello-indigo text-white rounded-2xl mx-auto flex items-center justify-center shadow-xl group-hover:scale-110 transition-transform",children:x.jsx(an.Camera,{className:"w-8 h-8"})}),x.jsx("p",{className:"text-sm font-black text-dwello-indigo uppercase tracking-widest",children:"Capture Visual Asset"})]}),x.jsx("input",{type:"file",onChange:C,className:"absolute inset-0 opacity-0 cursor-pointer"}),h&&x.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur flex items-center justify-center font-black",children:"Processing Visual..."})]}),x.jsx("textarea",{required:!0,value:f.caption,onChange:R=>d({...f,caption:R.target.value}),placeholder:"Describe the engineering milestone...",className:"w-full p-6 rounded-3xl bg-dwello-parchment/50 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-medium text-lg min-h-[120px]"}),x.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[x.jsxs("select",{value:f.project,onChange:R=>d({...f,project:R.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none",children:[x.jsx("option",{value:"",children:"Link Project (Opt)"}),l.map(R=>x.jsx("option",{value:R._id,children:R.name},R._id))]}),x.jsx("input",{type:"text",value:f.location,onChange:R=>d({...f,location:R.target.value}),placeholder:"Location (e.g. Zone B)",className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none"})]}),x.jsx("input",{type:"text",value:f.tags,onChange:R=>d({...f,tags:R.target.value}),placeholder:"Tagging: foundation, masonry, steel (comma separated)",className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none"}),x.jsx("button",{type:"submit",disabled:!f.imageUrl,className:"w-full py-5 rounded-3xl bg-dwello-indigo text-white font-black text-lg shadow-2xl hover:bg-dwello-grape transition-all disabled:opacity-30 italic tracking-widest uppercase",children:"Deploy Showcase Broadcast "})]})]})})]})},Rne=()=>{const[t,e]=M.useState([]),[n,i]=M.useState([]),[r,o]=M.useState(!0),[l,c]=M.useState(!1),[f,d]=M.useState(null),[h,m]=M.useState({materialName:"",quantity:0,unit:"kg",supplierName:"",deliveryDate:"",deliveryStatus:"Pending",cost:0,assignedProject:""});M.useEffect(()=>{g()},[]);const g=async()=>{try{const[v,_]=await Promise.all([yt.get("/logistics"),yt.get("/projects")]);e(v.data.data),i(_.data.data)}catch(v){console.error("Failed to fetch data",v)}finally{o(!1)}},y=async v=>{v.preventDefault();try{f?await yt.put(`/logistics/${f._id}`,h):await yt.post("/logistics",h),c(!1),d(null),g(),m({materialName:"",quantity:0,unit:"kg",supplierName:"",deliveryDate:"",deliveryStatus:"Pending",cost:0,assignedProject:""})}catch(_){console.error("Failed to save logistics entry",_)}},S=v=>{var _;d(v),m({materialName:v.materialName,quantity:v.quantity,unit:v.unit,supplierName:v.supplierName,deliveryDate:new Date(v.deliveryDate).toISOString().split("T")[0],deliveryStatus:v.deliveryStatus,cost:v.cost,assignedProject:((_=v.assignedProject)==null?void 0:_._id)||""}),c(!0)},w=async v=>{if(window.confirm("Are you sure you want to remove this entry?"))try{await yt.delete(`/logistics/${v}`),g()}catch(_){console.error("Failed to delete entry",_)}};return x.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[x.jsxs("header",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-4xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tighter",children:"Logistics Management"}),x.jsx("p",{className:"text-dwello-lilac font-medium",children:"Supply chain and material procurement tracking."})]}),x.jsxs("button",{onClick:()=>{d(null),c(!0)},className:"bg-dwello-indigo text-white px-8 py-4 rounded-2xl font-bold shadow-xl shadow-dwello-indigo/20 hover:scale-105 transition-all flex items-center gap-2",children:[x.jsx(an.Add,{className:"w-5 h-5"}),"Dispatch Material Entry"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"bg-dwello-indigo p-6 rounded-[32px] text-white",children:[x.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-2",children:"Total Logistics Spend"}),x.jsxs("p",{className:"text-3xl font-black",children:["$",t.reduce((v,_)=>v+_.cost,0).toLocaleString()]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-dwello-lilac/20",children:[x.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac mb-2",children:"Pending Deliveries"}),x.jsx("p",{className:"text-3xl font-black text-dwello-indigo",children:t.filter(v=>v.deliveryStatus==="Pending").length})]}),x.jsxs("div",{className:"bg-dwello-silk p-6 rounded-[32px] text-dwello-indigo",children:[x.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-2",children:"Reliability Rate"}),x.jsxs("p",{className:"text-3xl font-black",children:[t.length?Math.round(t.filter(v=>v.deliveryStatus==="Delivered").length/t.length*100):0,"%"]})]})]}),x.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] overflow-hidden border border-dwello-lilac/10 shadow-sm",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-dwello-parchment/50 border-b border-dwello-lilac/10",children:x.jsxs("tr",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:[x.jsx("th",{className:"p-6",children:"Material"}),x.jsx("th",{className:"p-6",children:"Quantity"}),x.jsx("th",{className:"p-6",children:"Project"}),x.jsx("th",{className:"p-6",children:"Supplier"}),x.jsx("th",{className:"p-6",children:"Date"}),x.jsx("th",{className:"p-6",children:"Status"}),x.jsx("th",{className:"p-6",children:"Cost"}),x.jsx("th",{className:"p-6 text-right",children:"Control"})]})}),x.jsxs("tbody",{className:"divide-y divide-dwello-lilac/10",children:[t.map(v=>{var _;return x.jsxs("tr",{className:"hover:bg-dwello-parchment/30 transition-colors",children:[x.jsx("td",{className:"p-6",children:x.jsx("p",{className:"font-black text-dwello-indigo dark:text-dwello-parchment",children:v.materialName})}),x.jsxs("td",{className:"p-6 font-bold text-dwello-lilac",children:[v.quantity," ",v.unit]}),x.jsx("td",{className:"p-6",children:x.jsx("span",{className:"px-3 py-1 rounded-full bg-dwello-silk/20 text-dwello-indigo text-[10px] font-bold",children:((_=v.assignedProject)==null?void 0:_.name)||"Global"})}),x.jsx("td",{className:"p-6 font-medium text-dwello-grape",children:v.supplierName}),x.jsx("td",{className:"p-6 text-xs font-bold text-dwello-lilac",children:new Date(v.deliveryDate).toLocaleDateString()}),x.jsx("td",{className:"p-6",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${v.deliveryStatus==="Delivered"?"bg-green-100 text-green-700":v.deliveryStatus==="Delayed"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:v.deliveryStatus})}),x.jsxs("td",{className:"p-6 font-black text-dwello-indigo",children:["$",v.cost.toLocaleString()]}),x.jsxs("td",{className:"p-6 text-right space-x-2",children:[x.jsx("button",{onClick:()=>S(v),className:"p-2 hover:bg-dwello-indigo hover:text-white rounded-lg transition-all",children:x.jsx(an.Settings,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>w(v._id),className:"p-2 hover:bg-red-500 hover:text-white rounded-lg transition-all",children:x.jsx(an.Delete,{className:"w-4 h-4"})})]})]},v._id)}),t.length===0&&!r&&x.jsx("tr",{children:x.jsx("td",{colSpan:8,className:"p-20 text-center font-bold text-dwello-lilac",children:"No logistics entries found."})})]})]})}),l&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[40px] p-10 w-full max-w-2xl shadow-2xl border border-dwello-lilac/20 animate-fadeIn",children:[x.jsxs("header",{className:"mb-8 flex justify-between items-center",children:[x.jsx("h2",{className:"text-3xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tighter",children:f?"Refine Entry":"Logistics Deployment"}),x.jsx("button",{onClick:()=>c(!1),className:"text-dwello-lilac hover:text-dwello-indigo transition-colors",children:""})]}),x.jsxs("form",{onSubmit:y,className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Material Name"}),x.jsx("input",{required:!0,type:"text",value:h.materialName,onChange:v=>m({...h,materialName:v.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none focus:border-dwello-indigo"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Quantity"}),x.jsx("input",{required:!0,type:"number",value:h.quantity,onChange:v=>m({...h,quantity:parseInt(v.target.value)}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none focus:border-dwello-indigo"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Unit"}),x.jsxs("select",{value:h.unit,onChange:v=>m({...h,unit:v.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none focus:border-dwello-indigo",children:[x.jsx("option",{children:"kg"}),x.jsx("option",{children:"tons"}),x.jsx("option",{children:"pieces"}),x.jsx("option",{children:"m3"})]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Supplier"}),x.jsx("input",{required:!0,type:"text",value:h.supplierName,onChange:v=>m({...h,supplierName:v.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none focus:border-dwello-indigo"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Assigned Project"}),x.jsxs("select",{required:!0,value:h.assignedProject,onChange:v=>m({...h,assignedProject:v.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none focus:border-dwello-indigo",children:[x.jsx("option",{value:"",children:"Select Project..."}),n.map(v=>x.jsx("option",{value:v._id,children:v.name},v._id))]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Delivery Date"}),x.jsx("input",{required:!0,type:"date",value:h.deliveryDate,onChange:v=>m({...h,deliveryDate:v.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none focus:border-dwello-indigo"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Cost ($)"}),x.jsx("input",{required:!0,type:"number",value:h.cost,onChange:v=>m({...h,cost:parseInt(v.target.value)}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none focus:border-dwello-indigo"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Shipment Status"}),x.jsxs("select",{value:h.deliveryStatus,onChange:v=>m({...h,deliveryStatus:v.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border border-dwello-lilac/10 font-bold outline-none focus:border-dwello-indigo",children:[x.jsx("option",{children:"Pending"}),x.jsx("option",{children:"Delivered"}),x.jsx("option",{children:"Delayed"})]})]})]}),x.jsxs("div",{className:"pt-6 flex gap-4",children:[x.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 py-4 rounded-2xl font-bold bg-dwello-parchment text-dwello-indigo hover:bg-dwello-lilac/10",children:"Discard"}),x.jsx("button",{type:"submit",className:"flex-1 py-4 rounded-2xl font-black bg-dwello-indigo text-white shadow-xl shadow-dwello-indigo/20 hover:bg-dwello-grape transition-all italic",children:"Execute Entry "})]})]})]})})]})},Nne=()=>{const[t,e]=M.useState([]),[n,i]=M.useState(!1),[r,o]=M.useState({title:"",description:"",dueDate:new Date().toISOString().split("T")[0],priority:"Medium",status:"Pending",projectId:""}),[l,c]=M.useState([]);M.useEffect(()=>{f(),d()},[]);const f=async()=>{try{const A=await yt.get("/tasks");e(A.data.data)}catch(A){console.error("Failed to fetch tasks",A)}},d=async()=>{try{const A=await yt.get("/projects");c(A.data.data)}catch(A){console.error("Failed to fetch projects",A)}},h=async A=>{A.preventDefault();try{await yt.post("/tasks",r),i(!1),f(),o({title:"",description:"",dueDate:new Date().toISOString().split("T")[0],priority:"Medium",status:"Pending",projectId:""})}catch(T){console.error("Failed to add task",T)}},m=new Date,g=m.getMonth(),y=m.getFullYear(),S=new Date(y,g+1,0).getDate(),w=new Date(y,g,1).getDay(),v=Array.from({length:42},(A,T)=>{const C=T-w+1;return C>0&&C<=S?C:null}),_=A=>{if(!A)return[];const T=new Date(y,g,A).toISOString().split("T")[0];return t.filter(C=>C.dueDate.startsWith(T))};return x.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[x.jsxs("header",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-dwello-indigo dark:text-dwello-silk",children:"Construction Schedule"}),x.jsx("p",{className:"opacity-60 font-medium text-dwello-lilac",children:m.toLocaleDateString("default",{month:"long",year:"numeric"})})]}),x.jsxs("button",{onClick:()=>i(!0),className:"bg-dwello-indigo text-white px-6 py-2 rounded-2xl font-bold shadow-lg hover:bg-dwello-grape transition-colors flex items-center gap-2",children:[x.jsx(an.Add,{className:"w-5 h-5"}),x.jsx("span",{children:"New Task"})]})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl overflow-hidden shadow-xl border border-dwello-lilac/20",children:[x.jsx("div",{className:"grid grid-cols-7 border-b border-dwello-lilac/10 bg-dwello-indigo/5",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(A=>x.jsx("div",{className:"py-4 text-center text-xs font-black uppercase text-dwello-indigo dark:text-dwello-silk tracking-widest",children:A},A))}),x.jsx("div",{className:"grid grid-cols-7 min-h-[600px] bg-dwello-parchment/10",children:v.map((A,T)=>{const C=A?_(A):[],P=A===m.getDate();return x.jsx("div",{className:`border-r border-b border-dwello-lilac/10 p-2 min-h-[120px] relative transition-colors ${A?"hover:bg-dwello-lilac/5":"bg-gray-50/50 opacity-30 dark:bg-slate-900/50"}`,children:A&&x.jsxs(x.Fragment,{children:[x.jsx("span",{className:`inline-block w-8 h-8 leading-8 text-center rounded-full text-sm font-bold ${P?"bg-dwello-indigo text-white shadow-lg":"text-dwello-grape dark:text-dwello-lilac"}`,children:A}),x.jsx("div",{className:"mt-2 space-y-1",children:C.map(O=>x.jsx("div",{className:`text-[10px] p-2 rounded-lg border-l-4 font-bold truncate cursor-pointer hover:opacity-80 transition-opacity ${O.priority==="High"?"bg-red-50 border-red-500 text-red-700":O.priority==="Medium"?"bg-yellow-50 border-yellow-500 text-yellow-700":"bg-blue-50 border-blue-500 text-blue-700"}`,children:O.title},O._id))})]})},T)})})]}),n&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] p-8 w-full max-w-md shadow-2xl border border-dwello-lilac/20 animate-fadeIn",children:[x.jsx("h2",{className:"text-2xl font-black text-dwello-indigo dark:text-dwello-silk mb-6",children:"Create New Task"}),x.jsxs("form",{onSubmit:h,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"Task Title"}),x.jsx("input",{required:!0,type:"text",value:r.title,onChange:A=>o({...r,title:A.target.value}),className:"w-full px-4 py-3 rounded-xl bg-dwello-parchment/30 dark:bg-slate-700 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-bold"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"Description"}),x.jsx("textarea",{value:r.description,onChange:A=>o({...r,description:A.target.value}),className:"w-full px-4 py-3 rounded-xl bg-dwello-parchment/30 dark:bg-slate-700 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-bold min-h-[80px]"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"Due Date"}),x.jsx("input",{required:!0,type:"date",value:r.dueDate,onChange:A=>o({...r,dueDate:A.target.value}),className:"w-full px-4 py-3 rounded-xl bg-dwello-parchment/30 dark:bg-slate-700 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-bold"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"Priority"}),x.jsxs("select",{value:r.priority,onChange:A=>o({...r,priority:A.target.value}),className:"w-full px-4 py-3 rounded-xl bg-dwello-parchment/30 dark:bg-slate-700 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-bold",children:[x.jsx("option",{children:"Low"}),x.jsx("option",{children:"Medium"}),x.jsx("option",{children:"High"})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"Assign Project"}),x.jsxs("select",{required:!0,value:r.projectId,onChange:A=>o({...r,projectId:A.target.value}),className:"w-full px-4 py-3 rounded-xl bg-dwello-parchment/30 dark:bg-slate-700 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-bold",children:[x.jsx("option",{value:"",children:"Select Project..."}),l.map(A=>x.jsx("option",{value:A._id,children:A.name},A._id))]})]}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 py-3 rounded-xl font-bold bg-dwello-parchment text-dwello-indigo hover:bg-dwello-lilac/20 transition-colors",children:"Cancel"}),x.jsx("button",{type:"submit",className:"flex-1 py-3 rounded-xl font-bold bg-dwello-indigo text-white hover:bg-dwello-grape transition-colors shadow-lg shadow-dwello-indigo/20",children:"Create Task"})]})]})]})})]})},One=()=>{const[t,e]=M.useState(!1),n=i=>{i.preventDefault(),e(!0),setTimeout(()=>e(!1),3e3)};return x.jsx("div",{className:"max-w-4xl mx-auto animate-fadeIn",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 bg-white dark:bg-slate-800 rounded-3xl p-10 shadow-2xl border border-dwello-teal/10",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsxs("h1",{className:"text-4xl font-black text-dwello-dark-teal dark:text-dwello-yellow leading-tight",children:["We'd love to ",x.jsx("br",{}),x.jsx("span",{className:"text-dwello-teal",children:"hear from you"})]}),x.jsx("p",{className:"opacity-70 font-medium",children:"Have suggestions for Dwello? Found a bug? Or just want to say hi? Our team is always listening to the builders community."}),x.jsxs("div",{className:"space-y-4 pt-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-10 h-10 rounded-xl bg-dwello-light flex items-center justify-center text-dwello-teal",children:x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),x.jsx("span",{className:"font-bold",children:"hello@dwello.build"})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-10 h-10 rounded-xl bg-dwello-light flex items-center justify-center text-dwello-teal",children:x.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),x.jsx("span",{className:"font-bold",children:"San Francisco, CA"})]})]})]}),x.jsxs("form",{onSubmit:n,className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-teal",children:"Your Name"}),x.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 rounded-xl border-2 border-dwello-teal/10 focus:border-dwello-teal outline-none transition-all dark:bg-slate-700",placeholder:"Alex Builder"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-teal",children:"Email"}),x.jsx("input",{required:!0,type:"email",className:"w-full px-4 py-3 rounded-xl border-2 border-dwello-teal/10 focus:border-dwello-teal outline-none transition-all dark:bg-slate-700",placeholder:"alex@dwello.build"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-teal",children:"Message Type"}),x.jsxs("select",{className:"w-full px-4 py-3 rounded-xl border-2 border-dwello-teal/10 focus:border-dwello-teal outline-none transition-all dark:bg-slate-700",children:[x.jsx("option",{children:"General Feedback"}),x.jsx("option",{children:"Bug Report"}),x.jsx("option",{children:"Feature Request"}),x.jsx("option",{children:"Partnership Inquiry"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-teal",children:"Message"}),x.jsx("textarea",{required:!0,rows:4,className:"w-full px-4 py-3 rounded-xl border-2 border-dwello-teal/10 focus:border-dwello-teal outline-none transition-all dark:bg-slate-700",placeholder:"How can we help you?"})]}),x.jsx("button",{disabled:t,className:`w-full py-4 rounded-xl font-black text-lg shadow-xl transition-all ${t?"bg-green-500 text-white":"bg-dwello-teal text-white hover:bg-dwello-dark-teal"}`,children:t?"Message Sent! ":"Send Message"})]})]})})},Pne=({onLogin:t})=>{const[e,n]=M.useState("alex@dwello.build"),[i,r]=M.useState("Builder123!"),[o,l]=M.useState("Builder"),[c,f]=M.useState(!1),[d,h]=M.useState(""),m=uu(),g=async y=>{var S,w;y.preventDefault(),f(!0),h("");try{const v=await yt.post("/auth/login",{email:e,password:i}),{token:_,data:A}=v.data;localStorage.setItem("token",_||v.data.data.token),t(o,v.data.data),m("/dashboard")}catch(v){console.error(v),h(((w=(S=v.response)==null?void 0:S.data)==null?void 0:w.message)||"Authentication failed. Please check your credentials."),v.code==="ERR_NETWORK"&&(console.warn("Backend not responding, entering session in demo mode"),t(o),m("/dashboard"))}finally{f(!1)}};return x.jsxs("div",{className:"min-h-screen relative flex items-center justify-center px-6 overflow-hidden bg-dwello-indigo",children:[x.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center bg-no-repeat transition-all duration-1000 scale-105 saturate-[0.6] contrast-[0.85] brightness-[0.65] blur-[4px]",style:{backgroundImage:"url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')"}}),x.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-b from-dwello-indigo/40 via-transparent to-dwello-indigo/60"}),x.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(circle_at_center,_rgba(0,0,0,0.2)_0%,_transparent_70%)]"}),x.jsxs("div",{className:"max-w-md w-full z-10 bg-white/20 dark:bg-black/40 rounded-[32px] shadow-2xl shadow-black/5 overflow-hidden border border-white/20 animate-fadeIn",style:{backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)"},children:[x.jsxs("div",{className:"bg-dwello-indigo/80 p-10 text-center relative overflow-hidden backdrop-blur-md",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-dwello-silk to-dwello-indigo"}),x.jsxs(Ui,{to:"/",className:"text-4xl font-black tracking-tighter text-dwello-parchment",children:[x.jsx("span",{className:"text-dwello-silk",children:"D"}),"WELLO"]}),x.jsx("p",{className:"text-dwello-parchment/70 mt-2 font-medium",children:"Access your construction hub"})]}),d&&x.jsx("div",{className:"mx-10 mt-4 p-3 bg-red-50 border border-red-200 text-red-600 text-xs font-bold rounded-xl text-center",children:d}),x.jsxs("form",{onSubmit:g,className:"p-10 space-y-6",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"text-[10px] font-black uppercase text-dwello-indigo dark:text-dwello-silk tracking-widest block",children:["Identity ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",onClick:()=>l("Builder"),className:`flex-1 py-3 rounded-xl font-black text-xs uppercase tracking-widest transition-all border-2 ${o==="Builder"?"bg-dwello-indigo text-white border-dwello-indigo shadow-lg":"bg-white/40 dark:bg-black/20 text-dwello-indigo dark:text-white border-white/0 hover:bg-white/60 dark:hover:bg-black/40"}`,children:"Builder"}),x.jsx("button",{type:"button",onClick:()=>l("Client"),className:`flex-1 py-3 rounded-xl font-black text-xs uppercase tracking-widest transition-all border-2 ${o==="Client"?"bg-dwello-indigo text-white border-dwello-indigo shadow-lg":"bg-white/40 dark:bg-black/20 text-dwello-indigo dark:text-white border-white/0 hover:bg-white/60 dark:hover:bg-black/40"}`,children:"Client"})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"text-[10px] font-black uppercase text-dwello-indigo dark:text-dwello-silk tracking-widest block",children:["Email Address ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{required:!0,type:"email",value:e,onChange:y=>n(y.target.value),className:"w-full px-5 py-4 rounded-2xl bg-white/40 dark:bg-black/30 border-2 border-white/10 focus:border-dwello-indigo/50 outline-none transition-all font-bold text-dwello-indigo dark:text-dwello-parchment placeholder-dwello-indigo/40 dark:placeholder-white/40 backdrop-blur-sm",placeholder:"alex@dwello.build"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"text-[10px] font-black uppercase text-dwello-indigo dark:text-dwello-silk tracking-widest block",children:["Secure Password ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{required:!0,type:"password",value:i,onChange:y=>r(y.target.value),className:"w-full px-5 py-4 rounded-2xl bg-white/40 dark:bg-black/30 border-2 border-white/10 focus:border-dwello-indigo/50 outline-none transition-all font-bold text-dwello-indigo dark:text-dwello-parchment placeholder-dwello-indigo/40 dark:placeholder-white/40 backdrop-blur-sm",placeholder:""})]}),x.jsx("button",{type:"submit",disabled:c,className:`w-full py-5 bg-dwello-indigo text-white font-black text-xs uppercase tracking-[0.2em] rounded-2xl shadow-xl shadow-dwello-indigo/20 hover:bg-dwello-grape hover:scale-[1.02] active:scale-95 transition-all mt-4 ${c?"opacity-50 cursor-not-allowed":""}`,children:c?"Authenticating...":"Authenticate"}),x.jsx("div",{className:"text-center pt-4",children:x.jsxs("p",{className:"text-xs font-bold text-dwello-grape/60 dark:text-dwello-lilac",children:["New to the platform? ",x.jsx(Ui,{to:"/signup",className:"text-dwello-indigo dark:text-dwello-silk font-black hover:underline uppercase tracking-widest ml-1",children:"Deploy Account"})]})})]})]})]})},Dne=({onLogin:t})=>{const[e,n]=M.useState("Builder"),[i,r]=M.useState("Alex J. Builder"),[o,l]=M.useState("alex@dwello.build"),[c,f]=M.useState("Builder123!"),[d,h]=M.useState(!1),[m,g]=M.useState(""),y=uu(),S=async w=>{var v,_;w.preventDefault(),h(!0),g("");try{const A=await yt.post("/auth/register",{name:i,email:o.trim(),password:c,role:e.toLowerCase()}),{token:T}=A.data.data;localStorage.setItem("token",T),t(e,A.data.data),y("/dashboard")}catch(A){console.error(A),g(((_=(v=A.response)==null?void 0:v.data)==null?void 0:_.message)||"Registration failed. Please try again."),A.code==="ERR_NETWORK"&&(t(e),y("/dashboard"))}finally{h(!1)}};return x.jsxs("div",{className:"min-h-screen relative flex items-center justify-center px-6 overflow-hidden bg-dwello-indigo",children:[x.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center bg-no-repeat transition-all duration-1000 scale-105 saturate-[0.6] contrast-[0.85] brightness-[0.65] blur-[4px]",style:{backgroundImage:"url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')"}}),x.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-b from-dwello-indigo/40 via-transparent to-dwello-indigo/60"}),x.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(circle_at_center,_rgba(0,0,0,0.2)_0%,_transparent_70%)]"}),x.jsxs("div",{className:"max-w-md w-full z-10 bg-white/20 dark:bg-black/40 rounded-[32px] shadow-2xl shadow-black/5 overflow-hidden border border-white/20 animate-fadeIn",style:{backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)"},children:[x.jsxs("div",{className:"bg-dwello-indigo/80 p-10 text-center relative overflow-hidden backdrop-blur-md",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-dwello-silk to-dwello-indigo"}),x.jsxs(Ui,{to:"/",className:"text-4xl font-black tracking-tighter text-dwello-parchment",children:[x.jsx("span",{className:"text-dwello-silk",children:"D"}),"WELLO"]}),x.jsx("p",{className:"text-dwello-parchment/70 mt-2 font-medium",children:"Initialize your builder profile"})]}),m&&x.jsx("div",{className:"mx-10 mt-4 p-3 bg-red-50 border border-red-200 text-red-600 text-xs font-bold rounded-xl text-center",children:m}),x.jsxs("form",{onSubmit:S,className:"p-10 space-y-5",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"text-[10px] font-black uppercase text-dwello-indigo dark:text-dwello-silk tracking-widest block",children:["Organization Role ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",onClick:()=>n("Builder"),className:`flex-1 py-3 rounded-xl font-black text-xs uppercase tracking-widest transition-all border-2 ${e==="Builder"?"bg-dwello-indigo text-white border-dwello-indigo shadow-lg":"bg-white/40 dark:bg-black/20 text-dwello-indigo dark:text-white border-white/0 hover:bg-white/60 dark:hover:bg-black/40"}`,children:"Builder"}),x.jsx("button",{type:"button",onClick:()=>n("Client"),className:`flex-1 py-3 rounded-xl font-black text-xs uppercase tracking-widest transition-all border-2 ${e==="Client"?"bg-dwello-indigo text-white border-dwello-indigo shadow-lg":"bg-white/40 dark:bg-black/20 text-dwello-indigo dark:text-white border-white/0 hover:bg-white/60 dark:hover:bg-black/40"}`,children:"Client"})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"text-[10px] font-black uppercase text-dwello-indigo dark:text-dwello-silk tracking-widest block",children:["Full Name ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{required:!0,type:"text",value:i,onChange:w=>r(w.target.value),className:"w-full px-5 py-4 rounded-2xl bg-white/40 dark:bg-black/30 border-2 border-white/10 focus:border-dwello-indigo/50 outline-none transition-all font-bold text-dwello-indigo dark:text-dwello-parchment placeholder-dwello-indigo/40 dark:placeholder-white/40 backdrop-blur-sm",placeholder:"Alex J. Builder"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"text-[10px] font-black uppercase text-dwello-indigo dark:text-dwello-silk tracking-widest block",children:["Email Address ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{required:!0,type:"email",value:o,onChange:w=>l(w.target.value),className:"w-full px-5 py-4 rounded-2xl bg-white/40 dark:bg-black/30 border-2 border-white/10 focus:border-dwello-indigo/50 outline-none transition-all font-bold text-dwello-indigo dark:text-dwello-parchment placeholder-dwello-indigo/40 dark:placeholder-white/40 backdrop-blur-sm",placeholder:"alex@dwello.build"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"text-[10px] font-black uppercase text-dwello-indigo dark:text-dwello-silk tracking-widest block",children:["Create Password ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{required:!0,type:"password",value:c,onChange:w=>f(w.target.value),title:"At least 8 characters",className:"w-full px-5 py-4 rounded-2xl bg-white/40 dark:bg-black/30 border-2 border-white/10 focus:border-dwello-indigo/50 outline-none transition-all font-bold text-dwello-indigo dark:text-dwello-parchment placeholder-dwello-indigo/40 dark:placeholder-white/40 backdrop-blur-sm",placeholder:""})]}),x.jsx("button",{type:"submit",disabled:d,className:`w-full py-5 bg-dwello-indigo text-white font-black text-xs uppercase tracking-[0.2em] rounded-2xl shadow-xl shadow-dwello-indigo/20 hover:bg-dwello-grape hover:scale-[1.02] active:scale-95 transition-all mt-6 ${d?"opacity-50 cursor-not-allowed":""}`,children:d?"Processing...":"Create Profile"}),x.jsx("div",{className:"text-center pt-4",children:x.jsxs("p",{className:"text-xs font-bold text-dwello-grape/60 dark:text-dwello-lilac",children:["Already verified? ",x.jsx(Ui,{to:"/login",className:"text-dwello-indigo dark:text-dwello-silk font-black hover:underline uppercase tracking-widest ml-1",children:"Sign In"})]})})]})]})]})},Lne=()=>{const[t,e]=M.useState(!1),n=uu(),[i,r]=M.useState({name:"",clientName:"",type:"Residential",landLength:50,landWidth:40,floors:2,budget:5e5,location:"",expectedDurationMonths:12,beforeImageUrl:""}),o=async l=>{l.preventDefault(),e(!0);try{const c={name:i.name,clientName:i.clientName,projectType:i.type,budget:i.budget,expectedFloors:i.floors,location:i.location,expectedDurationMonths:i.expectedDurationMonths,beforeImageUrl:i.beforeImageUrl,landSize:{length:i.landLength,width:i.landWidth}};await yt.post("/projects",c),setTimeout(()=>{n("/projects")},1e3)}catch(c){console.error(c)}finally{e(!1)}};return x.jsx("div",{className:"max-w-4xl mx-auto animate-fadeIn",children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[48px] p-12 shadow-2xl border border-dwello-lilac/10",children:[x.jsxs("div",{className:"mb-10",children:[x.jsx("h1",{className:"text-4xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tighter",children:"Initialize Deployment"}),x.jsx("p",{className:"text-dwello-grape/70 font-medium mt-2",children:"Specify parameters for the AI to calculate logistics and resource burn rates."})]}),x.jsxs("form",{onSubmit:o,className:"space-y-8",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-indigo",children:"Project Identifier"}),x.jsx("input",{required:!0,type:"text",value:i.name,onChange:l=>r({...i,name:l.target.value}),placeholder:"e.g., Summit Plaza",className:"w-full px-6 py-4 rounded-3xl bg-dwello-parchment/50 border-2 border-transparent focus:border-dwello-silk outline-none transition-all font-bold"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-indigo",children:"Client Name"}),x.jsx("input",{required:!0,type:"text",value:i.clientName,onChange:l=>r({...i,clientName:l.target.value}),placeholder:"e.g., John Doe",className:"w-full px-6 py-4 rounded-3xl bg-dwello-parchment/50 border-2 border-transparent focus:border-dwello-silk outline-none transition-all font-bold"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-indigo",children:"Land Length (ft)"}),x.jsx("input",{required:!0,type:"number",value:i.landLength,onChange:l=>r({...i,landLength:parseInt(l.target.value)}),className:"w-full px-6 py-4 rounded-3xl bg-dwello-parchment/50 border-2 border-transparent focus:border-dwello-silk outline-none transition-all font-bold"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-indigo",children:"Land Width (ft)"}),x.jsx("input",{required:!0,type:"number",value:i.landWidth,onChange:l=>r({...i,landWidth:parseInt(l.target.value)}),className:"w-full px-6 py-4 rounded-3xl bg-dwello-parchment/50 border-2 border-transparent focus:border-dwello-silk outline-none transition-all font-bold"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-indigo",children:"Verticality (Floors)"}),x.jsx("input",{required:!0,type:"number",value:i.floors,onChange:l=>r({...i,floors:parseInt(l.target.value)}),className:"w-full px-6 py-4 rounded-3xl bg-dwello-parchment/50 border-2 border-transparent focus:border-dwello-silk outline-none transition-all font-bold"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-indigo",children:"Capital Allocation ($)"}),x.jsx("input",{required:!0,type:"number",value:i.budget,onChange:l=>r({...i,budget:parseInt(l.target.value)}),className:"w-full px-6 py-4 rounded-3xl bg-dwello-parchment/50 border-2 border-transparent focus:border-dwello-silk outline-none transition-all font-bold"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-indigo",children:"Planned Duration (Months)"}),x.jsx("input",{required:!0,type:"number",value:i.expectedDurationMonths,onChange:l=>r({...i,expectedDurationMonths:parseInt(l.target.value)}),className:"w-full px-6 py-4 rounded-3xl bg-dwello-parchment/50 border-2 border-transparent focus:border-dwello-silk outline-none transition-all font-bold"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-indigo",children:"Geographic Location"}),x.jsx("input",{required:!0,type:"text",value:i.location,onChange:l=>r({...i,location:l.target.value}),placeholder:"e.g., Denver, CO",className:"w-full px-6 py-4 rounded-3xl bg-dwello-parchment/50 border-2 border-transparent focus:border-dwello-silk outline-none transition-all font-bold"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-indigo",children:"Initial Site Capture (Before Image)"}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("input",{type:"file",onChange:async l=>{var d;const c=(d=l.target.files)==null?void 0:d[0];if(!c)return;const f=new FormData;f.append("image",c);try{const h=await yt.post("/upload",f);r({...i,beforeImageUrl:h.data.url})}catch(h){console.error(h)}},className:"hidden",id:"before-image-upload"}),x.jsx("label",{htmlFor:"before-image-upload",className:"flex-1 px-6 py-4 rounded-3xl bg-dwello-parchment/50 border-2 border-dashed border-dwello-lilac/30 hover:border-dwello-indigo transition-all cursor-pointer text-sm font-bold text-dwello-lilac text-center",children:i.beforeImageUrl?"Image Captured ":"Upload Plot Photo"}),i.beforeImageUrl&&x.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden border border-dwello-lilac/20",children:x.jsx("img",{src:`http://localhost:5000${i.beforeImageUrl}`,className:"w-full h-full object-cover",alt:"Preview"})})]})]})]}),x.jsxs("div",{className:"pt-8 flex gap-4",children:[x.jsx("button",{type:"submit",disabled:t,className:`flex-1 py-5 rounded-[24px] font-black text-sm uppercase tracking-[0.2em] shadow-2xl transition-all ${t?"bg-dwello-lilac cursor-wait":"bg-dwello-indigo text-white hover:bg-dwello-grape hover:scale-[1.02]"}`,children:t?"Initializing Project...":"Create Project"}),x.jsx("button",{type:"button",onClick:()=>n(-1),className:"px-10 py-5 rounded-[24px] font-black text-sm uppercase tracking-[0.2em] text-dwello-indigo border-2 border-dwello-indigo/10 hover:bg-dwello-parchment transition-all",children:"Cancel"})]})]})]})})},Une=()=>x.jsxs("div",{className:"space-y-10 animate-fadeIn",children:[x.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-4xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tighter",children:"Resource Logistics"}),x.jsx("p",{className:"text-dwello-grape/70 font-medium",children:"Predictive material and workforce burn rate analysis."})]}),x.jsx("button",{className:"bg-dwello-indigo text-white px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl",children:"Order Materials"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[32px] border border-dwello-lilac/20 shadow-sm",children:[x.jsxs("h2",{className:"text-xl font-black text-dwello-indigo mb-8 flex items-center gap-3",children:[x.jsx("span",{className:"w-2 h-6 bg-dwello-silk rounded-full"}),"Predicted Labor Demand (Weeks 1-12)"]}),x.jsx("div",{className:"h-64 flex items-end justify-between gap-4 px-4",children:[60,80,45,90,100,70,50,40,85,95,60,40].map((t,e)=>x.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[x.jsx("div",{className:"w-full bg-dwello-parchment rounded-full h-full relative overflow-hidden",children:x.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-dwello-indigo group-hover:bg-dwello-silk transition-all duration-700",style:{height:`${t}%`}})}),x.jsxs("span",{className:"text-[8px] font-black text-dwello-lilac",children:["W",e+1]})]},e))})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[32px] border border-dwello-lilac/20 shadow-sm",children:[x.jsx("h2",{className:"text-xl font-black text-dwello-indigo mb-6",children:"Active Workforce Distribution"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{team:"Structural Force",members:42,projects:3},{team:"MEP Systems",members:18,projects:5},{team:"Finishing Guild",members:24,projects:2},{team:"Logistic Ops",members:12,projects:8}].map((t,e)=>x.jsxs("div",{className:"p-6 rounded-2xl bg-dwello-parchment/30 border border-dwello-lilac/10 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-black text-dwello-indigo",children:t.team}),x.jsxs("div",{className:"text-[10px] font-bold text-dwello-lilac uppercase tracking-wider",children:[t.projects," Active Sites"]})]}),x.jsx("div",{className:"text-2xl font-black text-dwello-indigo",children:t.members})]},e))})]})]}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"bg-dwello-indigo text-dwello-parchment p-8 rounded-[32px] shadow-2xl",children:[x.jsx("h2",{className:"text-xl font-black text-dwello-silk mb-6",children:"Inventory Status"}),x.jsx("div",{className:"space-y-6",children:[{item:"Ready-Mix Concrete",stock:85},{item:"Structural Rebar",stock:40},{item:"Grade-A Timber",stock:92},{item:"PVC Conduit",stock:15}].map((t,e)=>x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase tracking-widest",children:[x.jsx("span",{children:t.item}),x.jsxs("span",{className:t.stock<20?"text-red-400":"text-dwello-silk",children:[t.stock,"%"]})]}),x.jsx("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden",children:x.jsx("div",{className:`h-full transition-all duration-1000 ${t.stock<20?"bg-red-400":"bg-dwello-silk"}`,style:{width:`${t.stock}%`}})})]},e))}),x.jsx("button",{className:"mt-8 w-full py-4 bg-dwello-parchment text-dwello-indigo rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-dwello-silk transition-colors",children:"Request Refill"})]}),x.jsxs("div",{className:"p-8 bg-dwello-silk/10 rounded-[32px] border-2 border-dwello-silk/30",children:[x.jsx("h3",{className:"text-sm font-black text-dwello-indigo uppercase tracking-widest mb-4",children:"Shortage Alerts"}),x.jsxs("p",{className:"text-xs font-bold leading-relaxed opacity-70",children:["Supply chain disruption in regional steel foundries may lead to a ",x.jsx("span",{className:"text-red-600",children:"12% price hike"})," for Rebar starting next Tuesday."]})]})]})]})]}),hb=[{center:"Civil",planned:450,actual:480},{center:"Steel",planned:1200,actual:600},{center:"MEP",planned:800,actual:50},{center:"Exterior",planned:600,actual:0},{center:"Interior",planned:950,actual:0}],kne=()=>x.jsxs("div",{className:"space-y-10 animate-fadeIn h-full pb-10",children:[x.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-4xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tighter",children:"Financial Ledger"}),x.jsx("p",{className:"text-dwello-grape/70 font-medium",children:"Real-time capital allocation and expenditure tracking."})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{className:"bg-white border-2 border-dwello-indigo/10 text-dwello-indigo px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-dwello-parchment transition-colors",children:"Download PDF"}),x.jsx("button",{className:"bg-dwello-indigo text-white px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-dwello-indigo/20 hover:scale-[1.02] transition-all",children:"Approve Requisition"})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Projected Budget",value:"$4.2M",sub:"Total Estimates"},{label:"Actual Expenditure",value:"$1.8M",sub:"42.8% Utilized"},{label:"Variance Margin",value:"+2.4%",sub:"Overspent Forecast"}].map((t,e)=>x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[32px] border border-dwello-lilac/10 shadow-sm flex flex-col justify-between h-44",children:[x.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:t.label}),x.jsxs("div",{className:"flex items-baseline gap-2",children:[x.jsx("span",{className:"text-4xl font-extrabold text-dwello-indigo tracking-tighter dark:text-dwello-parchment",children:t.value}),x.jsx("span",{className:"text-xs font-bold text-dwello-grape/60",children:t.sub})]})]},e))}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[48px] border border-dwello-lilac/20 shadow-sm",children:[x.jsxs("div",{className:"flex justify-between items-center mb-10",children:[x.jsx("h2",{className:"text-2xl font-black text-dwello-indigo dark:text-dwello-silk",children:"Variance Spectrum"}),x.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-dwello-indigo"})," Actual"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-dwello-parchment"})," Planned"]})]})]}),x.jsx("div",{className:"h-[300px] w-full",children:x.jsx(wm,{width:"100%",height:"100%",children:x.jsxs(Z_,{data:hb,children:[x.jsx(Jm,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),x.jsx(ig,{dataKey:"center",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontWeight:700,fontSize:10}}),x.jsx(rg,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontWeight:700,fontSize:10},tickFormatter:t=>`$${t}k`}),x.jsx(Xm,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontWeight:"bold"}}),x.jsx(od,{dataKey:"planned",fill:"#f1f5f9",radius:[10,10,0,0]}),x.jsx(od,{dataKey:"actual",fill:"#22223b",radius:[10,10,0,0],children:hb.map((t,e)=>x.jsx(E1,{fill:t.actual>t.planned?"#ef4444":"#22223b"},`cell-${e}`))})]})})})]}),x.jsxs("div",{className:"bg-dwello-indigo p-10 rounded-[48px] shadow-2xl relative overflow-hidden group",children:[x.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-dwello-silk/10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl group-hover:bg-dwello-silk/20 transition-all duration-500"}),x.jsx("h2",{className:"text-2xl font-black text-dwello-silk mb-2",children:"Liquidity Projection"}),x.jsx("p",{className:"text-dwello-parchment/60 text-xs font-bold mb-10 uppercase tracking-widest",children:"30-Day Automated Forecast"}),x.jsx("div",{className:"h-[250px] w-full",children:x.jsx(wm,{width:"100%",height:"100%",children:x.jsxs(Ane,{data:[{day:"Day 1",val:100},{day:"Day 5",val:80},{day:"Day 10",val:75},{day:"Day 15",val:90},{day:"Day 20",val:60},{day:"Day 25",val:40},{day:"Day 30",val:20}],children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"colorVal",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"5%",stopColor:"#ffc900",stopOpacity:.3}),x.jsx("stop",{offset:"95%",stopColor:"#ffc900",stopOpacity:0})]})}),x.jsx(Xm,{contentStyle:{backgroundColor:"#22223b",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px"},itemStyle:{color:"#fff",fontSize:"10px"}}),x.jsx(II,{type:"monotone",dataKey:"val",stroke:"#ffc900",strokeWidth:4,fillOpacity:1,fill:"url(#colorVal)"})]})})}),x.jsxs("div",{className:"mt-8 flex items-end justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-black uppercase text-dwello-parchment/50 tracking-widest mb-1",children:"Burn Rate"}),x.jsxs("p",{className:"text-3xl font-black text-white",children:["$14.2k ",x.jsx("span",{className:"text-xs text-dwello-silk",children:"/ day"})]})]}),x.jsx("button",{className:"bg-dwello-silk text-dwello-indigo px-6 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-white transition-colors",children:"Lock Capital"})]})]})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[48px] border border-dwello-lilac/20",children:[x.jsx("h2",{className:"text-2xl font-black text-dwello-indigo dark:text-dwello-silk mb-10",children:"Expenditure Breakdown"}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"text-left border-b border-dwello-parchment",children:[x.jsx("th",{className:"pb-6 text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Cost Center"}),x.jsx("th",{className:"pb-6 text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Allocated"}),x.jsx("th",{className:"pb-6 text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Expended"}),x.jsx("th",{className:"pb-6 text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Status"}),x.jsx("th",{className:"pb-6 text-right text-[10px] font-black uppercase tracking-widest text-dwello-lilac",children:"Action"})]})}),x.jsx("tbody",{className:"divide-y divide-dwello-parchment",children:hb.map((t,e)=>x.jsxs("tr",{className:"group hover:bg-dwello-parchment/10 transition-colors",children:[x.jsx("td",{className:"py-6 font-bold text-dwello-indigo dark:text-dwello-parchment",children:t.center}),x.jsxs("td",{className:"py-6 text-sm font-medium text-dwello-grape",children:["$",t.planned,"k"]}),x.jsxs("td",{className:"py-6 text-sm font-medium text-dwello-indigo dark:text-white",children:["$",t.actual,"k"]}),x.jsx("td",{className:"py-6",children:x.jsx("span",{className:`text-[10px] font-black uppercase px-3 py-1 rounded-full ${t.actual>t.planned?"bg-red-100 text-red-600":t.actual>0?"bg-green-100 text-green-600":"bg-dwello-parchment text-dwello-indigo"}`,children:t.actual>t.planned?"Exceeded":t.actual>0?"On-track":"Planned"})}),x.jsx("td",{className:"py-6 text-right",children:x.jsx("button",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac hover:text-dwello-indigo transition-colors font-bold",children:"Audit"})})]},e))})]})})]})]}),Ine=({rooms:t,landLength:e,landWidth:n,onRoomMove:i})=>{const[r,o]=M.useState(null),[l,c]=M.useState(null),f=M.useRef(null),d=Math.min(400/e,400/n),h=e*d,m=n*d,g={living:"#4a4e69",utility:"#c9ada7",private:"#22223b"},y=w=>{if(!f.current)return{x:0,y:0};const v=f.current.getScreenCTM();return v?{x:(w.clientX-v.e)/v.a,y:(w.clientY-v.f)/v.d}:{x:0,y:0}},S=(w,v)=>{const _=y(w),A=t[v];o(v),c({x:_.x-A.x,y:_.y-A.y})};return M.useEffect(()=>{const w=_=>{if(r===null||!l||!i)return;const A=y(_);let T=A.x-l.x,C=A.y-l.y;const P=t[r];T=Math.max(0,Math.min(e-P.width,T)),C=Math.max(0,Math.min(n-P.height,C)),i(r,Math.round(T),Math.round(C))},v=()=>{o(null),c(null)};return r!==null&&(window.addEventListener("mousemove",w),window.addEventListener("mouseup",v)),()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",v)}},[r,l,t,e,n,i]),x.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-6 border border-dwello-lilac/20 shadow-inner flex flex-col items-center select-none",children:[x.jsx("h3",{className:"text-[10px] font-black uppercase text-dwello-lilac tracking-widest mb-2 self-start",children:"Interactive 2D Layout"}),x.jsx("p",{className:"text-[8px] text-dwello-lilac/60 uppercase mb-4 self-start italic",children:"Drag rooms to adjust placement"}),x.jsxs("svg",{ref:f,width:h,height:m,viewBox:`0 0 ${e} ${n}`,className:"drop-shadow-xl",children:[x.jsx("rect",{x:"0",y:"0",width:e,height:n,fill:"white",fillOpacity:"0.05",stroke:"#9a8c98",strokeWidth:"0.5",strokeDasharray:"1,1"}),t.map((w,v)=>x.jsxs("g",{onMouseDown:_=>S(_,v),className:"cursor-move",children:[x.jsx("rect",{x:w.x,y:w.y,width:w.width,height:w.height,fill:g[w.type]||"#4a4e69",stroke:"white",strokeWidth:r===v?"0.8":"0.2",className:"transition-all hover:opacity-90",style:{filter:r===v?"drop-shadow(0px 0px 4px rgba(255,255,255,0.5))":"none"}}),x.jsx("text",{x:w.x+w.width/2,y:w.y+w.height/2,textAnchor:"middle",dominantBaseline:"middle",fill:"white",className:"font-bold pointer-events-none",style:{fontSize:Math.max(1,w.width/6)},children:w.name}),x.jsxs("text",{x:w.x+w.width/2,y:w.y+w.height/2+Math.max(2,w.height/4),textAnchor:"middle",fill:"white",opacity:"0.6",className:"font-medium pointer-events-none",style:{fontSize:Math.max(.8,w.width/10)},children:[w.width,"' x ",w.height,"'"]})]},v))]}),x.jsxs("div",{className:"mt-6 flex gap-4 text-[8px] font-black uppercase tracking-widest text-dwello-grape",children:[x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx("div",{className:"w-2 h-2 bg-dwello-indigo rounded-full"})," Private"]}),x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx("div",{className:"w-2 h-2 bg-dwello-grape rounded-full"})," Living"]}),x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx("div",{className:"w-2 h-2 bg-dwello-silk rounded-full"})," Utility"]})]})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const L1="182",Wc={ROTATE:0,DOLLY:1,PAN:2},Hc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},jne=0,QO=1,Bne=2,Zp=1,ej=2,Ff=3,Ns=0,tr=1,ho=2,bo=0,qc=1,JO=2,eP=3,tP=4,Fne=5,sl=100,zne=101,Hne=102,Gne=103,Vne=104,Wne=200,qne=201,Xne=202,$ne=203,Q_=204,J_=205,Yne=206,Kne=207,Zne=208,Qne=209,Jne=210,eie=211,tie=212,nie=213,iie=214,ew=0,tw=1,nw=2,nu=3,iw=4,rw=5,aw=6,ow=7,tj=0,rie=1,aie=2,Ra=0,nj=1,ij=2,rj=3,aj=4,oj=5,sj=6,lj=7,cj=300,Nl=301,iu=302,sw=303,lw=304,uv=306,cw=1e3,go=1001,uw=1002,yi=1003,oie=1004,mp=1005,Ci=1006,pb=1007,pl=1008,hr=1009,uj=1010,fj=1011,sd=1012,U1=1013,La=1014,Aa=1015,No=1016,k1=1017,I1=1018,ld=1020,dj=35902,hj=35899,pj=1021,mj=1022,aa=1023,Oo=1026,ml=1027,gj=1028,j1=1029,ru=1030,B1=1031,F1=1033,Qp=33776,Jp=33777,em=33778,tm=33779,fw=35840,dw=35841,hw=35842,pw=35843,mw=36196,gw=37492,vw=37496,xw=37488,yw=37489,bw=37490,_w=37491,ww=37808,Sw=37809,Ew=37810,Mw=37811,Aw=37812,Tw=37813,Cw=37814,Rw=37815,Nw=37816,Ow=37817,Pw=37818,Dw=37819,Lw=37820,Uw=37821,kw=36492,Iw=36494,jw=36495,Bw=36283,Fw=36284,zw=36285,Hw=36286,sie=3200,vj=0,lie=1,ws="",Ur="srgb",au="srgb-linear",sg="linear",Qt="srgb",Ec=7680,nP=519,cie=512,uie=513,fie=514,z1=515,die=516,hie=517,H1=518,pie=519,iP=35044,rP="300 es",Ta=2e3,lg=2001;function xj(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function cg(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function mie(){const t=cg("canvas");return t.style.display="block",t}const aP={};function oP(...t){const e="THREE."+t.shift();console.log(e,...t)}function pt(...t){const e="THREE."+t.shift();console.warn(e,...t)}function Bt(...t){const e="THREE."+t.shift();console.error(e,...t)}function cd(...t){const e=t.join(" ");e in aP||(aP[e]=!0,pt(...t))}function gie(t,e,n){return new Promise(function(i,r){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:i()}}setTimeout(o,n)})}class Il{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let o=0,l=r.length;o<l;o++)r[o].call(this,e);e.target=null}}}const Si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],nm=Math.PI/180,Gw=180/Math.PI;function Id(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Si[t&255]+Si[t>>8&255]+Si[t>>16&255]+Si[t>>24&255]+"-"+Si[e&255]+Si[e>>8&255]+"-"+Si[e>>16&15|64]+Si[e>>24&255]+"-"+Si[n&63|128]+Si[n>>8&255]+"-"+Si[n>>16&255]+Si[n>>24&255]+Si[i&255]+Si[i>>8&255]+Si[i>>16&255]+Si[i>>24&255]).toLowerCase()}function Rt(t,e,n){return Math.max(e,Math.min(n,t))}function vie(t,e){return(t%e+e)%e}function mb(t,e,n){return(1-n)*t+n*e}function Rf(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function $i(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const xie={DEG2RAD:nm};class _t{constructor(e=0,n=0){_t.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Rt(this.x,e.x,n.x),this.y=Rt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Rt(this.x,e,n),this.y=Rt(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Rt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Rt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),o=this.x-e.x,l=this.y-e.y;return this.x=o*i-l*r+e.x,this.y=o*r+l*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ol{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,o,l,c){let f=i[r+0],d=i[r+1],h=i[r+2],m=i[r+3],g=o[l+0],y=o[l+1],S=o[l+2],w=o[l+3];if(c<=0){e[n+0]=f,e[n+1]=d,e[n+2]=h,e[n+3]=m;return}if(c>=1){e[n+0]=g,e[n+1]=y,e[n+2]=S,e[n+3]=w;return}if(m!==w||f!==g||d!==y||h!==S){let v=f*g+d*y+h*S+m*w;v<0&&(g=-g,y=-y,S=-S,w=-w,v=-v);let _=1-c;if(v<.9995){const A=Math.acos(v),T=Math.sin(A);_=Math.sin(_*A)/T,c=Math.sin(c*A)/T,f=f*_+g*c,d=d*_+y*c,h=h*_+S*c,m=m*_+w*c}else{f=f*_+g*c,d=d*_+y*c,h=h*_+S*c,m=m*_+w*c;const A=1/Math.sqrt(f*f+d*d+h*h+m*m);f*=A,d*=A,h*=A,m*=A}}e[n]=f,e[n+1]=d,e[n+2]=h,e[n+3]=m}static multiplyQuaternionsFlat(e,n,i,r,o,l){const c=i[r],f=i[r+1],d=i[r+2],h=i[r+3],m=o[l],g=o[l+1],y=o[l+2],S=o[l+3];return e[n]=c*S+h*m+f*y-d*g,e[n+1]=f*S+h*g+d*m-c*y,e[n+2]=d*S+h*y+c*g-f*m,e[n+3]=h*S-c*m-f*g-d*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,o=e._z,l=e._order,c=Math.cos,f=Math.sin,d=c(i/2),h=c(r/2),m=c(o/2),g=f(i/2),y=f(r/2),S=f(o/2);switch(l){case"XYZ":this._x=g*h*m+d*y*S,this._y=d*y*m-g*h*S,this._z=d*h*S+g*y*m,this._w=d*h*m-g*y*S;break;case"YXZ":this._x=g*h*m+d*y*S,this._y=d*y*m-g*h*S,this._z=d*h*S-g*y*m,this._w=d*h*m+g*y*S;break;case"ZXY":this._x=g*h*m-d*y*S,this._y=d*y*m+g*h*S,this._z=d*h*S+g*y*m,this._w=d*h*m-g*y*S;break;case"ZYX":this._x=g*h*m-d*y*S,this._y=d*y*m+g*h*S,this._z=d*h*S-g*y*m,this._w=d*h*m+g*y*S;break;case"YZX":this._x=g*h*m+d*y*S,this._y=d*y*m+g*h*S,this._z=d*h*S-g*y*m,this._w=d*h*m-g*y*S;break;case"XZY":this._x=g*h*m-d*y*S,this._y=d*y*m-g*h*S,this._z=d*h*S+g*y*m,this._w=d*h*m+g*y*S;break;default:pt("Quaternion: .setFromEuler() encountered an unknown order: "+l)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],o=n[8],l=n[1],c=n[5],f=n[9],d=n[2],h=n[6],m=n[10],g=i+c+m;if(g>0){const y=.5/Math.sqrt(g+1);this._w=.25/y,this._x=(h-f)*y,this._y=(o-d)*y,this._z=(l-r)*y}else if(i>c&&i>m){const y=2*Math.sqrt(1+i-c-m);this._w=(h-f)/y,this._x=.25*y,this._y=(r+l)/y,this._z=(o+d)/y}else if(c>m){const y=2*Math.sqrt(1+c-i-m);this._w=(o-d)/y,this._x=(r+l)/y,this._y=.25*y,this._z=(f+h)/y}else{const y=2*Math.sqrt(1+m-i-c);this._w=(l-r)/y,this._x=(o+d)/y,this._y=(f+h)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Rt(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,o=e._z,l=e._w,c=n._x,f=n._y,d=n._z,h=n._w;return this._x=i*h+l*c+r*d-o*f,this._y=r*h+l*f+o*c-i*d,this._z=o*h+l*d+i*f-r*c,this._w=l*h-i*c-r*f-o*d,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let i=e._x,r=e._y,o=e._z,l=e._w,c=this.dot(e);c<0&&(i=-i,r=-r,o=-o,l=-l,c=-c);let f=1-n;if(c<.9995){const d=Math.acos(c),h=Math.sin(d);f=Math.sin(f*d)/h,n=Math.sin(n*d)/h,this._x=this._x*f+i*n,this._y=this._y*f+r*n,this._z=this._z*f+o*n,this._w=this._w*f+l*n,this._onChangeCallback()}else this._x=this._x*f+i*n,this._y=this._y*f+r*n,this._z=this._z*f+o*n,this._w=this._w*f+l*n,this.normalize();return this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),o=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class re{constructor(e=0,n=0,i=0){re.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(sP.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(sP.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*n+o[3]*i+o[6]*r,this.y=o[1]*n+o[4]*i+o[7]*r,this.z=o[2]*n+o[5]*i+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,o=e.elements,l=1/(o[3]*n+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*n+o[4]*i+o[8]*r+o[12])*l,this.y=(o[1]*n+o[5]*i+o[9]*r+o[13])*l,this.z=(o[2]*n+o[6]*i+o[10]*r+o[14])*l,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,o=e.x,l=e.y,c=e.z,f=e.w,d=2*(l*r-c*i),h=2*(c*n-o*r),m=2*(o*i-l*n);return this.x=n+f*d+l*m-c*h,this.y=i+f*h+c*d-o*m,this.z=r+f*m+o*h-l*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r,this.y=o[1]*n+o[5]*i+o[9]*r,this.z=o[2]*n+o[6]*i+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Rt(this.x,e.x,n.x),this.y=Rt(this.y,e.y,n.y),this.z=Rt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Rt(this.x,e,n),this.y=Rt(this.y,e,n),this.z=Rt(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Rt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,o=e.z,l=n.x,c=n.y,f=n.z;return this.x=r*f-o*c,this.y=o*l-i*f,this.z=i*c-r*l,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return gb.copy(this).projectOnVector(e),this.sub(gb)}reflect(e){return this.sub(gb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Rt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const gb=new re,sP=new Ol;class Et{constructor(e,n,i,r,o,l,c,f,d){Et.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,o,l,c,f,d)}set(e,n,i,r,o,l,c,f,d){const h=this.elements;return h[0]=e,h[1]=r,h[2]=c,h[3]=n,h[4]=o,h[5]=f,h[6]=i,h[7]=l,h[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,o=this.elements,l=i[0],c=i[3],f=i[6],d=i[1],h=i[4],m=i[7],g=i[2],y=i[5],S=i[8],w=r[0],v=r[3],_=r[6],A=r[1],T=r[4],C=r[7],P=r[2],O=r[5],D=r[8];return o[0]=l*w+c*A+f*P,o[3]=l*v+c*T+f*O,o[6]=l*_+c*C+f*D,o[1]=d*w+h*A+m*P,o[4]=d*v+h*T+m*O,o[7]=d*_+h*C+m*D,o[2]=g*w+y*A+S*P,o[5]=g*v+y*T+S*O,o[8]=g*_+y*C+S*D,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],l=e[4],c=e[5],f=e[6],d=e[7],h=e[8];return n*l*h-n*c*d-i*o*h+i*c*f+r*o*d-r*l*f}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],l=e[4],c=e[5],f=e[6],d=e[7],h=e[8],m=h*l-c*d,g=c*f-h*o,y=d*o-l*f,S=n*m+i*g+r*y;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/S;return e[0]=m*w,e[1]=(r*d-h*i)*w,e[2]=(c*i-r*l)*w,e[3]=g*w,e[4]=(h*n-r*f)*w,e[5]=(r*o-c*n)*w,e[6]=y*w,e[7]=(i*f-d*n)*w,e[8]=(l*n-i*o)*w,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,o,l,c){const f=Math.cos(o),d=Math.sin(o);return this.set(i*f,i*d,-i*(f*l+d*c)+l+e,-r*d,r*f,-r*(-d*l+f*c)+c+n,0,0,1),this}scale(e,n){return this.premultiply(vb.makeScale(e,n)),this}rotate(e){return this.premultiply(vb.makeRotation(-e)),this}translate(e,n){return this.premultiply(vb.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const vb=new Et,lP=new Et().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),cP=new Et().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function yie(){const t={enabled:!0,workingColorSpace:au,spaces:{},convert:function(r,o,l){return this.enabled===!1||o===l||!o||!l||(this.spaces[o].transfer===Qt&&(r.r=_o(r.r),r.g=_o(r.g),r.b=_o(r.b)),this.spaces[o].primaries!==this.spaces[l].primaries&&(r.applyMatrix3(this.spaces[o].toXYZ),r.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===Qt&&(r.r=Xc(r.r),r.g=Xc(r.g),r.b=Xc(r.b))),r},workingToColorSpace:function(r,o){return this.convert(r,this.workingColorSpace,o)},colorSpaceToWorking:function(r,o){return this.convert(r,o,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===ws?sg:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,o=this.workingColorSpace){return r.fromArray(this.spaces[o].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,o,l){return r.copy(this.spaces[o].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,o){return cd("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(r,o)},toWorkingColorSpace:function(r,o){return cd("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(r,o)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[au]:{primaries:e,whitePoint:i,transfer:sg,toXYZ:lP,fromXYZ:cP,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Ur},outputColorSpaceConfig:{drawingBufferColorSpace:Ur}},[Ur]:{primaries:e,whitePoint:i,transfer:Qt,toXYZ:lP,fromXYZ:cP,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Ur}}}),t}const kt=yie();function _o(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Xc(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Mc;class bie{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Mc===void 0&&(Mc=cg("canvas")),Mc.width=e.width,Mc.height=e.height;const r=Mc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Mc}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=cg("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),o=r.data;for(let l=0;l<o.length;l++)o[l]=_o(o[l]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(_o(n[i]/255)*255):n[i]=_o(n[i]);return{data:n,width:e.width,height:e.height}}else return pt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let _ie=0;class G1{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_ie++}),this.uuid=Id(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let l=0,c=r.length;l<c;l++)r[l].isDataTexture?o.push(xb(r[l].image)):o.push(xb(r[l]))}else o=xb(r);i.url=o}return n||(e.images[this.uuid]=i),i}}function xb(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?bie.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(pt("Texture: Unable to serialize Texture."),{})}let wie=0;const yb=new re;class ki extends Il{constructor(e=ki.DEFAULT_IMAGE,n=ki.DEFAULT_MAPPING,i=go,r=go,o=Ci,l=pl,c=aa,f=hr,d=ki.DEFAULT_ANISOTROPY,h=ws){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:wie++}),this.uuid=Id(),this.name="",this.source=new G1(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=o,this.minFilter=l,this.anisotropy=d,this.format=c,this.internalFormat=null,this.type=f,this.offset=new _t(0,0),this.repeat=new _t(1,1),this.center=new _t(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Et,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(yb).x}get height(){return this.source.getSize(yb).y}get depth(){return this.source.getSize(yb).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){pt(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){pt(`Texture.setValues(): property '${n}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==cj)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case cw:e.x=e.x-Math.floor(e.x);break;case go:e.x=e.x<0?0:1;break;case uw:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case cw:e.y=e.y-Math.floor(e.y);break;case go:e.y=e.y<0?0:1;break;case uw:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ki.DEFAULT_IMAGE=null;ki.DEFAULT_MAPPING=cj;ki.DEFAULT_ANISOTROPY=1;class Tn{constructor(e=0,n=0,i=0,r=1){Tn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,o=this.w,l=e.elements;return this.x=l[0]*n+l[4]*i+l[8]*r+l[12]*o,this.y=l[1]*n+l[5]*i+l[9]*r+l[13]*o,this.z=l[2]*n+l[6]*i+l[10]*r+l[14]*o,this.w=l[3]*n+l[7]*i+l[11]*r+l[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,o;const f=e.elements,d=f[0],h=f[4],m=f[8],g=f[1],y=f[5],S=f[9],w=f[2],v=f[6],_=f[10];if(Math.abs(h-g)<.01&&Math.abs(m-w)<.01&&Math.abs(S-v)<.01){if(Math.abs(h+g)<.1&&Math.abs(m+w)<.1&&Math.abs(S+v)<.1&&Math.abs(d+y+_-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const T=(d+1)/2,C=(y+1)/2,P=(_+1)/2,O=(h+g)/4,D=(m+w)/4,z=(S+v)/4;return T>C&&T>P?T<.01?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(T),r=O/i,o=D/i):C>P?C<.01?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(C),i=O/r,o=z/r):P<.01?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(P),i=D/o,r=z/o),this.set(i,r,o,n),this}let A=Math.sqrt((v-S)*(v-S)+(m-w)*(m-w)+(g-h)*(g-h));return Math.abs(A)<.001&&(A=1),this.x=(v-S)/A,this.y=(m-w)/A,this.z=(g-h)/A,this.w=Math.acos((d+y+_-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Rt(this.x,e.x,n.x),this.y=Rt(this.y,e.y,n.y),this.z=Rt(this.z,e.z,n.z),this.w=Rt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Rt(this.x,e,n),this.y=Rt(this.y,e,n),this.z=Rt(this.z,e,n),this.w=Rt(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Rt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Sie extends Il{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ci,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new Tn(0,0,e,n),this.scissorTest=!1,this.viewport=new Tn(0,0,e,n);const r={width:e,height:n,depth:i.depth},o=new ki(r);this.textures=[];const l=i.count;for(let c=0;c<l;c++)this.textures[c]=o.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:Ci,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,o=this.textures.length;r<o;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const r=Object.assign({},e.textures[n].image);this.textures[n].source=new G1(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Na extends Sie{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class yj extends ki{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=yi,this.minFilter=yi,this.wrapR=go,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Eie extends ki{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=yi,this.minFilter=yi,this.wrapR=go,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class jd{constructor(e=new re(1/0,1/0,1/0),n=new re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Zr.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Zr.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Zr.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const o=i.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let l=0,c=o.count;l<c;l++)e.isMesh===!0?e.getVertexPosition(l,Zr):Zr.fromBufferAttribute(o,l),Zr.applyMatrix4(e.matrixWorld),this.expandByPoint(Zr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),gp.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),gp.copy(i.boundingBox)),gp.applyMatrix4(e.matrixWorld),this.union(gp)}const r=e.children;for(let o=0,l=r.length;o<l;o++)this.expandByObject(r[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Zr),Zr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Nf),vp.subVectors(this.max,Nf),Ac.subVectors(e.a,Nf),Tc.subVectors(e.b,Nf),Cc.subVectors(e.c,Nf),ds.subVectors(Tc,Ac),hs.subVectors(Cc,Tc),Qs.subVectors(Ac,Cc);let n=[0,-ds.z,ds.y,0,-hs.z,hs.y,0,-Qs.z,Qs.y,ds.z,0,-ds.x,hs.z,0,-hs.x,Qs.z,0,-Qs.x,-ds.y,ds.x,0,-hs.y,hs.x,0,-Qs.y,Qs.x,0];return!bb(n,Ac,Tc,Cc,vp)||(n=[1,0,0,0,1,0,0,0,1],!bb(n,Ac,Tc,Cc,vp))?!1:(xp.crossVectors(ds,hs),n=[xp.x,xp.y,xp.z],bb(n,Ac,Tc,Cc,vp))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Zr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Zr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ao[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ao[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ao[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ao[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ao[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ao[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ao[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ao[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ao),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const ao=[new re,new re,new re,new re,new re,new re,new re,new re],Zr=new re,gp=new jd,Ac=new re,Tc=new re,Cc=new re,ds=new re,hs=new re,Qs=new re,Nf=new re,vp=new re,xp=new re,Js=new re;function bb(t,e,n,i,r){for(let o=0,l=t.length-3;o<=l;o+=3){Js.fromArray(t,o);const c=r.x*Math.abs(Js.x)+r.y*Math.abs(Js.y)+r.z*Math.abs(Js.z),f=e.dot(Js),d=n.dot(Js),h=i.dot(Js);if(Math.max(-Math.max(f,d,h),Math.min(f,d,h))>c)return!1}return!0}const Mie=new jd,Of=new re,_b=new re;class fv{constructor(e=new re,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):Mie.setFromPoints(e).getCenter(i);let r=0;for(let o=0,l=e.length;o<l;o++)r=Math.max(r,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Of.subVectors(e,this.center);const n=Of.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Of,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_b.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Of.copy(e.center).add(_b)),this.expandByPoint(Of.copy(e.center).sub(_b))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const oo=new re,wb=new re,yp=new re,ps=new re,Sb=new re,bp=new re,Eb=new re;class V1{constructor(e=new re,n=new re(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,oo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=oo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(oo.copy(this.origin).addScaledVector(this.direction,n),oo.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){wb.copy(e).add(n).multiplyScalar(.5),yp.copy(n).sub(e).normalize(),ps.copy(this.origin).sub(wb);const o=e.distanceTo(n)*.5,l=-this.direction.dot(yp),c=ps.dot(this.direction),f=-ps.dot(yp),d=ps.lengthSq(),h=Math.abs(1-l*l);let m,g,y,S;if(h>0)if(m=l*f-c,g=l*c-f,S=o*h,m>=0)if(g>=-S)if(g<=S){const w=1/h;m*=w,g*=w,y=m*(m+l*g+2*c)+g*(l*m+g+2*f)+d}else g=o,m=Math.max(0,-(l*g+c)),y=-m*m+g*(g+2*f)+d;else g=-o,m=Math.max(0,-(l*g+c)),y=-m*m+g*(g+2*f)+d;else g<=-S?(m=Math.max(0,-(-l*o+c)),g=m>0?-o:Math.min(Math.max(-o,-f),o),y=-m*m+g*(g+2*f)+d):g<=S?(m=0,g=Math.min(Math.max(-o,-f),o),y=g*(g+2*f)+d):(m=Math.max(0,-(l*o+c)),g=m>0?o:Math.min(Math.max(-o,-f),o),y=-m*m+g*(g+2*f)+d);else g=l>0?-o:o,m=Math.max(0,-(l*g+c)),y=-m*m+g*(g+2*f)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,m),r&&r.copy(wb).addScaledVector(yp,g),y}intersectSphere(e,n){oo.subVectors(e.center,this.origin);const i=oo.dot(this.direction),r=oo.dot(oo)-i*i,o=e.radius*e.radius;if(r>o)return null;const l=Math.sqrt(o-r),c=i-l,f=i+l;return f<0?null:c<0?this.at(f,n):this.at(c,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,o,l,c,f;const d=1/this.direction.x,h=1/this.direction.y,m=1/this.direction.z,g=this.origin;return d>=0?(i=(e.min.x-g.x)*d,r=(e.max.x-g.x)*d):(i=(e.max.x-g.x)*d,r=(e.min.x-g.x)*d),h>=0?(o=(e.min.y-g.y)*h,l=(e.max.y-g.y)*h):(o=(e.max.y-g.y)*h,l=(e.min.y-g.y)*h),i>l||o>r||((o>i||isNaN(i))&&(i=o),(l<r||isNaN(r))&&(r=l),m>=0?(c=(e.min.z-g.z)*m,f=(e.max.z-g.z)*m):(c=(e.max.z-g.z)*m,f=(e.min.z-g.z)*m),i>f||c>r)||((c>i||i!==i)&&(i=c),(f<r||r!==r)&&(r=f),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,oo)!==null}intersectTriangle(e,n,i,r,o){Sb.subVectors(n,e),bp.subVectors(i,e),Eb.crossVectors(Sb,bp);let l=this.direction.dot(Eb),c;if(l>0){if(r)return null;c=1}else if(l<0)c=-1,l=-l;else return null;ps.subVectors(this.origin,e);const f=c*this.direction.dot(bp.crossVectors(ps,bp));if(f<0)return null;const d=c*this.direction.dot(Sb.cross(ps));if(d<0||f+d>l)return null;const h=-c*ps.dot(Eb);return h<0?null:this.at(h/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class wn{constructor(e,n,i,r,o,l,c,f,d,h,m,g,y,S,w,v){wn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,o,l,c,f,d,h,m,g,y,S,w,v)}set(e,n,i,r,o,l,c,f,d,h,m,g,y,S,w,v){const _=this.elements;return _[0]=e,_[4]=n,_[8]=i,_[12]=r,_[1]=o,_[5]=l,_[9]=c,_[13]=f,_[2]=d,_[6]=h,_[10]=m,_[14]=g,_[3]=y,_[7]=S,_[11]=w,_[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new wn().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),i.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this)}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,i=e.elements,r=1/Rc.setFromMatrixColumn(e,0).length(),o=1/Rc.setFromMatrixColumn(e,1).length(),l=1/Rc.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=0,n[8]=i[8]*l,n[9]=i[9]*l,n[10]=i[10]*l,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,o=e.z,l=Math.cos(i),c=Math.sin(i),f=Math.cos(r),d=Math.sin(r),h=Math.cos(o),m=Math.sin(o);if(e.order==="XYZ"){const g=l*h,y=l*m,S=c*h,w=c*m;n[0]=f*h,n[4]=-f*m,n[8]=d,n[1]=y+S*d,n[5]=g-w*d,n[9]=-c*f,n[2]=w-g*d,n[6]=S+y*d,n[10]=l*f}else if(e.order==="YXZ"){const g=f*h,y=f*m,S=d*h,w=d*m;n[0]=g+w*c,n[4]=S*c-y,n[8]=l*d,n[1]=l*m,n[5]=l*h,n[9]=-c,n[2]=y*c-S,n[6]=w+g*c,n[10]=l*f}else if(e.order==="ZXY"){const g=f*h,y=f*m,S=d*h,w=d*m;n[0]=g-w*c,n[4]=-l*m,n[8]=S+y*c,n[1]=y+S*c,n[5]=l*h,n[9]=w-g*c,n[2]=-l*d,n[6]=c,n[10]=l*f}else if(e.order==="ZYX"){const g=l*h,y=l*m,S=c*h,w=c*m;n[0]=f*h,n[4]=S*d-y,n[8]=g*d+w,n[1]=f*m,n[5]=w*d+g,n[9]=y*d-S,n[2]=-d,n[6]=c*f,n[10]=l*f}else if(e.order==="YZX"){const g=l*f,y=l*d,S=c*f,w=c*d;n[0]=f*h,n[4]=w-g*m,n[8]=S*m+y,n[1]=m,n[5]=l*h,n[9]=-c*h,n[2]=-d*h,n[6]=y*m+S,n[10]=g-w*m}else if(e.order==="XZY"){const g=l*f,y=l*d,S=c*f,w=c*d;n[0]=f*h,n[4]=-m,n[8]=d*h,n[1]=g*m+w,n[5]=l*h,n[9]=y*m-S,n[2]=S*m-y,n[6]=c*h,n[10]=w*m+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Aie,e,Tie)}lookAt(e,n,i){const r=this.elements;return ur.subVectors(e,n),ur.lengthSq()===0&&(ur.z=1),ur.normalize(),ms.crossVectors(i,ur),ms.lengthSq()===0&&(Math.abs(i.z)===1?ur.x+=1e-4:ur.z+=1e-4,ur.normalize(),ms.crossVectors(i,ur)),ms.normalize(),_p.crossVectors(ur,ms),r[0]=ms.x,r[4]=_p.x,r[8]=ur.x,r[1]=ms.y,r[5]=_p.y,r[9]=ur.y,r[2]=ms.z,r[6]=_p.z,r[10]=ur.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,o=this.elements,l=i[0],c=i[4],f=i[8],d=i[12],h=i[1],m=i[5],g=i[9],y=i[13],S=i[2],w=i[6],v=i[10],_=i[14],A=i[3],T=i[7],C=i[11],P=i[15],O=r[0],D=r[4],z=r[8],R=r[12],U=r[1],F=r[5],j=r[9],W=r[13],$=r[2],Q=r[6],B=r[10],V=r[14],K=r[3],ge=r[7],ve=r[11],H=r[15];return o[0]=l*O+c*U+f*$+d*K,o[4]=l*D+c*F+f*Q+d*ge,o[8]=l*z+c*j+f*B+d*ve,o[12]=l*R+c*W+f*V+d*H,o[1]=h*O+m*U+g*$+y*K,o[5]=h*D+m*F+g*Q+y*ge,o[9]=h*z+m*j+g*B+y*ve,o[13]=h*R+m*W+g*V+y*H,o[2]=S*O+w*U+v*$+_*K,o[6]=S*D+w*F+v*Q+_*ge,o[10]=S*z+w*j+v*B+_*ve,o[14]=S*R+w*W+v*V+_*H,o[3]=A*O+T*U+C*$+P*K,o[7]=A*D+T*F+C*Q+P*ge,o[11]=A*z+T*j+C*B+P*ve,o[15]=A*R+T*W+C*V+P*H,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],o=e[12],l=e[1],c=e[5],f=e[9],d=e[13],h=e[2],m=e[6],g=e[10],y=e[14],S=e[3],w=e[7],v=e[11],_=e[15],A=f*y-d*g,T=c*y-d*m,C=c*g-f*m,P=l*y-d*h,O=l*g-f*h,D=l*m-c*h;return n*(w*A-v*T+_*C)-i*(S*A-v*P+_*O)+r*(S*T-w*P+_*D)-o*(S*C-w*O+v*D)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],l=e[4],c=e[5],f=e[6],d=e[7],h=e[8],m=e[9],g=e[10],y=e[11],S=e[12],w=e[13],v=e[14],_=e[15],A=m*v*d-w*g*d+w*f*y-c*v*y-m*f*_+c*g*_,T=S*g*d-h*v*d-S*f*y+l*v*y+h*f*_-l*g*_,C=h*w*d-S*m*d+S*c*y-l*w*y-h*c*_+l*m*_,P=S*m*f-h*w*f-S*c*g+l*w*g+h*c*v-l*m*v,O=n*A+i*T+r*C+o*P;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/O;return e[0]=A*D,e[1]=(w*g*o-m*v*o-w*r*y+i*v*y+m*r*_-i*g*_)*D,e[2]=(c*v*o-w*f*o+w*r*d-i*v*d-c*r*_+i*f*_)*D,e[3]=(m*f*o-c*g*o-m*r*d+i*g*d+c*r*y-i*f*y)*D,e[4]=T*D,e[5]=(h*v*o-S*g*o+S*r*y-n*v*y-h*r*_+n*g*_)*D,e[6]=(S*f*o-l*v*o-S*r*d+n*v*d+l*r*_-n*f*_)*D,e[7]=(l*g*o-h*f*o+h*r*d-n*g*d-l*r*y+n*f*y)*D,e[8]=C*D,e[9]=(S*m*o-h*w*o-S*i*y+n*w*y+h*i*_-n*m*_)*D,e[10]=(l*w*o-S*c*o+S*i*d-n*w*d-l*i*_+n*c*_)*D,e[11]=(h*c*o-l*m*o-h*i*d+n*m*d+l*i*y-n*c*y)*D,e[12]=P*D,e[13]=(h*w*r-S*m*r+S*i*g-n*w*g-h*i*v+n*m*v)*D,e[14]=(S*c*r-l*w*r-S*i*f+n*w*f+l*i*v-n*c*v)*D,e[15]=(l*m*r-h*c*r+h*i*f-n*m*f-l*i*g+n*c*g)*D,this}scale(e){const n=this.elements,i=e.x,r=e.y,o=e.z;return n[0]*=i,n[4]*=r,n[8]*=o,n[1]*=i,n[5]*=r,n[9]*=o,n[2]*=i,n[6]*=r,n[10]*=o,n[3]*=i,n[7]*=r,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),o=1-i,l=e.x,c=e.y,f=e.z,d=o*l,h=o*c;return this.set(d*l+i,d*c-r*f,d*f+r*c,0,d*c+r*f,h*c+i,h*f-r*l,0,d*f-r*c,h*f+r*l,o*f*f+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,o,l){return this.set(1,i,o,0,e,1,l,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,o=n._x,l=n._y,c=n._z,f=n._w,d=o+o,h=l+l,m=c+c,g=o*d,y=o*h,S=o*m,w=l*h,v=l*m,_=c*m,A=f*d,T=f*h,C=f*m,P=i.x,O=i.y,D=i.z;return r[0]=(1-(w+_))*P,r[1]=(y+C)*P,r[2]=(S-T)*P,r[3]=0,r[4]=(y-C)*O,r[5]=(1-(g+_))*O,r[6]=(v+A)*O,r[7]=0,r[8]=(S+T)*D,r[9]=(v-A)*D,r[10]=(1-(g+w))*D,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;if(e.x=r[12],e.y=r[13],e.z=r[14],this.determinant()===0)return i.set(1,1,1),n.identity(),this;let o=Rc.set(r[0],r[1],r[2]).length();const l=Rc.set(r[4],r[5],r[6]).length(),c=Rc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),Qr.copy(this);const d=1/o,h=1/l,m=1/c;return Qr.elements[0]*=d,Qr.elements[1]*=d,Qr.elements[2]*=d,Qr.elements[4]*=h,Qr.elements[5]*=h,Qr.elements[6]*=h,Qr.elements[8]*=m,Qr.elements[9]*=m,Qr.elements[10]*=m,n.setFromRotationMatrix(Qr),i.x=o,i.y=l,i.z=c,this}makePerspective(e,n,i,r,o,l,c=Ta,f=!1){const d=this.elements,h=2*o/(n-e),m=2*o/(i-r),g=(n+e)/(n-e),y=(i+r)/(i-r);let S,w;if(f)S=o/(l-o),w=l*o/(l-o);else if(c===Ta)S=-(l+o)/(l-o),w=-2*l*o/(l-o);else if(c===lg)S=-l/(l-o),w=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return d[0]=h,d[4]=0,d[8]=g,d[12]=0,d[1]=0,d[5]=m,d[9]=y,d[13]=0,d[2]=0,d[6]=0,d[10]=S,d[14]=w,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,n,i,r,o,l,c=Ta,f=!1){const d=this.elements,h=2/(n-e),m=2/(i-r),g=-(n+e)/(n-e),y=-(i+r)/(i-r);let S,w;if(f)S=1/(l-o),w=l/(l-o);else if(c===Ta)S=-2/(l-o),w=-(l+o)/(l-o);else if(c===lg)S=-1/(l-o),w=-o/(l-o);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return d[0]=h,d[4]=0,d[8]=0,d[12]=g,d[1]=0,d[5]=m,d[9]=0,d[13]=y,d[2]=0,d[6]=0,d[10]=S,d[14]=w,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Rc=new re,Qr=new wn,Aie=new re(0,0,0),Tie=new re(1,1,1),ms=new re,_p=new re,ur=new re,uP=new wn,fP=new Ol;class Ua{constructor(e=0,n=0,i=0,r=Ua.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,o=r[0],l=r[4],c=r[8],f=r[1],d=r[5],h=r[9],m=r[2],g=r[6],y=r[10];switch(n){case"XYZ":this._y=Math.asin(Rt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,y),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(g,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Rt(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(c,y),this._z=Math.atan2(f,d)):(this._y=Math.atan2(-m,o),this._z=0);break;case"ZXY":this._x=Math.asin(Rt(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-m,y),this._z=Math.atan2(-l,d)):(this._y=0,this._z=Math.atan2(f,o));break;case"ZYX":this._y=Math.asin(-Rt(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(g,y),this._z=Math.atan2(f,o)):(this._x=0,this._z=Math.atan2(-l,d));break;case"YZX":this._z=Math.asin(Rt(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-h,d),this._y=Math.atan2(-m,o)):(this._x=0,this._y=Math.atan2(c,y));break;case"XZY":this._z=Math.asin(-Rt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(g,d),this._y=Math.atan2(c,o)):(this._x=Math.atan2(-h,y),this._y=0);break;default:pt("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return uP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(uP,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return fP.setFromEuler(this),this.setFromQuaternion(fP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ua.DEFAULT_ORDER="XYZ";class bj{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Cie=0;const dP=new re,Nc=new Ol,so=new wn,wp=new re,Pf=new re,Rie=new re,Nie=new Ol,hP=new re(1,0,0),pP=new re(0,1,0),mP=new re(0,0,1),gP={type:"added"},Oie={type:"removed"},Oc={type:"childadded",child:null},Mb={type:"childremoved",child:null};class bi extends Il{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Cie++}),this.uuid=Id(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=bi.DEFAULT_UP.clone();const e=new re,n=new Ua,i=new Ol,r=new re(1,1,1);function o(){i.setFromEuler(n,!1)}function l(){n.setFromQuaternion(i,void 0,!1)}n._onChange(o),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new wn},normalMatrix:{value:new Et}}),this.matrix=new wn,this.matrixWorld=new wn,this.matrixAutoUpdate=bi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=bi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new bj,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Nc.setFromAxisAngle(e,n),this.quaternion.multiply(Nc),this}rotateOnWorldAxis(e,n){return Nc.setFromAxisAngle(e,n),this.quaternion.premultiply(Nc),this}rotateX(e){return this.rotateOnAxis(hP,e)}rotateY(e){return this.rotateOnAxis(pP,e)}rotateZ(e){return this.rotateOnAxis(mP,e)}translateOnAxis(e,n){return dP.copy(e).applyQuaternion(this.quaternion),this.position.add(dP.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(hP,e)}translateY(e){return this.translateOnAxis(pP,e)}translateZ(e){return this.translateOnAxis(mP,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(so.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?wp.copy(e):wp.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Pf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?so.lookAt(Pf,wp,this.up):so.lookAt(wp,Pf,this.up),this.quaternion.setFromRotationMatrix(so),r&&(so.extractRotation(r.matrixWorld),Nc.setFromRotationMatrix(so),this.quaternion.premultiply(Nc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(Bt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(gP),Oc.child=e,this.dispatchEvent(Oc),Oc.child=null):Bt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Oie),Mb.child=e,this.dispatchEvent(Mb),Mb.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),so.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),so.multiply(e.parent.matrixWorld)),e.applyMatrix4(so),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(gP),Oc.child=e,this.dispatchEvent(Oc),Oc.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const l=this.children[i].getObjectByProperty(e,n);if(l!==void 0)return l}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pf,e,Rie),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pf,Nie,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(c=>({...c})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function o(c,f){return c[f.uuid]===void 0&&(c[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const f=c.shapes;if(Array.isArray(f))for(let d=0,h=f.length;d<h;d++){const m=f[d];o(e.shapes,m)}else o(e.shapes,f)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let f=0,d=this.material.length;f<d;f++)c.push(o(e.materials,this.material[f]));r.material=c}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let c=0;c<this.children.length;c++)r.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let c=0;c<this.animations.length;c++){const f=this.animations[c];r.animations.push(o(e.animations,f))}}if(n){const c=l(e.geometries),f=l(e.materials),d=l(e.textures),h=l(e.images),m=l(e.shapes),g=l(e.skeletons),y=l(e.animations),S=l(e.nodes);c.length>0&&(i.geometries=c),f.length>0&&(i.materials=f),d.length>0&&(i.textures=d),h.length>0&&(i.images=h),m.length>0&&(i.shapes=m),g.length>0&&(i.skeletons=g),y.length>0&&(i.animations=y),S.length>0&&(i.nodes=S)}return i.object=r,i;function l(c){const f=[];for(const d in c){const h=c[d];delete h.metadata,f.push(h)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}bi.DEFAULT_UP=new re(0,1,0);bi.DEFAULT_MATRIX_AUTO_UPDATE=!0;bi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Jr=new re,lo=new re,Ab=new re,co=new re,Pc=new re,Dc=new re,vP=new re,Tb=new re,Cb=new re,Rb=new re,Nb=new Tn,Ob=new Tn,Pb=new Tn;class ra{constructor(e=new re,n=new re,i=new re){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Jr.subVectors(e,n),r.cross(Jr);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,n,i,r,o){Jr.subVectors(r,n),lo.subVectors(i,n),Ab.subVectors(e,n);const l=Jr.dot(Jr),c=Jr.dot(lo),f=Jr.dot(Ab),d=lo.dot(lo),h=lo.dot(Ab),m=l*d-c*c;if(m===0)return o.set(0,0,0),null;const g=1/m,y=(d*f-c*h)*g,S=(l*h-c*f)*g;return o.set(1-y-S,S,y)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,co)===null?!1:co.x>=0&&co.y>=0&&co.x+co.y<=1}static getInterpolation(e,n,i,r,o,l,c,f){return this.getBarycoord(e,n,i,r,co)===null?(f.x=0,f.y=0,"z"in f&&(f.z=0),"w"in f&&(f.w=0),null):(f.setScalar(0),f.addScaledVector(o,co.x),f.addScaledVector(l,co.y),f.addScaledVector(c,co.z),f)}static getInterpolatedAttribute(e,n,i,r,o,l){return Nb.setScalar(0),Ob.setScalar(0),Pb.setScalar(0),Nb.fromBufferAttribute(e,n),Ob.fromBufferAttribute(e,i),Pb.fromBufferAttribute(e,r),l.setScalar(0),l.addScaledVector(Nb,o.x),l.addScaledVector(Ob,o.y),l.addScaledVector(Pb,o.z),l}static isFrontFacing(e,n,i,r){return Jr.subVectors(i,n),lo.subVectors(e,n),Jr.cross(lo).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jr.subVectors(this.c,this.b),lo.subVectors(this.a,this.b),Jr.cross(lo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ra.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ra.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,o){return ra.getInterpolation(e,this.a,this.b,this.c,n,i,r,o)}containsPoint(e){return ra.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ra.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,o=this.c;let l,c;Pc.subVectors(r,i),Dc.subVectors(o,i),Tb.subVectors(e,i);const f=Pc.dot(Tb),d=Dc.dot(Tb);if(f<=0&&d<=0)return n.copy(i);Cb.subVectors(e,r);const h=Pc.dot(Cb),m=Dc.dot(Cb);if(h>=0&&m<=h)return n.copy(r);const g=f*m-h*d;if(g<=0&&f>=0&&h<=0)return l=f/(f-h),n.copy(i).addScaledVector(Pc,l);Rb.subVectors(e,o);const y=Pc.dot(Rb),S=Dc.dot(Rb);if(S>=0&&y<=S)return n.copy(o);const w=y*d-f*S;if(w<=0&&d>=0&&S<=0)return c=d/(d-S),n.copy(i).addScaledVector(Dc,c);const v=h*S-y*m;if(v<=0&&m-h>=0&&y-S>=0)return vP.subVectors(o,r),c=(m-h)/(m-h+(y-S)),n.copy(r).addScaledVector(vP,c);const _=1/(v+w+g);return l=w*_,c=g*_,n.copy(i).addScaledVector(Pc,l).addScaledVector(Dc,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const _j={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},gs={h:0,s:0,l:0},Sp={h:0,s:0,l:0};function Db(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Dt{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ur){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,kt.colorSpaceToWorking(this,n),this}setRGB(e,n,i,r=kt.workingColorSpace){return this.r=e,this.g=n,this.b=i,kt.colorSpaceToWorking(this,r),this}setHSL(e,n,i,r=kt.workingColorSpace){if(e=vie(e,1),n=Rt(n,0,1),i=Rt(i,0,1),n===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+n):i+n-i*n,l=2*i-o;this.r=Db(l,o,e+1/3),this.g=Db(l,o,e),this.b=Db(l,o,e-1/3)}return kt.colorSpaceToWorking(this,r),this}setStyle(e,n=Ur){function i(o){o!==void 0&&parseFloat(o)<1&&pt("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const l=r[1],c=r[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:pt("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(l===6)return this.setHex(parseInt(o,16),n);pt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Ur){const i=_j[e.toLowerCase()];return i!==void 0?this.setHex(i,n):pt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=_o(e.r),this.g=_o(e.g),this.b=_o(e.b),this}copyLinearToSRGB(e){return this.r=Xc(e.r),this.g=Xc(e.g),this.b=Xc(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ur){return kt.workingToColorSpace(Ei.copy(this),e),Math.round(Rt(Ei.r*255,0,255))*65536+Math.round(Rt(Ei.g*255,0,255))*256+Math.round(Rt(Ei.b*255,0,255))}getHexString(e=Ur){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=kt.workingColorSpace){kt.workingToColorSpace(Ei.copy(this),n);const i=Ei.r,r=Ei.g,o=Ei.b,l=Math.max(i,r,o),c=Math.min(i,r,o);let f,d;const h=(c+l)/2;if(c===l)f=0,d=0;else{const m=l-c;switch(d=h<=.5?m/(l+c):m/(2-l-c),l){case i:f=(r-o)/m+(r<o?6:0);break;case r:f=(o-i)/m+2;break;case o:f=(i-r)/m+4;break}f/=6}return e.h=f,e.s=d,e.l=h,e}getRGB(e,n=kt.workingColorSpace){return kt.workingToColorSpace(Ei.copy(this),n),e.r=Ei.r,e.g=Ei.g,e.b=Ei.b,e}getStyle(e=Ur){kt.workingToColorSpace(Ei.copy(this),e);const n=Ei.r,i=Ei.g,r=Ei.b;return e!==Ur?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(gs),this.setHSL(gs.h+e,gs.s+n,gs.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(gs),e.getHSL(Sp);const i=mb(gs.h,Sp.h,n),r=mb(gs.s,Sp.s,n),o=mb(gs.l,Sp.l,n);return this.setHSL(i,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,o=e.elements;return this.r=o[0]*n+o[3]*i+o[6]*r,this.g=o[1]*n+o[4]*i+o[7]*r,this.b=o[2]*n+o[5]*i+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ei=new Dt;Dt.NAMES=_j;let Pie=0;class _u extends Il{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Pie++}),this.uuid=Id(),this.name="",this.type="Material",this.blending=qc,this.side=Ns,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Q_,this.blendDst=J_,this.blendEquation=sl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Dt(0,0,0),this.blendAlpha=0,this.depthFunc=nu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=nP,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ec,this.stencilZFail=Ec,this.stencilZPass=Ec,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){pt(`Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){pt(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==qc&&(i.blending=this.blending),this.side!==Ns&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Q_&&(i.blendSrc=this.blendSrc),this.blendDst!==J_&&(i.blendDst=this.blendDst),this.blendEquation!==sl&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==nu&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==nP&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ec&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Ec&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Ec&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.allowOverride===!1&&(i.allowOverride=!1),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(o){const l=[];for(const c in o){const f=o[c];delete f.metadata,l.push(f)}return l}if(n){const o=r(e.textures),l=r(e.images);o.length>0&&(i.textures=o),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let o=0;o!==r;++o)i[o]=n[o].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class wj extends _u{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Dt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ua,this.combine=tj,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const jn=new re,Ep=new _t;let Die=0;class sa{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Die++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=iP,this.updateRanges=[],this.gpuType=Aa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Ep.fromBufferAttribute(this,n),Ep.applyMatrix3(e),this.setXY(n,Ep.x,Ep.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)jn.fromBufferAttribute(this,n),jn.applyMatrix3(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)jn.fromBufferAttribute(this,n),jn.applyMatrix4(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)jn.fromBufferAttribute(this,n),jn.applyNormalMatrix(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)jn.fromBufferAttribute(this,n),jn.transformDirection(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Rf(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=$i(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Rf(n,this.array)),n}setX(e,n){return this.normalized&&(n=$i(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Rf(n,this.array)),n}setY(e,n){return this.normalized&&(n=$i(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Rf(n,this.array)),n}setZ(e,n){return this.normalized&&(n=$i(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Rf(n,this.array)),n}setW(e,n){return this.normalized&&(n=$i(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=$i(n,this.array),i=$i(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=$i(n,this.array),i=$i(i,this.array),r=$i(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,o){return e*=this.itemSize,this.normalized&&(n=$i(n,this.array),i=$i(i,this.array),r=$i(r,this.array),o=$i(o,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==iP&&(e.usage=this.usage),e}}class Sj extends sa{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class Ej extends sa{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class vr extends sa{constructor(e,n,i){super(new Float32Array(e),n,i)}}let Lie=0;const Dr=new wn,Lb=new bi,Lc=new re,fr=new jd,Df=new jd,Kn=new re;class Vr extends Il{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Lie++}),this.uuid=Id(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(xj(e)?Ej:Sj)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new Et().getNormalMatrix(e);i.applyNormalMatrix(o),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Dr.makeRotationFromQuaternion(e),this.applyMatrix4(Dr),this}rotateX(e){return Dr.makeRotationX(e),this.applyMatrix4(Dr),this}rotateY(e){return Dr.makeRotationY(e),this.applyMatrix4(Dr),this}rotateZ(e){return Dr.makeRotationZ(e),this.applyMatrix4(Dr),this}translate(e,n,i){return Dr.makeTranslation(e,n,i),this.applyMatrix4(Dr),this}scale(e,n,i){return Dr.makeScale(e,n,i),this.applyMatrix4(Dr),this}lookAt(e){return Lb.lookAt(e),Lb.updateMatrix(),this.applyMatrix4(Lb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Lc).negate(),this.translate(Lc.x,Lc.y,Lc.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,o=e.length;r<o;r++){const l=e[r];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new vr(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const o=e[r];n.setXYZ(r,o.x,o.y,o.z||0)}e.length>n.count&&pt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new jd);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Bt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new re(-1/0,-1/0,-1/0),new re(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const o=n[i];fr.setFromBufferAttribute(o),this.morphTargetsRelative?(Kn.addVectors(this.boundingBox.min,fr.min),this.boundingBox.expandByPoint(Kn),Kn.addVectors(this.boundingBox.max,fr.max),this.boundingBox.expandByPoint(Kn)):(this.boundingBox.expandByPoint(fr.min),this.boundingBox.expandByPoint(fr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Bt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new fv);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Bt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new re,1/0);return}if(e){const i=this.boundingSphere.center;if(fr.setFromBufferAttribute(e),n)for(let o=0,l=n.length;o<l;o++){const c=n[o];Df.setFromBufferAttribute(c),this.morphTargetsRelative?(Kn.addVectors(fr.min,Df.min),fr.expandByPoint(Kn),Kn.addVectors(fr.max,Df.max),fr.expandByPoint(Kn)):(fr.expandByPoint(Df.min),fr.expandByPoint(Df.max))}fr.getCenter(i);let r=0;for(let o=0,l=e.count;o<l;o++)Kn.fromBufferAttribute(e,o),r=Math.max(r,i.distanceToSquared(Kn));if(n)for(let o=0,l=n.length;o<l;o++){const c=n[o],f=this.morphTargetsRelative;for(let d=0,h=c.count;d<h;d++)Kn.fromBufferAttribute(c,d),f&&(Lc.fromBufferAttribute(e,d),Kn.add(Lc)),r=Math.max(r,i.distanceToSquared(Kn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&Bt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){Bt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new sa(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),c=[],f=[];for(let z=0;z<i.count;z++)c[z]=new re,f[z]=new re;const d=new re,h=new re,m=new re,g=new _t,y=new _t,S=new _t,w=new re,v=new re;function _(z,R,U){d.fromBufferAttribute(i,z),h.fromBufferAttribute(i,R),m.fromBufferAttribute(i,U),g.fromBufferAttribute(o,z),y.fromBufferAttribute(o,R),S.fromBufferAttribute(o,U),h.sub(d),m.sub(d),y.sub(g),S.sub(g);const F=1/(y.x*S.y-S.x*y.y);isFinite(F)&&(w.copy(h).multiplyScalar(S.y).addScaledVector(m,-y.y).multiplyScalar(F),v.copy(m).multiplyScalar(y.x).addScaledVector(h,-S.x).multiplyScalar(F),c[z].add(w),c[R].add(w),c[U].add(w),f[z].add(v),f[R].add(v),f[U].add(v))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let z=0,R=A.length;z<R;++z){const U=A[z],F=U.start,j=U.count;for(let W=F,$=F+j;W<$;W+=3)_(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const T=new re,C=new re,P=new re,O=new re;function D(z){P.fromBufferAttribute(r,z),O.copy(P);const R=c[z];T.copy(R),T.sub(P.multiplyScalar(P.dot(R))).normalize(),C.crossVectors(O,R);const F=C.dot(f[z])<0?-1:1;l.setXYZW(z,T.x,T.y,T.z,F)}for(let z=0,R=A.length;z<R;++z){const U=A[z],F=U.start,j=U.count;for(let W=F,$=F+j;W<$;W+=3)D(e.getX(W+0)),D(e.getX(W+1)),D(e.getX(W+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new sa(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let g=0,y=i.count;g<y;g++)i.setXYZ(g,0,0,0);const r=new re,o=new re,l=new re,c=new re,f=new re,d=new re,h=new re,m=new re;if(e)for(let g=0,y=e.count;g<y;g+=3){const S=e.getX(g+0),w=e.getX(g+1),v=e.getX(g+2);r.fromBufferAttribute(n,S),o.fromBufferAttribute(n,w),l.fromBufferAttribute(n,v),h.subVectors(l,o),m.subVectors(r,o),h.cross(m),c.fromBufferAttribute(i,S),f.fromBufferAttribute(i,w),d.fromBufferAttribute(i,v),c.add(h),f.add(h),d.add(h),i.setXYZ(S,c.x,c.y,c.z),i.setXYZ(w,f.x,f.y,f.z),i.setXYZ(v,d.x,d.y,d.z)}else for(let g=0,y=n.count;g<y;g+=3)r.fromBufferAttribute(n,g+0),o.fromBufferAttribute(n,g+1),l.fromBufferAttribute(n,g+2),h.subVectors(l,o),m.subVectors(r,o),h.cross(m),i.setXYZ(g+0,h.x,h.y,h.z),i.setXYZ(g+1,h.x,h.y,h.z),i.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Kn.fromBufferAttribute(e,n),Kn.normalize(),e.setXYZ(n,Kn.x,Kn.y,Kn.z)}toNonIndexed(){function e(c,f){const d=c.array,h=c.itemSize,m=c.normalized,g=new d.constructor(f.length*h);let y=0,S=0;for(let w=0,v=f.length;w<v;w++){c.isInterleavedBufferAttribute?y=f[w]*c.data.stride+c.offset:y=f[w]*h;for(let _=0;_<h;_++)g[S++]=d[y++]}return new sa(g,h,m)}if(this.index===null)return pt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Vr,i=this.index.array,r=this.attributes;for(const c in r){const f=r[c],d=e(f,i);n.setAttribute(c,d)}const o=this.morphAttributes;for(const c in o){const f=[],d=o[c];for(let h=0,m=d.length;h<m;h++){const g=d[h],y=e(g,i);f.push(y)}n.morphAttributes[c]=f}n.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let c=0,f=l.length;c<f;c++){const d=l[c];n.addGroup(d.start,d.count,d.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const d in f)f[d]!==void 0&&(e[d]=f[d]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const f in i){const d=i[f];e.data.attributes[f]=d.toJSON(e.data)}const r={};let o=!1;for(const f in this.morphAttributes){const d=this.morphAttributes[f],h=[];for(let m=0,g=d.length;m<g;m++){const y=d[m];h.push(y.toJSON(e.data))}h.length>0&&(r[f]=h,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere=c.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const d in r){const h=r[d];this.setAttribute(d,h.clone(n))}const o=e.morphAttributes;for(const d in o){const h=[],m=o[d];for(let g=0,y=m.length;g<y;g++)h.push(m[g].clone(n));this.morphAttributes[d]=h}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let d=0,h=l.length;d<h;d++){const m=l[d];this.addGroup(m.start,m.count,m.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const xP=new wn,el=new V1,Mp=new fv,yP=new re,Ap=new re,Tp=new re,Cp=new re,Ub=new re,Rp=new re,bP=new re,Np=new re;class mr extends bi{constructor(e=new Vr,n=new wj){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const c=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=o}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,o=i.morphAttributes.position,l=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const c=this.morphTargetInfluences;if(o&&c){Rp.set(0,0,0);for(let f=0,d=o.length;f<d;f++){const h=c[f],m=o[f];h!==0&&(Ub.fromBufferAttribute(m,e),l?Rp.addScaledVector(Ub,h):Rp.addScaledVector(Ub.sub(n),h))}n.add(Rp)}return n}raycast(e,n){const i=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Mp.copy(i.boundingSphere),Mp.applyMatrix4(o),el.copy(e.ray).recast(e.near),!(Mp.containsPoint(el.origin)===!1&&(el.intersectSphere(Mp,yP)===null||el.origin.distanceToSquared(yP)>(e.far-e.near)**2))&&(xP.copy(o).invert(),el.copy(e.ray).applyMatrix4(xP),!(i.boundingBox!==null&&el.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,el)))}_computeIntersections(e,n,i){let r;const o=this.geometry,l=this.material,c=o.index,f=o.attributes.position,d=o.attributes.uv,h=o.attributes.uv1,m=o.attributes.normal,g=o.groups,y=o.drawRange;if(c!==null)if(Array.isArray(l))for(let S=0,w=g.length;S<w;S++){const v=g[S],_=l[v.materialIndex],A=Math.max(v.start,y.start),T=Math.min(c.count,Math.min(v.start+v.count,y.start+y.count));for(let C=A,P=T;C<P;C+=3){const O=c.getX(C),D=c.getX(C+1),z=c.getX(C+2);r=Op(this,_,e,i,d,h,m,O,D,z),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=v.materialIndex,n.push(r))}}else{const S=Math.max(0,y.start),w=Math.min(c.count,y.start+y.count);for(let v=S,_=w;v<_;v+=3){const A=c.getX(v),T=c.getX(v+1),C=c.getX(v+2);r=Op(this,l,e,i,d,h,m,A,T,C),r&&(r.faceIndex=Math.floor(v/3),n.push(r))}}else if(f!==void 0)if(Array.isArray(l))for(let S=0,w=g.length;S<w;S++){const v=g[S],_=l[v.materialIndex],A=Math.max(v.start,y.start),T=Math.min(f.count,Math.min(v.start+v.count,y.start+y.count));for(let C=A,P=T;C<P;C+=3){const O=C,D=C+1,z=C+2;r=Op(this,_,e,i,d,h,m,O,D,z),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=v.materialIndex,n.push(r))}}else{const S=Math.max(0,y.start),w=Math.min(f.count,y.start+y.count);for(let v=S,_=w;v<_;v+=3){const A=v,T=v+1,C=v+2;r=Op(this,l,e,i,d,h,m,A,T,C),r&&(r.faceIndex=Math.floor(v/3),n.push(r))}}}}function Uie(t,e,n,i,r,o,l,c){let f;if(e.side===tr?f=i.intersectTriangle(l,o,r,!0,c):f=i.intersectTriangle(r,o,l,e.side===Ns,c),f===null)return null;Np.copy(c),Np.applyMatrix4(t.matrixWorld);const d=n.ray.origin.distanceTo(Np);return d<n.near||d>n.far?null:{distance:d,point:Np.clone(),object:t}}function Op(t,e,n,i,r,o,l,c,f,d){t.getVertexPosition(c,Ap),t.getVertexPosition(f,Tp),t.getVertexPosition(d,Cp);const h=Uie(t,e,n,i,Ap,Tp,Cp,bP);if(h){const m=new re;ra.getBarycoord(bP,Ap,Tp,Cp,m),r&&(h.uv=ra.getInterpolatedAttribute(r,c,f,d,m,new _t)),o&&(h.uv1=ra.getInterpolatedAttribute(o,c,f,d,m,new _t)),l&&(h.normal=ra.getInterpolatedAttribute(l,c,f,d,m,new re),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const g={a:c,b:f,c:d,normal:new re,materialIndex:0};ra.getNormal(Ap,Tp,Cp,g.normal),h.face=g,h.barycoord=m}return h}class Ts extends Vr{constructor(e=1,n=1,i=1,r=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:l};const c=this;r=Math.floor(r),o=Math.floor(o),l=Math.floor(l);const f=[],d=[],h=[],m=[];let g=0,y=0;S("z","y","x",-1,-1,i,n,e,l,o,0),S("z","y","x",1,-1,i,n,-e,l,o,1),S("x","z","y",1,1,e,i,n,r,l,2),S("x","z","y",1,-1,e,i,-n,r,l,3),S("x","y","z",1,-1,e,n,i,r,o,4),S("x","y","z",-1,-1,e,n,-i,r,o,5),this.setIndex(f),this.setAttribute("position",new vr(d,3)),this.setAttribute("normal",new vr(h,3)),this.setAttribute("uv",new vr(m,2));function S(w,v,_,A,T,C,P,O,D,z,R){const U=C/D,F=P/z,j=C/2,W=P/2,$=O/2,Q=D+1,B=z+1;let V=0,K=0;const ge=new re;for(let ve=0;ve<B;ve++){const H=ve*F-W;for(let ne=0;ne<Q;ne++){const ye=ne*U-j;ge[w]=ye*A,ge[v]=H*T,ge[_]=$,d.push(ge.x,ge.y,ge.z),ge[w]=0,ge[v]=0,ge[_]=O>0?1:-1,h.push(ge.x,ge.y,ge.z),m.push(ne/D),m.push(1-ve/z),V+=1}}for(let ve=0;ve<z;ve++)for(let H=0;H<D;H++){const ne=g+H+Q*ve,ye=g+H+Q*(ve+1),Te=g+(H+1)+Q*(ve+1),Ie=g+(H+1)+Q*ve;f.push(ne,ye,Ie),f.push(ye,Te,Ie),K+=6}c.addGroup(y,K,R),y+=K,g+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ts(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ou(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(pt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Pi(t){const e={};for(let n=0;n<t.length;n++){const i=ou(t[n]);for(const r in i)e[r]=i[r]}return e}function kie(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Mj(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:kt.workingColorSpace}const Iie={clone:ou,merge:Pi};var jie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Bie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ka extends _u{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=jie,this.fragmentShader=Bie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ou(e.uniforms),this.uniformsGroups=kie(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const l=this.uniforms[r].value;l&&l.isTexture?n.uniforms[r]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?n.uniforms[r]={type:"c",value:l.getHex()}:l&&l.isVector2?n.uniforms[r]={type:"v2",value:l.toArray()}:l&&l.isVector3?n.uniforms[r]={type:"v3",value:l.toArray()}:l&&l.isVector4?n.uniforms[r]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?n.uniforms[r]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?n.uniforms[r]={type:"m4",value:l.toArray()}:n.uniforms[r]={value:l}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class Aj extends bi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new wn,this.projectionMatrix=new wn,this.projectionMatrixInverse=new wn,this.coordinateSystem=Ta,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const vs=new re,_P=new _t,wP=new _t;class kr extends Aj{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Gw*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(nm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Gw*2*Math.atan(Math.tan(nm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){vs.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(vs.x,vs.y).multiplyScalar(-e/vs.z),vs.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(vs.x,vs.y).multiplyScalar(-e/vs.z)}getViewSize(e,n){return this.getViewBounds(e,_P,wP),n.subVectors(wP,_P)}setViewOffset(e,n,i,r,o,l){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(nm*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,o=-.5*r;const l=this.view;if(this.view!==null&&this.view.enabled){const f=l.fullWidth,d=l.fullHeight;o+=l.offsetX*r/f,n-=l.offsetY*i/d,r*=l.width/f,i*=l.height/d}const c=this.filmOffset;c!==0&&(o+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,n,n-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Uc=-90,kc=1;class Fie extends bi{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new kr(Uc,kc,e,n);r.layers=this.layers,this.add(r);const o=new kr(Uc,kc,e,n);o.layers=this.layers,this.add(o);const l=new kr(Uc,kc,e,n);l.layers=this.layers,this.add(l);const c=new kr(Uc,kc,e,n);c.layers=this.layers,this.add(c);const f=new kr(Uc,kc,e,n);f.layers=this.layers,this.add(f);const d=new kr(Uc,kc,e,n);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,o,l,c,f]=n;for(const d of n)this.remove(d);if(e===Ta)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else if(e===lg)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of n)this.add(d),d.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,l,c,f,d,h]=this.children,m=e.getRenderTarget(),g=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),S=e.xr.enabled;e.xr.enabled=!1;const w=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,o),e.setRenderTarget(i,1,r),e.render(n,l),e.setRenderTarget(i,2,r),e.render(n,c),e.setRenderTarget(i,3,r),e.render(n,f),e.setRenderTarget(i,4,r),e.render(n,d),i.texture.generateMipmaps=w,e.setRenderTarget(i,5,r),e.render(n,h),e.setRenderTarget(m,g,y),e.xr.enabled=S,i.texture.needsPMREMUpdate=!0}}class Tj extends ki{constructor(e=[],n=Nl,i,r,o,l,c,f,d,h){super(e,n,i,r,o,l,c,f,d,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Cj extends Na{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Tj(r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Ts(5,5,5),o=new ka({name:"CubemapFromEquirect",uniforms:ou(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:tr,blending:bo});o.uniforms.tEquirect.value=n;const l=new mr(r,o),c=n.minFilter;return n.minFilter===pl&&(n.minFilter=Ci),new Fie(1,10,this).update(e,l),n.minFilter=c,l.geometry.dispose(),l.material.dispose(),this}clear(e,n=!0,i=!0,r=!0){const o=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(n,i,r);e.setRenderTarget(o)}}class Pp extends bi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const zie={type:"move"};class kb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Pp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Pp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Pp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new re),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,o=null,l=null;const c=this._targetRay,f=this._grip,d=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(d&&e.hand){l=!0;for(const w of e.hand.values()){const v=n.getJointPose(w,i),_=this._getHandJoint(d,w);v!==null&&(_.matrix.fromArray(v.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=v.radius),_.visible=v!==null}const h=d.joints["index-finger-tip"],m=d.joints["thumb-tip"],g=h.position.distanceTo(m.position),y=.02,S=.005;d.inputState.pinching&&g>y+S?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&g<=y-S&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,i),o!==null&&(f.matrix.fromArray(o.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,o.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(o.linearVelocity)):f.hasLinearVelocity=!1,o.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(o.angularVelocity)):f.hasAngularVelocity=!1));c!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&o!==null&&(r=o),r!==null&&(c.matrix.fromArray(r.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,r.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(r.linearVelocity)):c.hasLinearVelocity=!1,r.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(r.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(zie)))}return c!==null&&(c.visible=r!==null),f!==null&&(f.visible=o!==null),d!==null&&(d.visible=l!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Pp;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class Hie extends bi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ua,this.environmentIntensity=1,this.environmentRotation=new Ua,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Gie extends ki{constructor(e=null,n=1,i=1,r,o,l,c,f,d=yi,h=yi,m,g){super(null,l,c,f,d,h,r,o,m,g),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Ib=new re,Vie=new re,Wie=new Et;class bs{constructor(e=new re(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=Ib.subVectors(i,n).cross(Vie.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(Ib),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:n.copy(e.start).addScaledVector(i,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||Wie.getNormalMatrix(e),r=this.coplanarPoint(Ib).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const tl=new fv,qie=new _t(.5,.5),Dp=new re;class W1{constructor(e=new bs,n=new bs,i=new bs,r=new bs,o=new bs,l=new bs){this.planes=[e,n,i,r,o,l]}set(e,n,i,r,o,l){const c=this.planes;return c[0].copy(e),c[1].copy(n),c[2].copy(i),c[3].copy(r),c[4].copy(o),c[5].copy(l),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Ta,i=!1){const r=this.planes,o=e.elements,l=o[0],c=o[1],f=o[2],d=o[3],h=o[4],m=o[5],g=o[6],y=o[7],S=o[8],w=o[9],v=o[10],_=o[11],A=o[12],T=o[13],C=o[14],P=o[15];if(r[0].setComponents(d-l,y-h,_-S,P-A).normalize(),r[1].setComponents(d+l,y+h,_+S,P+A).normalize(),r[2].setComponents(d+c,y+m,_+w,P+T).normalize(),r[3].setComponents(d-c,y-m,_-w,P-T).normalize(),i)r[4].setComponents(f,g,v,C).normalize(),r[5].setComponents(d-f,y-g,_-v,P-C).normalize();else if(r[4].setComponents(d-f,y-g,_-v,P-C).normalize(),n===Ta)r[5].setComponents(d+f,y+g,_+v,P+C).normalize();else if(n===lg)r[5].setComponents(f,g,v,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),tl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),tl.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(tl)}intersectsSprite(e){tl.center.set(0,0,0);const n=qie.distanceTo(e.center);return tl.radius=.7071067811865476+n,tl.applyMatrix4(e.matrixWorld),this.intersectsSphere(tl)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(Dp.x=r.normal.x>0?e.max.x:e.min.x,Dp.y=r.normal.y>0?e.max.y:e.min.y,Dp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Dp)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class Rj extends _u{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Dt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ug=new re,fg=new re,SP=new wn,Lf=new V1,Lp=new fv,jb=new re,EP=new re;class Xie extends bi{constructor(e=new Vr,n=new Rj){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,o=n.count;r<o;r++)ug.fromBufferAttribute(n,r-1),fg.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=ug.distanceTo(fg);e.setAttribute("lineDistance",new vr(i,1))}else pt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Lp.copy(i.boundingSphere),Lp.applyMatrix4(r),Lp.radius+=o,e.ray.intersectsSphere(Lp)===!1)return;SP.copy(r).invert(),Lf.copy(e.ray).applyMatrix4(SP);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,d=this.isLineSegments?2:1,h=i.index,g=i.attributes.position;if(h!==null){const y=Math.max(0,l.start),S=Math.min(h.count,l.start+l.count);for(let w=y,v=S-1;w<v;w+=d){const _=h.getX(w),A=h.getX(w+1),T=Up(this,e,Lf,f,_,A,w);T&&n.push(T)}if(this.isLineLoop){const w=h.getX(S-1),v=h.getX(y),_=Up(this,e,Lf,f,w,v,S-1);_&&n.push(_)}}else{const y=Math.max(0,l.start),S=Math.min(g.count,l.start+l.count);for(let w=y,v=S-1;w<v;w+=d){const _=Up(this,e,Lf,f,w,w+1,w);_&&n.push(_)}if(this.isLineLoop){const w=Up(this,e,Lf,f,S-1,y,S-1);w&&n.push(w)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++){const c=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=o}}}}}function Up(t,e,n,i,r,o,l){const c=t.geometry.attributes.position;if(ug.fromBufferAttribute(c,r),fg.fromBufferAttribute(c,o),n.distanceSqToSegment(ug,fg,jb,EP)>i)return;jb.applyMatrix4(t.matrixWorld);const d=e.ray.origin.distanceTo(jb);if(!(d<e.near||d>e.far))return{distance:d,point:EP.clone().applyMatrix4(t.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:t}}const MP=new re,AP=new re;class $ie extends Xie{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,o=n.count;r<o;r+=2)MP.fromBufferAttribute(n,r),AP.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+MP.distanceTo(AP);e.setAttribute("lineDistance",new vr(i,1))}else pt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ud extends ki{constructor(e,n,i=La,r,o,l,c=yi,f=yi,d,h=Oo,m=1){if(h!==Oo&&h!==ml)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const g={width:e,height:n,depth:m};super(g,r,o,l,c,f,h,i,d),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new G1(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Yie extends ud{constructor(e,n=La,i=Nl,r,o,l=yi,c=yi,f,d=Oo){const h={width:e,height:e,depth:1},m=[h,h,h,h,h,h];super(e,e,n,i,r,o,l,c,f,d),this.image=m,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class Nj extends ki{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class dv extends Vr{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const o=e/2,l=n/2,c=Math.floor(i),f=Math.floor(r),d=c+1,h=f+1,m=e/c,g=n/f,y=[],S=[],w=[],v=[];for(let _=0;_<h;_++){const A=_*g-l;for(let T=0;T<d;T++){const C=T*m-o;S.push(C,-A,0),w.push(0,0,1),v.push(T/c),v.push(1-_/f)}}for(let _=0;_<f;_++)for(let A=0;A<c;A++){const T=A+d*_,C=A+d*(_+1),P=A+1+d*(_+1),O=A+1+d*_;y.push(T,C,O),y.push(C,P,O)}this.setIndex(y),this.setAttribute("position",new vr(S,3)),this.setAttribute("normal",new vr(w,3)),this.setAttribute("uv",new vr(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dv(e.width,e.height,e.widthSegments,e.heightSegments)}}class Kie extends ka{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class kp extends _u{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Dt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vj,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ua,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zie extends _u{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=sie,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Qie extends _u{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Oj extends bi{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Dt(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}const Bb=new wn,TP=new re,CP=new re;class Jie{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _t(512,512),this.mapType=hr,this.map=null,this.mapPass=null,this.matrix=new wn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new W1,this._frameExtents=new _t(1,1),this._viewportCount=1,this._viewports=[new Tn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;TP.setFromMatrixPosition(e.matrixWorld),n.position.copy(TP),CP.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(CP),n.updateMatrixWorld(),Bb.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Bb,n.coordinateSystem,n.reversedDepth),n.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Bb)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class q1 extends Aj{constructor(e=-1,n=1,i=1,r=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=i-e,l=i+e,c=r+n,f=r-n;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=d*this.view.offsetX,l=o+d*this.view.width,c-=h*this.view.offsetY,f=c-h*this.view.height}this.projectionMatrix.makeOrthographic(o,l,c,f,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class ere extends Jie{constructor(){super(new q1(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class tre extends Oj{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(bi.DEFAULT_UP),this.updateMatrix(),this.target=new bi,this.shadow=new ere}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class nre extends Oj{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class ire extends kr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class RP{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Rt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Rt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class rre extends $ie{constructor(e=10,n=10,i=4473924,r=8947848){i=new Dt(i),r=new Dt(r);const o=n/2,l=e/n,c=e/2,f=[],d=[];for(let g=0,y=0,S=-c;g<=n;g++,S+=l){f.push(-c,0,S,c,0,S),f.push(S,0,-c,S,0,c);const w=g===o?i:r;w.toArray(d,y),y+=3,w.toArray(d,y),y+=3,w.toArray(d,y),y+=3,w.toArray(d,y),y+=3}const h=new Vr;h.setAttribute("position",new vr(f,3)),h.setAttribute("color",new vr(d,3));const m=new Rj({vertexColors:!0,toneMapped:!1});super(h,m),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class are extends Il{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){pt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function NP(t,e,n,i){const r=ore(i);switch(n){case pj:return t*e;case gj:return t*e/r.components*r.byteLength;case j1:return t*e/r.components*r.byteLength;case ru:return t*e*2/r.components*r.byteLength;case B1:return t*e*2/r.components*r.byteLength;case mj:return t*e*3/r.components*r.byteLength;case aa:return t*e*4/r.components*r.byteLength;case F1:return t*e*4/r.components*r.byteLength;case Qp:case Jp:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case em:case tm:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case dw:case pw:return Math.max(t,16)*Math.max(e,8)/4;case fw:case hw:return Math.max(t,8)*Math.max(e,8)/2;case mw:case gw:case xw:case yw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case vw:case bw:case _w:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ww:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Sw:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Ew:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Mw:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Aw:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Tw:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Cw:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Rw:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Nw:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Ow:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Pw:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Dw:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Lw:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Uw:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case kw:case Iw:case jw:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Bw:case Fw:return Math.ceil(t/4)*Math.ceil(e/4)*8;case zw:case Hw:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function ore(t){switch(t){case hr:case uj:return{byteLength:1,components:1};case sd:case fj:case No:return{byteLength:2,components:1};case k1:case I1:return{byteLength:2,components:4};case La:case U1:case Aa:return{byteLength:4,components:1};case dj:case hj:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:L1}}));typeof window<"u"&&(window.__THREE__?pt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=L1);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Pj(){let t=null,e=!1,n=null,i=null;function r(o,l){n(o,l),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function sre(t){const e=new WeakMap;function n(c,f){const d=c.array,h=c.usage,m=d.byteLength,g=t.createBuffer();t.bindBuffer(f,g),t.bufferData(f,d,h),c.onUploadCallback();let y;if(d instanceof Float32Array)y=t.FLOAT;else if(typeof Float16Array<"u"&&d instanceof Float16Array)y=t.HALF_FLOAT;else if(d instanceof Uint16Array)c.isFloat16BufferAttribute?y=t.HALF_FLOAT:y=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)y=t.SHORT;else if(d instanceof Uint32Array)y=t.UNSIGNED_INT;else if(d instanceof Int32Array)y=t.INT;else if(d instanceof Int8Array)y=t.BYTE;else if(d instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:g,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version,size:m}}function i(c,f,d){const h=f.array,m=f.updateRanges;if(t.bindBuffer(d,c),m.length===0)t.bufferSubData(d,0,h);else{m.sort((y,S)=>y.start-S.start);let g=0;for(let y=1;y<m.length;y++){const S=m[g],w=m[y];w.start<=S.start+S.count+1?S.count=Math.max(S.count,w.start+w.count-S.start):(++g,m[g]=w)}m.length=g+1;for(let y=0,S=m.length;y<S;y++){const w=m[y];t.bufferSubData(d,w.start*h.BYTES_PER_ELEMENT,h,w.start,w.count)}f.clearUpdateRanges()}f.onUploadCallback()}function r(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=e.get(c);f&&(t.deleteBuffer(f.buffer),e.delete(c))}function l(c,f){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const h=e.get(c);(!h||h.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const d=e.get(c);if(d===void 0)e.set(c,n(c,f));else if(d.version<c.version){if(d.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(d.buffer,c,f),d.version=c.version}}return{get:r,remove:o,update:l}}var lre=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,cre=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,ure=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,fre=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dre=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,hre=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,pre=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,mre=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gre=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,vre=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,xre=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,yre=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bre=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,_re=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,wre=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Sre=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Ere=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Mre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Are=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Tre=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Cre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Rre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Nre=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Ore=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Pre=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Dre=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Lre=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Ure=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,kre=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Ire=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,jre="gl_FragColor = linearToOutputTexel( gl_FragColor );",Bre=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Fre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,zre=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,Hre=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Gre=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Vre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Wre=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,qre=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Xre=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$re=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Yre=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Kre=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Zre=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Qre=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Jre=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,eae=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,tae=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,nae=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,iae=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,rae=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,aae=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,oae=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,sae=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lae=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cae=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,uae=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,fae=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,dae=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hae=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,pae=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,mae=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,gae=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,vae=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,xae=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,yae=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,bae=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,_ae=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,wae=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Sae=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Eae=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Mae=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Aae=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Tae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Cae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Rae=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Nae=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Oae=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Pae=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Dae=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Lae=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Uae=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,kae=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Iae=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,jae=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Bae=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Fae=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,zae=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Hae=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Gae=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,Vae=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Wae=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,qae=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Xae=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$ae=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Yae=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Kae=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Zae=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Qae=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Jae=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,eoe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,toe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,noe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,ioe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,roe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,aoe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,ooe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const soe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,loe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,coe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,uoe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,foe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,doe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hoe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,poe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,moe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,goe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,voe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,xoe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yoe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,boe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_oe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,woe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Soe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Eoe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Moe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Aoe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Toe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Coe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Roe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Noe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ooe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Poe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Doe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Loe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uoe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,koe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Ioe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,joe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Boe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Foe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mt={alphahash_fragment:lre,alphahash_pars_fragment:cre,alphamap_fragment:ure,alphamap_pars_fragment:fre,alphatest_fragment:dre,alphatest_pars_fragment:hre,aomap_fragment:pre,aomap_pars_fragment:mre,batching_pars_vertex:gre,batching_vertex:vre,begin_vertex:xre,beginnormal_vertex:yre,bsdfs:bre,iridescence_fragment:_re,bumpmap_pars_fragment:wre,clipping_planes_fragment:Sre,clipping_planes_pars_fragment:Ere,clipping_planes_pars_vertex:Mre,clipping_planes_vertex:Are,color_fragment:Tre,color_pars_fragment:Cre,color_pars_vertex:Rre,color_vertex:Nre,common:Ore,cube_uv_reflection_fragment:Pre,defaultnormal_vertex:Dre,displacementmap_pars_vertex:Lre,displacementmap_vertex:Ure,emissivemap_fragment:kre,emissivemap_pars_fragment:Ire,colorspace_fragment:jre,colorspace_pars_fragment:Bre,envmap_fragment:Fre,envmap_common_pars_fragment:zre,envmap_pars_fragment:Hre,envmap_pars_vertex:Gre,envmap_physical_pars_fragment:eae,envmap_vertex:Vre,fog_vertex:Wre,fog_pars_vertex:qre,fog_fragment:Xre,fog_pars_fragment:$re,gradientmap_pars_fragment:Yre,lightmap_pars_fragment:Kre,lights_lambert_fragment:Zre,lights_lambert_pars_fragment:Qre,lights_pars_begin:Jre,lights_toon_fragment:tae,lights_toon_pars_fragment:nae,lights_phong_fragment:iae,lights_phong_pars_fragment:rae,lights_physical_fragment:aae,lights_physical_pars_fragment:oae,lights_fragment_begin:sae,lights_fragment_maps:lae,lights_fragment_end:cae,logdepthbuf_fragment:uae,logdepthbuf_pars_fragment:fae,logdepthbuf_pars_vertex:dae,logdepthbuf_vertex:hae,map_fragment:pae,map_pars_fragment:mae,map_particle_fragment:gae,map_particle_pars_fragment:vae,metalnessmap_fragment:xae,metalnessmap_pars_fragment:yae,morphinstance_vertex:bae,morphcolor_vertex:_ae,morphnormal_vertex:wae,morphtarget_pars_vertex:Sae,morphtarget_vertex:Eae,normal_fragment_begin:Mae,normal_fragment_maps:Aae,normal_pars_fragment:Tae,normal_pars_vertex:Cae,normal_vertex:Rae,normalmap_pars_fragment:Nae,clearcoat_normal_fragment_begin:Oae,clearcoat_normal_fragment_maps:Pae,clearcoat_pars_fragment:Dae,iridescence_pars_fragment:Lae,opaque_fragment:Uae,packing:kae,premultiplied_alpha_fragment:Iae,project_vertex:jae,dithering_fragment:Bae,dithering_pars_fragment:Fae,roughnessmap_fragment:zae,roughnessmap_pars_fragment:Hae,shadowmap_pars_fragment:Gae,shadowmap_pars_vertex:Vae,shadowmap_vertex:Wae,shadowmask_pars_fragment:qae,skinbase_vertex:Xae,skinning_pars_vertex:$ae,skinning_vertex:Yae,skinnormal_vertex:Kae,specularmap_fragment:Zae,specularmap_pars_fragment:Qae,tonemapping_fragment:Jae,tonemapping_pars_fragment:eoe,transmission_fragment:toe,transmission_pars_fragment:noe,uv_pars_fragment:ioe,uv_pars_vertex:roe,uv_vertex:aoe,worldpos_vertex:ooe,background_vert:soe,background_frag:loe,backgroundCube_vert:coe,backgroundCube_frag:uoe,cube_vert:foe,cube_frag:doe,depth_vert:hoe,depth_frag:poe,distance_vert:moe,distance_frag:goe,equirect_vert:voe,equirect_frag:xoe,linedashed_vert:yoe,linedashed_frag:boe,meshbasic_vert:_oe,meshbasic_frag:woe,meshlambert_vert:Soe,meshlambert_frag:Eoe,meshmatcap_vert:Moe,meshmatcap_frag:Aoe,meshnormal_vert:Toe,meshnormal_frag:Coe,meshphong_vert:Roe,meshphong_frag:Noe,meshphysical_vert:Ooe,meshphysical_frag:Poe,meshtoon_vert:Doe,meshtoon_frag:Loe,points_vert:Uoe,points_frag:koe,shadow_vert:Ioe,shadow_frag:joe,sprite_vert:Boe,sprite_frag:Foe},ze={common:{diffuse:{value:new Dt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Et},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Et}},envmap:{envMap:{value:null},envMapRotation:{value:new Et},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Et}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Et}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Et},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Et},normalScale:{value:new _t(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Et},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Et}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Et}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Et}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Dt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Dt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0},uvTransform:{value:new Et}},sprite:{diffuse:{value:new Dt(16777215)},opacity:{value:1},center:{value:new _t(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Et},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0}}},Sa={basic:{uniforms:Pi([ze.common,ze.specularmap,ze.envmap,ze.aomap,ze.lightmap,ze.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:Pi([ze.common,ze.specularmap,ze.envmap,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.fog,ze.lights,{emissive:{value:new Dt(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:Pi([ze.common,ze.specularmap,ze.envmap,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.fog,ze.lights,{emissive:{value:new Dt(0)},specular:{value:new Dt(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:Pi([ze.common,ze.envmap,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.roughnessmap,ze.metalnessmap,ze.fog,ze.lights,{emissive:{value:new Dt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:Pi([ze.common,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.gradientmap,ze.fog,ze.lights,{emissive:{value:new Dt(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:Pi([ze.common,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:Pi([ze.points,ze.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:Pi([ze.common,ze.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:Pi([ze.common,ze.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:Pi([ze.common,ze.bumpmap,ze.normalmap,ze.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:Pi([ze.sprite,ze.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new Et},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Et}},vertexShader:Mt.backgroundCube_vert,fragmentShader:Mt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distance:{uniforms:Pi([ze.common,ze.displacementmap,{referencePosition:{value:new re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distance_vert,fragmentShader:Mt.distance_frag},shadow:{uniforms:Pi([ze.lights,ze.fog,{color:{value:new Dt(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};Sa.physical={uniforms:Pi([Sa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Et},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Et},clearcoatNormalScale:{value:new _t(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Et},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Et},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Et},sheen:{value:0},sheenColor:{value:new Dt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Et},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Et},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Et},transmissionSamplerSize:{value:new _t},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Et},attenuationDistance:{value:0},attenuationColor:{value:new Dt(0)},specularColor:{value:new Dt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Et},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Et},anisotropyVector:{value:new _t},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Et}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};const Ip={r:0,b:0,g:0},nl=new Ua,zoe=new wn;function Hoe(t,e,n,i,r,o,l){const c=new Dt(0);let f=o===!0?0:1,d,h,m=null,g=0,y=null;function S(T){let C=T.isScene===!0?T.background:null;return C&&C.isTexture&&(C=(T.backgroundBlurriness>0?n:e).get(C)),C}function w(T){let C=!1;const P=S(T);P===null?_(c,f):P&&P.isColor&&(_(P,1),C=!0);const O=t.xr.getEnvironmentBlendMode();O==="additive"?i.buffers.color.setClear(0,0,0,1,l):O==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(t.autoClear||C)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(T,C){const P=S(C);P&&(P.isCubeTexture||P.mapping===uv)?(h===void 0&&(h=new mr(new Ts(1,1,1),new ka({name:"BackgroundCubeMaterial",uniforms:ou(Sa.backgroundCube.uniforms),vertexShader:Sa.backgroundCube.vertexShader,fragmentShader:Sa.backgroundCube.fragmentShader,side:tr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(O,D,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),nl.copy(C.backgroundRotation),nl.x*=-1,nl.y*=-1,nl.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(nl.y*=-1,nl.z*=-1),h.material.uniforms.envMap.value=P,h.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(zoe.makeRotationFromEuler(nl)),h.material.toneMapped=kt.getTransfer(P.colorSpace)!==Qt,(m!==P||g!==P.version||y!==t.toneMapping)&&(h.material.needsUpdate=!0,m=P,g=P.version,y=t.toneMapping),h.layers.enableAll(),T.unshift(h,h.geometry,h.material,0,0,null)):P&&P.isTexture&&(d===void 0&&(d=new mr(new dv(2,2),new ka({name:"BackgroundMaterial",uniforms:ou(Sa.background.uniforms),vertexShader:Sa.background.vertexShader,fragmentShader:Sa.background.fragmentShader,side:Ns,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=P,d.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,d.material.toneMapped=kt.getTransfer(P.colorSpace)!==Qt,P.matrixAutoUpdate===!0&&P.updateMatrix(),d.material.uniforms.uvTransform.value.copy(P.matrix),(m!==P||g!==P.version||y!==t.toneMapping)&&(d.material.needsUpdate=!0,m=P,g=P.version,y=t.toneMapping),d.layers.enableAll(),T.unshift(d,d.geometry,d.material,0,0,null))}function _(T,C){T.getRGB(Ip,Mj(t)),i.buffers.color.setClear(Ip.r,Ip.g,Ip.b,C,l)}function A(){h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return c},setClearColor:function(T,C=1){c.set(T),f=C,_(c,f)},getClearAlpha:function(){return f},setClearAlpha:function(T){f=T,_(c,f)},render:w,addToRenderList:v,dispose:A}}function Goe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=g(null);let o=r,l=!1;function c(U,F,j,W,$){let Q=!1;const B=m(W,j,F);o!==B&&(o=B,d(o.object)),Q=y(U,W,j,$),Q&&S(U,W,j,$),$!==null&&e.update($,t.ELEMENT_ARRAY_BUFFER),(Q||l)&&(l=!1,C(U,F,j,W),$!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get($).buffer))}function f(){return t.createVertexArray()}function d(U){return t.bindVertexArray(U)}function h(U){return t.deleteVertexArray(U)}function m(U,F,j){const W=j.wireframe===!0;let $=i[U.id];$===void 0&&($={},i[U.id]=$);let Q=$[F.id];Q===void 0&&(Q={},$[F.id]=Q);let B=Q[W];return B===void 0&&(B=g(f()),Q[W]=B),B}function g(U){const F=[],j=[],W=[];for(let $=0;$<n;$++)F[$]=0,j[$]=0,W[$]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:j,attributeDivisors:W,object:U,attributes:{},index:null}}function y(U,F,j,W){const $=o.attributes,Q=F.attributes;let B=0;const V=j.getAttributes();for(const K in V)if(V[K].location>=0){const ve=$[K];let H=Q[K];if(H===void 0&&(K==="instanceMatrix"&&U.instanceMatrix&&(H=U.instanceMatrix),K==="instanceColor"&&U.instanceColor&&(H=U.instanceColor)),ve===void 0||ve.attribute!==H||H&&ve.data!==H.data)return!0;B++}return o.attributesNum!==B||o.index!==W}function S(U,F,j,W){const $={},Q=F.attributes;let B=0;const V=j.getAttributes();for(const K in V)if(V[K].location>=0){let ve=Q[K];ve===void 0&&(K==="instanceMatrix"&&U.instanceMatrix&&(ve=U.instanceMatrix),K==="instanceColor"&&U.instanceColor&&(ve=U.instanceColor));const H={};H.attribute=ve,ve&&ve.data&&(H.data=ve.data),$[K]=H,B++}o.attributes=$,o.attributesNum=B,o.index=W}function w(){const U=o.newAttributes;for(let F=0,j=U.length;F<j;F++)U[F]=0}function v(U){_(U,0)}function _(U,F){const j=o.newAttributes,W=o.enabledAttributes,$=o.attributeDivisors;j[U]=1,W[U]===0&&(t.enableVertexAttribArray(U),W[U]=1),$[U]!==F&&(t.vertexAttribDivisor(U,F),$[U]=F)}function A(){const U=o.newAttributes,F=o.enabledAttributes;for(let j=0,W=F.length;j<W;j++)F[j]!==U[j]&&(t.disableVertexAttribArray(j),F[j]=0)}function T(U,F,j,W,$,Q,B){B===!0?t.vertexAttribIPointer(U,F,j,$,Q):t.vertexAttribPointer(U,F,j,W,$,Q)}function C(U,F,j,W){w();const $=W.attributes,Q=j.getAttributes(),B=F.defaultAttributeValues;for(const V in Q){const K=Q[V];if(K.location>=0){let ge=$[V];if(ge===void 0&&(V==="instanceMatrix"&&U.instanceMatrix&&(ge=U.instanceMatrix),V==="instanceColor"&&U.instanceColor&&(ge=U.instanceColor)),ge!==void 0){const ve=ge.normalized,H=ge.itemSize,ne=e.get(ge);if(ne===void 0)continue;const ye=ne.buffer,Te=ne.type,Ie=ne.bytesPerElement,le=Te===t.INT||Te===t.UNSIGNED_INT||ge.gpuType===U1;if(ge.isInterleavedBufferAttribute){const de=ge.data,Le=de.stride,ae=ge.offset;if(de.isInstancedInterleavedBuffer){for(let Ce=0;Ce<K.locationSize;Ce++)_(K.location+Ce,de.meshPerAttribute);U.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let Ce=0;Ce<K.locationSize;Ce++)v(K.location+Ce);t.bindBuffer(t.ARRAY_BUFFER,ye);for(let Ce=0;Ce<K.locationSize;Ce++)T(K.location+Ce,H/K.locationSize,Te,ve,Le*Ie,(ae+H/K.locationSize*Ce)*Ie,le)}else{if(ge.isInstancedBufferAttribute){for(let de=0;de<K.locationSize;de++)_(K.location+de,ge.meshPerAttribute);U.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let de=0;de<K.locationSize;de++)v(K.location+de);t.bindBuffer(t.ARRAY_BUFFER,ye);for(let de=0;de<K.locationSize;de++)T(K.location+de,H/K.locationSize,Te,ve,H*Ie,H/K.locationSize*de*Ie,le)}}else if(B!==void 0){const ve=B[V];if(ve!==void 0)switch(ve.length){case 2:t.vertexAttrib2fv(K.location,ve);break;case 3:t.vertexAttrib3fv(K.location,ve);break;case 4:t.vertexAttrib4fv(K.location,ve);break;default:t.vertexAttrib1fv(K.location,ve)}}}}A()}function P(){z();for(const U in i){const F=i[U];for(const j in F){const W=F[j];for(const $ in W)h(W[$].object),delete W[$];delete F[j]}delete i[U]}}function O(U){if(i[U.id]===void 0)return;const F=i[U.id];for(const j in F){const W=F[j];for(const $ in W)h(W[$].object),delete W[$];delete F[j]}delete i[U.id]}function D(U){for(const F in i){const j=i[F];if(j[U.id]===void 0)continue;const W=j[U.id];for(const $ in W)h(W[$].object),delete W[$];delete j[U.id]}}function z(){R(),l=!0,o!==r&&(o=r,d(o.object))}function R(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:c,reset:z,resetDefaultState:R,dispose:P,releaseStatesOfGeometry:O,releaseStatesOfProgram:D,initAttributes:w,enableAttribute:v,disableUnusedAttributes:A}}function Voe(t,e,n){let i;function r(d){i=d}function o(d,h){t.drawArrays(i,d,h),n.update(h,i,1)}function l(d,h,m){m!==0&&(t.drawArraysInstanced(i,d,h,m),n.update(h,i,m))}function c(d,h,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,d,0,h,0,m);let y=0;for(let S=0;S<m;S++)y+=h[S];n.update(y,i,1)}function f(d,h,m,g){if(m===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let S=0;S<d.length;S++)l(d[S],h[S],g[S]);else{y.multiDrawArraysInstancedWEBGL(i,d,0,h,0,g,0,m);let S=0;for(let w=0;w<m;w++)S+=h[w]*g[w];n.update(S,i,1)}}this.setMode=r,this.render=o,this.renderInstances=l,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function Woe(t,e,n,i){let r;function o(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const D=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function l(D){return!(D!==aa&&i.convert(D)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(D){const z=D===No&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(D!==hr&&i.convert(D)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&D!==Aa&&!z)}function f(D){if(D==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";D="mediump"}return D==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=n.precision!==void 0?n.precision:"highp";const h=f(d);h!==d&&(pt("WebGLRenderer:",d,"not supported, using",h,"instead."),d=h);const m=n.logarithmicDepthBuffer===!0,g=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),y=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),w=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),A=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),T=t.getParameter(t.MAX_VARYING_VECTORS),C=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),P=t.getParameter(t.MAX_SAMPLES),O=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:f,textureFormatReadable:l,textureTypeReadable:c,precision:d,logarithmicDepthBuffer:m,reversedDepthBuffer:g,maxTextures:y,maxVertexTextures:S,maxTextureSize:w,maxCubemapSize:v,maxAttributes:_,maxVertexUniforms:A,maxVaryings:T,maxFragmentUniforms:C,maxSamples:P,samples:O}}function qoe(t){const e=this;let n=null,i=0,r=!1,o=!1;const l=new bs,c=new Et,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(m,g){const y=m.length!==0||g||i!==0||r;return r=g,i=m.length,y},this.beginShadows=function(){o=!0,h(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(m,g){n=h(m,g,0)},this.setState=function(m,g,y){const S=m.clippingPlanes,w=m.clipIntersection,v=m.clipShadows,_=t.get(m);if(!r||S===null||S.length===0||o&&!v)o?h(null):d();else{const A=o?0:i,T=A*4;let C=_.clippingState||null;f.value=C,C=h(S,g,T,y);for(let P=0;P!==T;++P)C[P]=n[P];_.clippingState=C,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=A}};function d(){f.value!==n&&(f.value=n,f.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(m,g,y,S){const w=m!==null?m.length:0;let v=null;if(w!==0){if(v=f.value,S!==!0||v===null){const _=y+w*4,A=g.matrixWorldInverse;c.getNormalMatrix(A),(v===null||v.length<_)&&(v=new Float32Array(_));for(let T=0,C=y;T!==w;++T,C+=4)l.copy(m[T]).applyMatrix4(A,c),l.normal.toArray(v,C),v[C+3]=l.constant}f.value=v,f.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,v}}function Xoe(t){let e=new WeakMap;function n(l,c){return c===sw?l.mapping=Nl:c===lw&&(l.mapping=iu),l}function i(l){if(l&&l.isTexture){const c=l.mapping;if(c===sw||c===lw)if(e.has(l)){const f=e.get(l).texture;return n(f,l.mapping)}else{const f=l.image;if(f&&f.height>0){const d=new Cj(f.height);return d.fromEquirectangularTexture(t,l),e.set(l,d),l.addEventListener("dispose",r),n(d.texture,l.mapping)}else return null}}return l}function r(l){const c=l.target;c.removeEventListener("dispose",r);const f=e.get(c);f!==void 0&&(e.delete(c),f.dispose())}function o(){e=new WeakMap}return{get:i,dispose:o}}const Es=4,OP=[.125,.215,.35,.446,.526,.582],ll=20,$oe=256,Uf=new q1,PP=new Dt;let Fb=null,zb=0,Hb=0,Gb=!1;const Yoe=new re;class DP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,i=.1,r=100,o={}){const{size:l=256,position:c=Yoe}=o;Fb=this._renderer.getRenderTarget(),zb=this._renderer.getActiveCubeFace(),Hb=this._renderer.getActiveMipmapLevel(),Gb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const f=this._allocateTargets();return f.depthBuffer=!0,this._sceneToCubeUV(e,i,r,f,c),n>0&&this._blur(f,0,0,n),this._applyPMREM(f),this._cleanup(f),f}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=kP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=UP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(Fb,zb,Hb),this._renderer.xr.enabled=Gb,e.scissorTest=!1,Ic(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Nl||e.mapping===iu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Fb=this._renderer.getRenderTarget(),zb=this._renderer.getActiveCubeFace(),Hb=this._renderer.getActiveMipmapLevel(),Gb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Ci,minFilter:Ci,generateMipmaps:!1,type:No,format:aa,colorSpace:au,depthBuffer:!1},r=LP(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=LP(e,n,i);const{_lodMax:o}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=Koe(o)),this._blurMaterial=Qoe(o,e,n),this._ggxMaterial=Zoe(o,e,n)}return r}_compileMaterial(e){const n=new mr(new Vr,e);this._renderer.compile(n,Uf)}_sceneToCubeUV(e,n,i,r,o){const f=new kr(90,1,n,i),d=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],m=this._renderer,g=m.autoClear,y=m.toneMapping;m.getClearColor(PP),m.toneMapping=Ra,m.autoClear=!1,m.state.buffers.depth.getReversed()&&(m.setRenderTarget(r),m.clearDepth(),m.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new mr(new Ts,new wj({name:"PMREM.Background",side:tr,depthWrite:!1,depthTest:!1})));const w=this._backgroundBox,v=w.material;let _=!1;const A=e.background;A?A.isColor&&(v.color.copy(A),e.background=null,_=!0):(v.color.copy(PP),_=!0);for(let T=0;T<6;T++){const C=T%3;C===0?(f.up.set(0,d[T],0),f.position.set(o.x,o.y,o.z),f.lookAt(o.x+h[T],o.y,o.z)):C===1?(f.up.set(0,0,d[T]),f.position.set(o.x,o.y,o.z),f.lookAt(o.x,o.y+h[T],o.z)):(f.up.set(0,d[T],0),f.position.set(o.x,o.y,o.z),f.lookAt(o.x,o.y,o.z+h[T]));const P=this._cubeSize;Ic(r,C*P,T>2?P:0,P,P),m.setRenderTarget(r),_&&m.render(w,f),m.render(e,f)}m.toneMapping=y,m.autoClear=g,e.background=A}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Nl||e.mapping===iu;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=kP()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=UP());const o=r?this._cubemapMaterial:this._equirectMaterial,l=this._lodMeshes[0];l.material=o;const c=o.uniforms;c.envMap.value=e;const f=this._cubeSize;Ic(n,0,0,3*f,2*f),i.setRenderTarget(n),i.render(l,Uf)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodMeshes.length;for(let o=1;o<r;o++)this._applyGGXFilter(e,o-1,o);n.autoClear=i}_applyGGXFilter(e,n,i){const r=this._renderer,o=this._pingPongRenderTarget,l=this._ggxMaterial,c=this._lodMeshes[i];c.material=l;const f=l.uniforms,d=i/(this._lodMeshes.length-1),h=n/(this._lodMeshes.length-1),m=Math.sqrt(d*d-h*h),g=0+d*1.25,y=m*g,{_lodMax:S}=this,w=this._sizeLods[i],v=3*w*(i>S-Es?i-S+Es:0),_=4*(this._cubeSize-w);f.envMap.value=e.texture,f.roughness.value=y,f.mipInt.value=S-n,Ic(o,v,_,3*w,2*w),r.setRenderTarget(o),r.render(c,Uf),f.envMap.value=o.texture,f.roughness.value=0,f.mipInt.value=S-i,Ic(e,v,_,3*w,2*w),r.setRenderTarget(e),r.render(c,Uf)}_blur(e,n,i,r,o){const l=this._pingPongRenderTarget;this._halfBlur(e,l,n,i,r,"latitudinal",o),this._halfBlur(l,e,i,i,r,"longitudinal",o)}_halfBlur(e,n,i,r,o,l,c){const f=this._renderer,d=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&Bt("blur direction must be either latitudinal or longitudinal!");const h=3,m=this._lodMeshes[r];m.material=d;const g=d.uniforms,y=this._sizeLods[i]-1,S=isFinite(o)?Math.PI/(2*y):2*Math.PI/(2*ll-1),w=o/S,v=isFinite(o)?1+Math.floor(h*w):ll;v>ll&&pt(`sigmaRadians, ${o}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${ll}`);const _=[];let A=0;for(let D=0;D<ll;++D){const z=D/w,R=Math.exp(-z*z/2);_.push(R),D===0?A+=R:D<v&&(A+=2*R)}for(let D=0;D<_.length;D++)_[D]=_[D]/A;g.envMap.value=e.texture,g.samples.value=v,g.weights.value=_,g.latitudinal.value=l==="latitudinal",c&&(g.poleAxis.value=c);const{_lodMax:T}=this;g.dTheta.value=S,g.mipInt.value=T-i;const C=this._sizeLods[r],P=3*C*(r>T-Es?r-T+Es:0),O=4*(this._cubeSize-C);Ic(n,P,O,3*C,2*C),f.setRenderTarget(n),f.render(m,Uf)}}function Koe(t){const e=[],n=[],i=[];let r=t;const o=t-Es+1+OP.length;for(let l=0;l<o;l++){const c=Math.pow(2,r);e.push(c);let f=1/c;l>t-Es?f=OP[l-t+Es-1]:l===0&&(f=0),n.push(f);const d=1/(c-2),h=-d,m=1+d,g=[h,h,m,h,m,m,h,h,m,m,h,m],y=6,S=6,w=3,v=2,_=1,A=new Float32Array(w*S*y),T=new Float32Array(v*S*y),C=new Float32Array(_*S*y);for(let O=0;O<y;O++){const D=O%3*2/3-1,z=O>2?0:-1,R=[D,z,0,D+2/3,z,0,D+2/3,z+1,0,D,z,0,D+2/3,z+1,0,D,z+1,0];A.set(R,w*S*O),T.set(g,v*S*O);const U=[O,O,O,O,O,O];C.set(U,_*S*O)}const P=new Vr;P.setAttribute("position",new sa(A,w)),P.setAttribute("uv",new sa(T,v)),P.setAttribute("faceIndex",new sa(C,_)),i.push(new mr(P,null)),r>Es&&r--}return{lodMeshes:i,sizeLods:e,sigmas:n}}function LP(t,e,n){const i=new Na(t,e,n);return i.texture.mapping=uv,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Ic(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function Zoe(t,e,n){return new ka({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:$oe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:hv(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:bo,depthTest:!1,depthWrite:!1})}function Qoe(t,e,n){const i=new Float32Array(ll),r=new re(0,1,0);return new ka({name:"SphericalGaussianBlur",defines:{n:ll,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:hv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:bo,depthTest:!1,depthWrite:!1})}function UP(){return new ka({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:bo,depthTest:!1,depthWrite:!1})}function kP(){return new ka({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:bo,depthTest:!1,depthWrite:!1})}function hv(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Joe(t){let e=new WeakMap,n=null;function i(c){if(c&&c.isTexture){const f=c.mapping,d=f===sw||f===lw,h=f===Nl||f===iu;if(d||h){let m=e.get(c);const g=m!==void 0?m.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==g)return n===null&&(n=new DP(t)),m=d?n.fromEquirectangular(c,m):n.fromCubemap(c,m),m.texture.pmremVersion=c.pmremVersion,e.set(c,m),m.texture;if(m!==void 0)return m.texture;{const y=c.image;return d&&y&&y.height>0||h&&y&&r(y)?(n===null&&(n=new DP(t)),m=d?n.fromEquirectangular(c):n.fromCubemap(c),m.texture.pmremVersion=c.pmremVersion,e.set(c,m),c.addEventListener("dispose",o),m.texture):null}}}return c}function r(c){let f=0;const d=6;for(let h=0;h<d;h++)c[h]!==void 0&&f++;return f===d}function o(c){const f=c.target;f.removeEventListener("dispose",o);const d=e.get(f);d!==void 0&&(e.delete(f),d.dispose())}function l(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:l}}function ese(t){const e={};function n(i){if(e[i]!==void 0)return e[i];const r=t.getExtension(i);return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&cd("WebGLRenderer: "+i+" extension not supported."),r}}}function tse(t,e,n,i){const r={},o=new WeakMap;function l(m){const g=m.target;g.index!==null&&e.remove(g.index);for(const S in g.attributes)e.remove(g.attributes[S]);g.removeEventListener("dispose",l),delete r[g.id];const y=o.get(g);y&&(e.remove(y),o.delete(g)),i.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,n.memory.geometries--}function c(m,g){return r[g.id]===!0||(g.addEventListener("dispose",l),r[g.id]=!0,n.memory.geometries++),g}function f(m){const g=m.attributes;for(const y in g)e.update(g[y],t.ARRAY_BUFFER)}function d(m){const g=[],y=m.index,S=m.attributes.position;let w=0;if(y!==null){const A=y.array;w=y.version;for(let T=0,C=A.length;T<C;T+=3){const P=A[T+0],O=A[T+1],D=A[T+2];g.push(P,O,O,D,D,P)}}else if(S!==void 0){const A=S.array;w=S.version;for(let T=0,C=A.length/3-1;T<C;T+=3){const P=T+0,O=T+1,D=T+2;g.push(P,O,O,D,D,P)}}else return;const v=new(xj(g)?Ej:Sj)(g,1);v.version=w;const _=o.get(m);_&&e.remove(_),o.set(m,v)}function h(m){const g=o.get(m);if(g){const y=m.index;y!==null&&g.version<y.version&&d(m)}else d(m);return o.get(m)}return{get:c,update:f,getWireframeAttribute:h}}function nse(t,e,n){let i;function r(g){i=g}let o,l;function c(g){o=g.type,l=g.bytesPerElement}function f(g,y){t.drawElements(i,y,o,g*l),n.update(y,i,1)}function d(g,y,S){S!==0&&(t.drawElementsInstanced(i,y,o,g*l,S),n.update(y,i,S))}function h(g,y,S){if(S===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,y,0,o,g,0,S);let v=0;for(let _=0;_<S;_++)v+=y[_];n.update(v,i,1)}function m(g,y,S,w){if(S===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let _=0;_<g.length;_++)d(g[_]/l,y[_],w[_]);else{v.multiDrawElementsInstancedWEBGL(i,y,0,o,g,0,w,0,S);let _=0;for(let A=0;A<S;A++)_+=y[A]*w[A];n.update(_,i,1)}}this.setMode=r,this.setIndex=c,this.render=f,this.renderInstances=d,this.renderMultiDraw=h,this.renderMultiDrawInstances=m}function ise(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,l,c){switch(n.calls++,l){case t.TRIANGLES:n.triangles+=c*(o/3);break;case t.LINES:n.lines+=c*(o/2);break;case t.LINE_STRIP:n.lines+=c*(o-1);break;case t.LINE_LOOP:n.lines+=c*o;break;case t.POINTS:n.points+=c*o;break;default:Bt("WebGLInfo: Unknown draw mode:",l);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function rse(t,e,n){const i=new WeakMap,r=new Tn;function o(l,c,f){const d=l.morphTargetInfluences,h=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,m=h!==void 0?h.length:0;let g=i.get(c);if(g===void 0||g.count!==m){let U=function(){z.dispose(),i.delete(c),c.removeEventListener("dispose",U)};var y=U;g!==void 0&&g.texture.dispose();const S=c.morphAttributes.position!==void 0,w=c.morphAttributes.normal!==void 0,v=c.morphAttributes.color!==void 0,_=c.morphAttributes.position||[],A=c.morphAttributes.normal||[],T=c.morphAttributes.color||[];let C=0;S===!0&&(C=1),w===!0&&(C=2),v===!0&&(C=3);let P=c.attributes.position.count*C,O=1;P>e.maxTextureSize&&(O=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const D=new Float32Array(P*O*4*m),z=new yj(D,P,O,m);z.type=Aa,z.needsUpdate=!0;const R=C*4;for(let F=0;F<m;F++){const j=_[F],W=A[F],$=T[F],Q=P*O*4*F;for(let B=0;B<j.count;B++){const V=B*R;S===!0&&(r.fromBufferAttribute(j,B),D[Q+V+0]=r.x,D[Q+V+1]=r.y,D[Q+V+2]=r.z,D[Q+V+3]=0),w===!0&&(r.fromBufferAttribute(W,B),D[Q+V+4]=r.x,D[Q+V+5]=r.y,D[Q+V+6]=r.z,D[Q+V+7]=0),v===!0&&(r.fromBufferAttribute($,B),D[Q+V+8]=r.x,D[Q+V+9]=r.y,D[Q+V+10]=r.z,D[Q+V+11]=$.itemSize===4?r.w:1)}}g={count:m,texture:z,size:new _t(P,O)},i.set(c,g),c.addEventListener("dispose",U)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)f.getUniforms().setValue(t,"morphTexture",l.morphTexture,n);else{let S=0;for(let v=0;v<d.length;v++)S+=d[v];const w=c.morphTargetsRelative?1:1-S;f.getUniforms().setValue(t,"morphTargetBaseInfluence",w),f.getUniforms().setValue(t,"morphTargetInfluences",d)}f.getUniforms().setValue(t,"morphTargetsTexture",g.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",g.size)}return{update:o}}function ase(t,e,n,i){let r=new WeakMap;function o(f){const d=i.render.frame,h=f.geometry,m=e.get(f,h);if(r.get(m)!==d&&(e.update(m),r.set(m,d)),f.isInstancedMesh&&(f.hasEventListener("dispose",c)===!1&&f.addEventListener("dispose",c),r.get(f)!==d&&(n.update(f.instanceMatrix,t.ARRAY_BUFFER),f.instanceColor!==null&&n.update(f.instanceColor,t.ARRAY_BUFFER),r.set(f,d))),f.isSkinnedMesh){const g=f.skeleton;r.get(g)!==d&&(g.update(),r.set(g,d))}return m}function l(){r=new WeakMap}function c(f){const d=f.target;d.removeEventListener("dispose",c),n.remove(d.instanceMatrix),d.instanceColor!==null&&n.remove(d.instanceColor)}return{update:o,dispose:l}}const ose={[nj]:"LINEAR_TONE_MAPPING",[ij]:"REINHARD_TONE_MAPPING",[rj]:"CINEON_TONE_MAPPING",[aj]:"ACES_FILMIC_TONE_MAPPING",[sj]:"AGX_TONE_MAPPING",[lj]:"NEUTRAL_TONE_MAPPING",[oj]:"CUSTOM_TONE_MAPPING"};function sse(t,e,n,i,r){const o=new Na(e,n,{type:t,depthBuffer:i,stencilBuffer:r}),l=new Na(e,n,{type:No,depthBuffer:!1,stencilBuffer:!1}),c=new Vr;c.setAttribute("position",new vr([-1,3,0,-1,-1,0,3,-1,0],3)),c.setAttribute("uv",new vr([0,2,0,0,2,0],2));const f=new Kie({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),d=new mr(c,f),h=new q1(-1,1,1,-1,0,1);let m=null,g=null,y=!1,S,w=null,v=[],_=!1;this.setSize=function(A,T){o.setSize(A,T),l.setSize(A,T);for(let C=0;C<v.length;C++){const P=v[C];P.setSize&&P.setSize(A,T)}},this.setEffects=function(A){v=A,_=v.length>0&&v[0].isRenderPass===!0;const T=o.width,C=o.height;for(let P=0;P<v.length;P++){const O=v[P];O.setSize&&O.setSize(T,C)}},this.begin=function(A,T){if(y||A.toneMapping===Ra&&v.length===0)return!1;if(w=T,T!==null){const C=T.width,P=T.height;(o.width!==C||o.height!==P)&&this.setSize(C,P)}return _===!1&&A.setRenderTarget(o),S=A.toneMapping,A.toneMapping=Ra,!0},this.hasRenderPass=function(){return _},this.end=function(A,T){A.toneMapping=S,y=!0;let C=o,P=l;for(let O=0;O<v.length;O++){const D=v[O];if(D.enabled!==!1&&(D.render(A,P,C,T),D.needsSwap!==!1)){const z=C;C=P,P=z}}if(m!==A.outputColorSpace||g!==A.toneMapping){m=A.outputColorSpace,g=A.toneMapping,f.defines={},kt.getTransfer(m)===Qt&&(f.defines.SRGB_TRANSFER="");const O=ose[g];O&&(f.defines[O]=""),f.needsUpdate=!0}f.uniforms.tDiffuse.value=C.texture,A.setRenderTarget(w),A.render(d,h),w=null,y=!1},this.isCompositing=function(){return y},this.dispose=function(){o.dispose(),l.dispose(),c.dispose(),f.dispose()}}const Dj=new ki,Vw=new ud(1,1),Lj=new yj,Uj=new Eie,kj=new Tj,IP=[],jP=[],BP=new Float32Array(16),FP=new Float32Array(9),zP=new Float32Array(4);function wu(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let o=IP[r];if(o===void 0&&(o=new Float32Array(r),IP[r]=o),e!==0){i.toArray(o,0);for(let l=1,c=0;l!==e;++l)c+=n,t[l].toArray(o,c)}return o}function Wn(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function qn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function pv(t,e){let n=jP[e];n===void 0&&(n=new Int32Array(e),jP[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function lse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function cse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Wn(n,e))return;t.uniform2fv(this.addr,e),qn(n,e)}}function use(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Wn(n,e))return;t.uniform3fv(this.addr,e),qn(n,e)}}function fse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Wn(n,e))return;t.uniform4fv(this.addr,e),qn(n,e)}}function dse(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Wn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),qn(n,e)}else{if(Wn(n,i))return;zP.set(i),t.uniformMatrix2fv(this.addr,!1,zP),qn(n,i)}}function hse(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Wn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),qn(n,e)}else{if(Wn(n,i))return;FP.set(i),t.uniformMatrix3fv(this.addr,!1,FP),qn(n,i)}}function pse(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Wn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),qn(n,e)}else{if(Wn(n,i))return;BP.set(i),t.uniformMatrix4fv(this.addr,!1,BP),qn(n,i)}}function mse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function gse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Wn(n,e))return;t.uniform2iv(this.addr,e),qn(n,e)}}function vse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Wn(n,e))return;t.uniform3iv(this.addr,e),qn(n,e)}}function xse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Wn(n,e))return;t.uniform4iv(this.addr,e),qn(n,e)}}function yse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function bse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Wn(n,e))return;t.uniform2uiv(this.addr,e),qn(n,e)}}function _se(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Wn(n,e))return;t.uniform3uiv(this.addr,e),qn(n,e)}}function wse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Wn(n,e))return;t.uniform4uiv(this.addr,e),qn(n,e)}}function Sse(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let o;this.type===t.SAMPLER_2D_SHADOW?(Vw.compareFunction=n.isReversedDepthBuffer()?H1:z1,o=Vw):o=Dj,n.setTexture2D(e||o,r)}function Ese(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||Uj,r)}function Mse(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||kj,r)}function Ase(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||Lj,r)}function Tse(t){switch(t){case 5126:return lse;case 35664:return cse;case 35665:return use;case 35666:return fse;case 35674:return dse;case 35675:return hse;case 35676:return pse;case 5124:case 35670:return mse;case 35667:case 35671:return gse;case 35668:case 35672:return vse;case 35669:case 35673:return xse;case 5125:return yse;case 36294:return bse;case 36295:return _se;case 36296:return wse;case 35678:case 36198:case 36298:case 36306:case 35682:return Sse;case 35679:case 36299:case 36307:return Ese;case 35680:case 36300:case 36308:case 36293:return Mse;case 36289:case 36303:case 36311:case 36292:return Ase}}function Cse(t,e){t.uniform1fv(this.addr,e)}function Rse(t,e){const n=wu(e,this.size,2);t.uniform2fv(this.addr,n)}function Nse(t,e){const n=wu(e,this.size,3);t.uniform3fv(this.addr,n)}function Ose(t,e){const n=wu(e,this.size,4);t.uniform4fv(this.addr,n)}function Pse(t,e){const n=wu(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Dse(t,e){const n=wu(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Lse(t,e){const n=wu(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Use(t,e){t.uniform1iv(this.addr,e)}function kse(t,e){t.uniform2iv(this.addr,e)}function Ise(t,e){t.uniform3iv(this.addr,e)}function jse(t,e){t.uniform4iv(this.addr,e)}function Bse(t,e){t.uniform1uiv(this.addr,e)}function Fse(t,e){t.uniform2uiv(this.addr,e)}function zse(t,e){t.uniform3uiv(this.addr,e)}function Hse(t,e){t.uniform4uiv(this.addr,e)}function Gse(t,e,n){const i=this.cache,r=e.length,o=pv(n,r);Wn(i,o)||(t.uniform1iv(this.addr,o),qn(i,o));let l;this.type===t.SAMPLER_2D_SHADOW?l=Vw:l=Dj;for(let c=0;c!==r;++c)n.setTexture2D(e[c]||l,o[c])}function Vse(t,e,n){const i=this.cache,r=e.length,o=pv(n,r);Wn(i,o)||(t.uniform1iv(this.addr,o),qn(i,o));for(let l=0;l!==r;++l)n.setTexture3D(e[l]||Uj,o[l])}function Wse(t,e,n){const i=this.cache,r=e.length,o=pv(n,r);Wn(i,o)||(t.uniform1iv(this.addr,o),qn(i,o));for(let l=0;l!==r;++l)n.setTextureCube(e[l]||kj,o[l])}function qse(t,e,n){const i=this.cache,r=e.length,o=pv(n,r);Wn(i,o)||(t.uniform1iv(this.addr,o),qn(i,o));for(let l=0;l!==r;++l)n.setTexture2DArray(e[l]||Lj,o[l])}function Xse(t){switch(t){case 5126:return Cse;case 35664:return Rse;case 35665:return Nse;case 35666:return Ose;case 35674:return Pse;case 35675:return Dse;case 35676:return Lse;case 5124:case 35670:return Use;case 35667:case 35671:return kse;case 35668:case 35672:return Ise;case 35669:case 35673:return jse;case 5125:return Bse;case 36294:return Fse;case 36295:return zse;case 36296:return Hse;case 35678:case 36198:case 36298:case 36306:case 35682:return Gse;case 35679:case 36299:case 36307:return Vse;case 35680:case 36300:case 36308:case 36293:return Wse;case 36289:case 36303:case 36311:case 36292:return qse}}class $se{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=Tse(n.type)}}class Yse{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Xse(n.type)}}class Kse{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let o=0,l=r.length;o!==l;++o){const c=r[o];c.setValue(e,n[c.id],i)}}}const Vb=/(\w+)(\])?(\[|\.)?/g;function HP(t,e){t.seq.push(e),t.map[e.id]=e}function Zse(t,e,n){const i=t.name,r=i.length;for(Vb.lastIndex=0;;){const o=Vb.exec(i),l=Vb.lastIndex;let c=o[1];const f=o[2]==="]",d=o[3];if(f&&(c=c|0),d===void 0||d==="["&&l+2===r){HP(n,d===void 0?new $se(c,t,e):new Yse(c,t,e));break}else{let m=n.map[c];m===void 0&&(m=new Kse(c),HP(n,m)),n=m}}}class im{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let l=0;l<i;++l){const c=e.getActiveUniform(n,l),f=e.getUniformLocation(n,c.name);Zse(c,f,this)}const r=[],o=[];for(const l of this.seq)l.type===e.SAMPLER_2D_SHADOW||l.type===e.SAMPLER_CUBE_SHADOW||l.type===e.SAMPLER_2D_ARRAY_SHADOW?r.push(l):o.push(l);r.length>0&&(this.seq=r.concat(o))}setValue(e,n,i,r){const o=this.map[n];o!==void 0&&o.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let o=0,l=n.length;o!==l;++o){const c=n[o],f=i[c.id];f.needsUpdate!==!1&&c.setValue(e,f.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,o=e.length;r!==o;++r){const l=e[r];l.id in n&&i.push(l)}return i}}function GP(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const Qse=37297;let Jse=0;function ele(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let l=r;l<o;l++){const c=l+1;i.push(`${c===e?">":" "} ${c}: ${n[l]}`)}return i.join(`
`)}const VP=new Et;function tle(t){kt._getMatrix(VP,kt.workingColorSpace,t);const e=`mat3( ${VP.elements.map(n=>n.toFixed(4))} )`;switch(kt.getTransfer(t)){case sg:return[e,"LinearTransferOETF"];case Qt:return[e,"sRGBTransferOETF"];default:return pt("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function WP(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),o=(t.getShaderInfoLog(e)||"").trim();if(i&&o==="")return"";const l=/ERROR: 0:(\d+)/.exec(o);if(l){const c=parseInt(l[1]);return n.toUpperCase()+`

`+o+`

`+ele(t.getShaderSource(e),c)}else return o}function nle(t,e){const n=tle(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const ile={[nj]:"Linear",[ij]:"Reinhard",[rj]:"Cineon",[aj]:"ACESFilmic",[sj]:"AgX",[lj]:"Neutral",[oj]:"Custom"};function rle(t,e){const n=ile[e];return n===void 0?(pt("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const jp=new re;function ale(){kt.getLuminanceCoefficients(jp);const t=jp.x.toFixed(4),e=jp.y.toFixed(4),n=jp.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function ole(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(zf).join(`
`)}function sle(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function lle(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const o=t.getActiveAttrib(e,r),l=o.name;let c=1;o.type===t.FLOAT_MAT2&&(c=2),o.type===t.FLOAT_MAT3&&(c=3),o.type===t.FLOAT_MAT4&&(c=4),n[l]={type:o.type,location:t.getAttribLocation(e,l),locationSize:c}}return n}function zf(t){return t!==""}function qP(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function XP(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const cle=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ww(t){return t.replace(cle,fle)}const ule=new Map;function fle(t,e){let n=Mt[e];if(n===void 0){const i=ule.get(e);if(i!==void 0)n=Mt[i],pt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return Ww(n)}const dle=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function $P(t){return t.replace(dle,hle)}function hle(t,e,n,i){let r="";for(let o=parseInt(e);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function YP(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const ple={[Zp]:"SHADOWMAP_TYPE_PCF",[Ff]:"SHADOWMAP_TYPE_VSM"};function mle(t){return ple[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const gle={[Nl]:"ENVMAP_TYPE_CUBE",[iu]:"ENVMAP_TYPE_CUBE",[uv]:"ENVMAP_TYPE_CUBE_UV"};function vle(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":gle[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const xle={[iu]:"ENVMAP_MODE_REFRACTION"};function yle(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":xle[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const ble={[tj]:"ENVMAP_BLENDING_MULTIPLY",[rie]:"ENVMAP_BLENDING_MIX",[aie]:"ENVMAP_BLENDING_ADD"};function _le(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":ble[t.combine]||"ENVMAP_BLENDING_NONE"}function wle(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}function Sle(t,e,n,i){const r=t.getContext(),o=n.defines;let l=n.vertexShader,c=n.fragmentShader;const f=mle(n),d=vle(n),h=yle(n),m=_le(n),g=wle(n),y=ole(n),S=sle(o),w=r.createProgram();let v,_,A=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S].filter(zf).join(`
`),v.length>0&&(v+=`
`),_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S].filter(zf).join(`
`),_.length>0&&(_+=`
`)):(v=[YP(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(zf).join(`
`),_=[YP(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",n.envMap?"#define "+m:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ra?"#define TONE_MAPPING":"",n.toneMapping!==Ra?Mt.tonemapping_pars_fragment:"",n.toneMapping!==Ra?rle("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Mt.colorspace_pars_fragment,nle("linearToOutputTexel",n.outputColorSpace),ale(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(zf).join(`
`)),l=Ww(l),l=qP(l,n),l=XP(l,n),c=Ww(c),c=qP(c,n),c=XP(c,n),l=$P(l),c=$P(c),n.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,v=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,_=["#define varying in",n.glslVersion===rP?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===rP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const T=A+v+l,C=A+_+c,P=GP(r,r.VERTEX_SHADER,T),O=GP(r,r.FRAGMENT_SHADER,C);r.attachShader(w,P),r.attachShader(w,O),n.index0AttributeName!==void 0?r.bindAttribLocation(w,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(w,0,"position"),r.linkProgram(w);function D(F){if(t.debug.checkShaderErrors){const j=r.getProgramInfoLog(w)||"",W=r.getShaderInfoLog(P)||"",$=r.getShaderInfoLog(O)||"",Q=j.trim(),B=W.trim(),V=$.trim();let K=!0,ge=!0;if(r.getProgramParameter(w,r.LINK_STATUS)===!1)if(K=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,w,P,O);else{const ve=WP(r,P,"vertex"),H=WP(r,O,"fragment");Bt("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(w,r.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+Q+`
`+ve+`
`+H)}else Q!==""?pt("WebGLProgram: Program Info Log:",Q):(B===""||V==="")&&(ge=!1);ge&&(F.diagnostics={runnable:K,programLog:Q,vertexShader:{log:B,prefix:v},fragmentShader:{log:V,prefix:_}})}r.deleteShader(P),r.deleteShader(O),z=new im(r,w),R=lle(r,w)}let z;this.getUniforms=function(){return z===void 0&&D(this),z};let R;this.getAttributes=function(){return R===void 0&&D(this),R};let U=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=r.getProgramParameter(w,Qse)),U},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(w),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Jse++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=P,this.fragmentShader=O,this}let Ele=0;class Mle{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),o=this._getShaderStage(i),l=this._getShaderCacheForMaterial(e);return l.has(r)===!1&&(l.add(r),r.usedTimes++),l.has(o)===!1&&(l.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new Ale(e),n.set(e,i)),i}}class Ale{constructor(e){this.id=Ele++,this.code=e,this.usedTimes=0}}function Tle(t,e,n,i,r,o,l){const c=new bj,f=new Mle,d=new Set,h=[],m=new Map,g=r.logarithmicDepthBuffer;let y=r.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(R){return d.add(R),R===0?"uv":`uv${R}`}function v(R,U,F,j,W){const $=j.fog,Q=W.geometry,B=R.isMeshStandardMaterial?j.environment:null,V=(R.isMeshStandardMaterial?n:e).get(R.envMap||B),K=V&&V.mapping===uv?V.image.height:null,ge=S[R.type];R.precision!==null&&(y=r.getMaxPrecision(R.precision),y!==R.precision&&pt("WebGLProgram.getParameters:",R.precision,"not supported, using",y,"instead."));const ve=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,H=ve!==void 0?ve.length:0;let ne=0;Q.morphAttributes.position!==void 0&&(ne=1),Q.morphAttributes.normal!==void 0&&(ne=2),Q.morphAttributes.color!==void 0&&(ne=3);let ye,Te,Ie,le;if(ge){const Ut=Sa[ge];ye=Ut.vertexShader,Te=Ut.fragmentShader}else ye=R.vertexShader,Te=R.fragmentShader,f.update(R),Ie=f.getVertexShaderID(R),le=f.getFragmentShaderID(R);const de=t.getRenderTarget(),Le=t.state.buffers.depth.getReversed(),ae=W.isInstancedMesh===!0,Ce=W.isBatchedMesh===!0,We=!!R.map,Ee=!!R.matcap,ct=!!V,Ze=!!R.aoMap,gt=!!R.lightMap,rt=!!R.bumpMap,Vt=!!R.normalMap,X=!!R.displacementMap,mn=!!R.emissiveMap,Lt=!!R.metalnessMap,Wt=!!R.roughnessMap,tt=R.anisotropy>0,G=R.clearcoat>0,L=R.dispersion>0,J=R.iridescence>0,_e=R.sheen>0,Ae=R.transmission>0,xe=tt&&!!R.anisotropyMap,it=G&&!!R.clearcoatMap,Ue=G&&!!R.clearcoatNormalMap,Qe=G&&!!R.clearcoatRoughnessMap,dt=J&&!!R.iridescenceMap,Ne=J&&!!R.iridescenceThicknessMap,Oe=_e&&!!R.sheenColorMap,Ve=_e&&!!R.sheenRoughnessMap,He=!!R.specularMap,ke=!!R.specularColorMap,wt=!!R.specularIntensityMap,Z=Ae&&!!R.transmissionMap,Be=Ae&&!!R.thicknessMap,Pe=!!R.gradientMap,Ge=!!R.alphaMap,Re=R.alphaTest>0,Me=!!R.alphaHash,De=!!R.extensions;let mt=Ra;R.toneMapped&&(de===null||de.isXRRenderTarget===!0)&&(mt=t.toneMapping);const $t={shaderID:ge,shaderType:R.type,shaderName:R.name,vertexShader:ye,fragmentShader:Te,defines:R.defines,customVertexShaderID:Ie,customFragmentShaderID:le,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:y,batching:Ce,batchingColor:Ce&&W._colorsTexture!==null,instancing:ae,instancingColor:ae&&W.instanceColor!==null,instancingMorph:ae&&W.morphTexture!==null,outputColorSpace:de===null?t.outputColorSpace:de.isXRRenderTarget===!0?de.texture.colorSpace:au,alphaToCoverage:!!R.alphaToCoverage,map:We,matcap:Ee,envMap:ct,envMapMode:ct&&V.mapping,envMapCubeUVHeight:K,aoMap:Ze,lightMap:gt,bumpMap:rt,normalMap:Vt,displacementMap:X,emissiveMap:mn,normalMapObjectSpace:Vt&&R.normalMapType===lie,normalMapTangentSpace:Vt&&R.normalMapType===vj,metalnessMap:Lt,roughnessMap:Wt,anisotropy:tt,anisotropyMap:xe,clearcoat:G,clearcoatMap:it,clearcoatNormalMap:Ue,clearcoatRoughnessMap:Qe,dispersion:L,iridescence:J,iridescenceMap:dt,iridescenceThicknessMap:Ne,sheen:_e,sheenColorMap:Oe,sheenRoughnessMap:Ve,specularMap:He,specularColorMap:ke,specularIntensityMap:wt,transmission:Ae,transmissionMap:Z,thicknessMap:Be,gradientMap:Pe,opaque:R.transparent===!1&&R.blending===qc&&R.alphaToCoverage===!1,alphaMap:Ge,alphaTest:Re,alphaHash:Me,combine:R.combine,mapUv:We&&w(R.map.channel),aoMapUv:Ze&&w(R.aoMap.channel),lightMapUv:gt&&w(R.lightMap.channel),bumpMapUv:rt&&w(R.bumpMap.channel),normalMapUv:Vt&&w(R.normalMap.channel),displacementMapUv:X&&w(R.displacementMap.channel),emissiveMapUv:mn&&w(R.emissiveMap.channel),metalnessMapUv:Lt&&w(R.metalnessMap.channel),roughnessMapUv:Wt&&w(R.roughnessMap.channel),anisotropyMapUv:xe&&w(R.anisotropyMap.channel),clearcoatMapUv:it&&w(R.clearcoatMap.channel),clearcoatNormalMapUv:Ue&&w(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Qe&&w(R.clearcoatRoughnessMap.channel),iridescenceMapUv:dt&&w(R.iridescenceMap.channel),iridescenceThicknessMapUv:Ne&&w(R.iridescenceThicknessMap.channel),sheenColorMapUv:Oe&&w(R.sheenColorMap.channel),sheenRoughnessMapUv:Ve&&w(R.sheenRoughnessMap.channel),specularMapUv:He&&w(R.specularMap.channel),specularColorMapUv:ke&&w(R.specularColorMap.channel),specularIntensityMapUv:wt&&w(R.specularIntensityMap.channel),transmissionMapUv:Z&&w(R.transmissionMap.channel),thicknessMapUv:Be&&w(R.thicknessMap.channel),alphaMapUv:Ge&&w(R.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Vt||tt),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!Q.attributes.uv&&(We||Ge),fog:!!$,useFog:R.fog===!0,fogExp2:!!$&&$.isFogExp2,flatShading:R.flatShading===!0&&R.wireframe===!1,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:Le,skinning:W.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:H,morphTextureStride:ne,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&F.length>0,shadowMapType:t.shadowMap.type,toneMapping:mt,decodeVideoTexture:We&&R.map.isVideoTexture===!0&&kt.getTransfer(R.map.colorSpace)===Qt,decodeVideoTextureEmissive:mn&&R.emissiveMap.isVideoTexture===!0&&kt.getTransfer(R.emissiveMap.colorSpace)===Qt,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===ho,flipSided:R.side===tr,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:De&&R.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(De&&R.extensions.multiDraw===!0||Ce)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return $t.vertexUv1s=d.has(1),$t.vertexUv2s=d.has(2),$t.vertexUv3s=d.has(3),d.clear(),$t}function _(R){const U=[];if(R.shaderID?U.push(R.shaderID):(U.push(R.customVertexShaderID),U.push(R.customFragmentShaderID)),R.defines!==void 0)for(const F in R.defines)U.push(F),U.push(R.defines[F]);return R.isRawShaderMaterial===!1&&(A(U,R),T(U,R),U.push(t.outputColorSpace)),U.push(R.customProgramCacheKey),U.join()}function A(R,U){R.push(U.precision),R.push(U.outputColorSpace),R.push(U.envMapMode),R.push(U.envMapCubeUVHeight),R.push(U.mapUv),R.push(U.alphaMapUv),R.push(U.lightMapUv),R.push(U.aoMapUv),R.push(U.bumpMapUv),R.push(U.normalMapUv),R.push(U.displacementMapUv),R.push(U.emissiveMapUv),R.push(U.metalnessMapUv),R.push(U.roughnessMapUv),R.push(U.anisotropyMapUv),R.push(U.clearcoatMapUv),R.push(U.clearcoatNormalMapUv),R.push(U.clearcoatRoughnessMapUv),R.push(U.iridescenceMapUv),R.push(U.iridescenceThicknessMapUv),R.push(U.sheenColorMapUv),R.push(U.sheenRoughnessMapUv),R.push(U.specularMapUv),R.push(U.specularColorMapUv),R.push(U.specularIntensityMapUv),R.push(U.transmissionMapUv),R.push(U.thicknessMapUv),R.push(U.combine),R.push(U.fogExp2),R.push(U.sizeAttenuation),R.push(U.morphTargetsCount),R.push(U.morphAttributeCount),R.push(U.numDirLights),R.push(U.numPointLights),R.push(U.numSpotLights),R.push(U.numSpotLightMaps),R.push(U.numHemiLights),R.push(U.numRectAreaLights),R.push(U.numDirLightShadows),R.push(U.numPointLightShadows),R.push(U.numSpotLightShadows),R.push(U.numSpotLightShadowsWithMaps),R.push(U.numLightProbes),R.push(U.shadowMapType),R.push(U.toneMapping),R.push(U.numClippingPlanes),R.push(U.numClipIntersection),R.push(U.depthPacking)}function T(R,U){c.disableAll(),U.instancing&&c.enable(0),U.instancingColor&&c.enable(1),U.instancingMorph&&c.enable(2),U.matcap&&c.enable(3),U.envMap&&c.enable(4),U.normalMapObjectSpace&&c.enable(5),U.normalMapTangentSpace&&c.enable(6),U.clearcoat&&c.enable(7),U.iridescence&&c.enable(8),U.alphaTest&&c.enable(9),U.vertexColors&&c.enable(10),U.vertexAlphas&&c.enable(11),U.vertexUv1s&&c.enable(12),U.vertexUv2s&&c.enable(13),U.vertexUv3s&&c.enable(14),U.vertexTangents&&c.enable(15),U.anisotropy&&c.enable(16),U.alphaHash&&c.enable(17),U.batching&&c.enable(18),U.dispersion&&c.enable(19),U.batchingColor&&c.enable(20),U.gradientMap&&c.enable(21),R.push(c.mask),c.disableAll(),U.fog&&c.enable(0),U.useFog&&c.enable(1),U.flatShading&&c.enable(2),U.logarithmicDepthBuffer&&c.enable(3),U.reversedDepthBuffer&&c.enable(4),U.skinning&&c.enable(5),U.morphTargets&&c.enable(6),U.morphNormals&&c.enable(7),U.morphColors&&c.enable(8),U.premultipliedAlpha&&c.enable(9),U.shadowMapEnabled&&c.enable(10),U.doubleSided&&c.enable(11),U.flipSided&&c.enable(12),U.useDepthPacking&&c.enable(13),U.dithering&&c.enable(14),U.transmission&&c.enable(15),U.sheen&&c.enable(16),U.opaque&&c.enable(17),U.pointsUvs&&c.enable(18),U.decodeVideoTexture&&c.enable(19),U.decodeVideoTextureEmissive&&c.enable(20),U.alphaToCoverage&&c.enable(21),R.push(c.mask)}function C(R){const U=S[R.type];let F;if(U){const j=Sa[U];F=Iie.clone(j.uniforms)}else F=R.uniforms;return F}function P(R,U){let F=m.get(U);return F!==void 0?++F.usedTimes:(F=new Sle(t,U,R,o),h.push(F),m.set(U,F)),F}function O(R){if(--R.usedTimes===0){const U=h.indexOf(R);h[U]=h[h.length-1],h.pop(),m.delete(R.cacheKey),R.destroy()}}function D(R){f.remove(R)}function z(){f.dispose()}return{getParameters:v,getProgramCacheKey:_,getUniforms:C,acquireProgram:P,releaseProgram:O,releaseShaderCache:D,programs:h,dispose:z}}function Cle(){let t=new WeakMap;function e(l){return t.has(l)}function n(l){let c=t.get(l);return c===void 0&&(c={},t.set(l,c)),c}function i(l){t.delete(l)}function r(l,c,f){t.get(l)[c]=f}function o(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:o}}function Rle(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function KP(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ZP(){const t=[];let e=0;const n=[],i=[],r=[];function o(){e=0,n.length=0,i.length=0,r.length=0}function l(m,g,y,S,w,v){let _=t[e];return _===void 0?(_={id:m.id,object:m,geometry:g,material:y,groupOrder:S,renderOrder:m.renderOrder,z:w,group:v},t[e]=_):(_.id=m.id,_.object=m,_.geometry=g,_.material=y,_.groupOrder=S,_.renderOrder=m.renderOrder,_.z=w,_.group=v),e++,_}function c(m,g,y,S,w,v){const _=l(m,g,y,S,w,v);y.transmission>0?i.push(_):y.transparent===!0?r.push(_):n.push(_)}function f(m,g,y,S,w,v){const _=l(m,g,y,S,w,v);y.transmission>0?i.unshift(_):y.transparent===!0?r.unshift(_):n.unshift(_)}function d(m,g){n.length>1&&n.sort(m||Rle),i.length>1&&i.sort(g||KP),r.length>1&&r.sort(g||KP)}function h(){for(let m=e,g=t.length;m<g;m++){const y=t[m];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:n,transmissive:i,transparent:r,init:o,push:c,unshift:f,finish:h,sort:d}}function Nle(){let t=new WeakMap;function e(i,r){const o=t.get(i);let l;return o===void 0?(l=new ZP,t.set(i,[l])):r>=o.length?(l=new ZP,o.push(l)):l=o[r],l}function n(){t=new WeakMap}return{get:e,dispose:n}}function Ole(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new re,color:new Dt};break;case"SpotLight":n={position:new re,direction:new re,color:new Dt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new re,color:new Dt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new re,skyColor:new Dt,groundColor:new Dt};break;case"RectAreaLight":n={color:new Dt,position:new re,halfWidth:new re,halfHeight:new re};break}return t[e.id]=n,n}}}function Ple(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _t,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Dle=0;function Lle(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Ule(t){const e=new Ole,n=Ple(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new re);const r=new re,o=new wn,l=new wn;function c(d){let h=0,m=0,g=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let y=0,S=0,w=0,v=0,_=0,A=0,T=0,C=0,P=0,O=0,D=0;d.sort(Lle);for(let R=0,U=d.length;R<U;R++){const F=d[R],j=F.color,W=F.intensity,$=F.distance;let Q=null;if(F.shadow&&F.shadow.map&&(F.shadow.map.texture.format===ru?Q=F.shadow.map.texture:Q=F.shadow.map.depthTexture||F.shadow.map.texture),F.isAmbientLight)h+=j.r*W,m+=j.g*W,g+=j.b*W;else if(F.isLightProbe){for(let B=0;B<9;B++)i.probe[B].addScaledVector(F.sh.coefficients[B],W);D++}else if(F.isDirectionalLight){const B=e.get(F);if(B.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const V=F.shadow,K=n.get(F);K.shadowIntensity=V.intensity,K.shadowBias=V.bias,K.shadowNormalBias=V.normalBias,K.shadowRadius=V.radius,K.shadowMapSize=V.mapSize,i.directionalShadow[y]=K,i.directionalShadowMap[y]=Q,i.directionalShadowMatrix[y]=F.shadow.matrix,A++}i.directional[y]=B,y++}else if(F.isSpotLight){const B=e.get(F);B.position.setFromMatrixPosition(F.matrixWorld),B.color.copy(j).multiplyScalar(W),B.distance=$,B.coneCos=Math.cos(F.angle),B.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),B.decay=F.decay,i.spot[w]=B;const V=F.shadow;if(F.map&&(i.spotLightMap[P]=F.map,P++,V.updateMatrices(F),F.castShadow&&O++),i.spotLightMatrix[w]=V.matrix,F.castShadow){const K=n.get(F);K.shadowIntensity=V.intensity,K.shadowBias=V.bias,K.shadowNormalBias=V.normalBias,K.shadowRadius=V.radius,K.shadowMapSize=V.mapSize,i.spotShadow[w]=K,i.spotShadowMap[w]=Q,C++}w++}else if(F.isRectAreaLight){const B=e.get(F);B.color.copy(j).multiplyScalar(W),B.halfWidth.set(F.width*.5,0,0),B.halfHeight.set(0,F.height*.5,0),i.rectArea[v]=B,v++}else if(F.isPointLight){const B=e.get(F);if(B.color.copy(F.color).multiplyScalar(F.intensity),B.distance=F.distance,B.decay=F.decay,F.castShadow){const V=F.shadow,K=n.get(F);K.shadowIntensity=V.intensity,K.shadowBias=V.bias,K.shadowNormalBias=V.normalBias,K.shadowRadius=V.radius,K.shadowMapSize=V.mapSize,K.shadowCameraNear=V.camera.near,K.shadowCameraFar=V.camera.far,i.pointShadow[S]=K,i.pointShadowMap[S]=Q,i.pointShadowMatrix[S]=F.shadow.matrix,T++}i.point[S]=B,S++}else if(F.isHemisphereLight){const B=e.get(F);B.skyColor.copy(F.color).multiplyScalar(W),B.groundColor.copy(F.groundColor).multiplyScalar(W),i.hemi[_]=B,_++}}v>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ze.LTC_FLOAT_1,i.rectAreaLTC2=ze.LTC_FLOAT_2):(i.rectAreaLTC1=ze.LTC_HALF_1,i.rectAreaLTC2=ze.LTC_HALF_2)),i.ambient[0]=h,i.ambient[1]=m,i.ambient[2]=g;const z=i.hash;(z.directionalLength!==y||z.pointLength!==S||z.spotLength!==w||z.rectAreaLength!==v||z.hemiLength!==_||z.numDirectionalShadows!==A||z.numPointShadows!==T||z.numSpotShadows!==C||z.numSpotMaps!==P||z.numLightProbes!==D)&&(i.directional.length=y,i.spot.length=w,i.rectArea.length=v,i.point.length=S,i.hemi.length=_,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=C+P-O,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=D,z.directionalLength=y,z.pointLength=S,z.spotLength=w,z.rectAreaLength=v,z.hemiLength=_,z.numDirectionalShadows=A,z.numPointShadows=T,z.numSpotShadows=C,z.numSpotMaps=P,z.numLightProbes=D,i.version=Dle++)}function f(d,h){let m=0,g=0,y=0,S=0,w=0;const v=h.matrixWorldInverse;for(let _=0,A=d.length;_<A;_++){const T=d[_];if(T.isDirectionalLight){const C=i.directional[m];C.direction.setFromMatrixPosition(T.matrixWorld),r.setFromMatrixPosition(T.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(v),m++}else if(T.isSpotLight){const C=i.spot[y];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(v),C.direction.setFromMatrixPosition(T.matrixWorld),r.setFromMatrixPosition(T.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(v),y++}else if(T.isRectAreaLight){const C=i.rectArea[S];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(v),l.identity(),o.copy(T.matrixWorld),o.premultiply(v),l.extractRotation(o),C.halfWidth.set(T.width*.5,0,0),C.halfHeight.set(0,T.height*.5,0),C.halfWidth.applyMatrix4(l),C.halfHeight.applyMatrix4(l),S++}else if(T.isPointLight){const C=i.point[g];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(v),g++}else if(T.isHemisphereLight){const C=i.hemi[w];C.direction.setFromMatrixPosition(T.matrixWorld),C.direction.transformDirection(v),w++}}}return{setup:c,setupView:f,state:i}}function QP(t){const e=new Ule(t),n=[],i=[];function r(h){d.camera=h,n.length=0,i.length=0}function o(h){n.push(h)}function l(h){i.push(h)}function c(){e.setup(n)}function f(h){e.setupView(n,h)}const d={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:d,setupLights:c,setupLightsView:f,pushLight:o,pushShadow:l}}function kle(t){let e=new WeakMap;function n(r,o=0){const l=e.get(r);let c;return l===void 0?(c=new QP(t),e.set(r,[c])):o>=l.length?(c=new QP(t),l.push(c)):c=l[o],c}function i(){e=new WeakMap}return{get:n,dispose:i}}const Ile=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,jle=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,Ble=[new re(1,0,0),new re(-1,0,0),new re(0,1,0),new re(0,-1,0),new re(0,0,1),new re(0,0,-1)],Fle=[new re(0,-1,0),new re(0,-1,0),new re(0,0,1),new re(0,0,-1),new re(0,-1,0),new re(0,-1,0)],JP=new wn,kf=new re,Wb=new re;function zle(t,e,n){let i=new W1;const r=new _t,o=new _t,l=new Tn,c=new Zie,f=new Qie,d={},h=n.maxTextureSize,m={[Ns]:tr,[tr]:Ns,[ho]:ho},g=new ka({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _t},radius:{value:4}},vertexShader:Ile,fragmentShader:jle}),y=g.clone();y.defines.HORIZONTAL_PASS=1;const S=new Vr;S.setAttribute("position",new sa(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new mr(S,g),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Zp;let _=this.type;this.render=function(O,D,z){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||O.length===0)return;O.type===ej&&(pt("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),O.type=Zp);const R=t.getRenderTarget(),U=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),j=t.state;j.setBlending(bo),j.buffers.depth.getReversed()===!0?j.buffers.color.setClear(0,0,0,0):j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);const W=_!==this.type;W&&D.traverse(function($){$.material&&(Array.isArray($.material)?$.material.forEach(Q=>Q.needsUpdate=!0):$.material.needsUpdate=!0)});for(let $=0,Q=O.length;$<Q;$++){const B=O[$],V=B.shadow;if(V===void 0){pt("WebGLShadowMap:",B,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;r.copy(V.mapSize);const K=V.getFrameExtents();if(r.multiply(K),o.copy(V.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(o.x=Math.floor(h/K.x),r.x=o.x*K.x,V.mapSize.x=o.x),r.y>h&&(o.y=Math.floor(h/K.y),r.y=o.y*K.y,V.mapSize.y=o.y)),V.map===null||W===!0){if(V.map!==null&&(V.map.depthTexture!==null&&(V.map.depthTexture.dispose(),V.map.depthTexture=null),V.map.dispose()),this.type===Ff){if(B.isPointLight){pt("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}V.map=new Na(r.x,r.y,{format:ru,type:No,minFilter:Ci,magFilter:Ci,generateMipmaps:!1}),V.map.texture.name=B.name+".shadowMap",V.map.depthTexture=new ud(r.x,r.y,Aa),V.map.depthTexture.name=B.name+".shadowMapDepth",V.map.depthTexture.format=Oo,V.map.depthTexture.compareFunction=null,V.map.depthTexture.minFilter=yi,V.map.depthTexture.magFilter=yi}else{B.isPointLight?(V.map=new Cj(r.x),V.map.depthTexture=new Yie(r.x,La)):(V.map=new Na(r.x,r.y),V.map.depthTexture=new ud(r.x,r.y,La)),V.map.depthTexture.name=B.name+".shadowMap",V.map.depthTexture.format=Oo;const ve=t.state.buffers.depth.getReversed();this.type===Zp?(V.map.depthTexture.compareFunction=ve?H1:z1,V.map.depthTexture.minFilter=Ci,V.map.depthTexture.magFilter=Ci):(V.map.depthTexture.compareFunction=null,V.map.depthTexture.minFilter=yi,V.map.depthTexture.magFilter=yi)}V.camera.updateProjectionMatrix()}const ge=V.map.isWebGLCubeRenderTarget?6:1;for(let ve=0;ve<ge;ve++){if(V.map.isWebGLCubeRenderTarget)t.setRenderTarget(V.map,ve),t.clear();else{ve===0&&(t.setRenderTarget(V.map),t.clear());const H=V.getViewport(ve);l.set(o.x*H.x,o.y*H.y,o.x*H.z,o.y*H.w),j.viewport(l)}if(B.isPointLight){const H=V.camera,ne=V.matrix,ye=B.distance||H.far;ye!==H.far&&(H.far=ye,H.updateProjectionMatrix()),kf.setFromMatrixPosition(B.matrixWorld),H.position.copy(kf),Wb.copy(H.position),Wb.add(Ble[ve]),H.up.copy(Fle[ve]),H.lookAt(Wb),H.updateMatrixWorld(),ne.makeTranslation(-kf.x,-kf.y,-kf.z),JP.multiplyMatrices(H.projectionMatrix,H.matrixWorldInverse),V._frustum.setFromProjectionMatrix(JP,H.coordinateSystem,H.reversedDepth)}else V.updateMatrices(B);i=V.getFrustum(),C(D,z,V.camera,B,this.type)}V.isPointLightShadow!==!0&&this.type===Ff&&A(V,z),V.needsUpdate=!1}_=this.type,v.needsUpdate=!1,t.setRenderTarget(R,U,F)};function A(O,D){const z=e.update(w);g.defines.VSM_SAMPLES!==O.blurSamples&&(g.defines.VSM_SAMPLES=O.blurSamples,y.defines.VSM_SAMPLES=O.blurSamples,g.needsUpdate=!0,y.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new Na(r.x,r.y,{format:ru,type:No})),g.uniforms.shadow_pass.value=O.map.depthTexture,g.uniforms.resolution.value=O.mapSize,g.uniforms.radius.value=O.radius,t.setRenderTarget(O.mapPass),t.clear(),t.renderBufferDirect(D,null,z,g,w,null),y.uniforms.shadow_pass.value=O.mapPass.texture,y.uniforms.resolution.value=O.mapSize,y.uniforms.radius.value=O.radius,t.setRenderTarget(O.map),t.clear(),t.renderBufferDirect(D,null,z,y,w,null)}function T(O,D,z,R){let U=null;const F=z.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(F!==void 0)U=F;else if(U=z.isPointLight===!0?f:c,t.localClippingEnabled&&D.clipShadows===!0&&Array.isArray(D.clippingPlanes)&&D.clippingPlanes.length!==0||D.displacementMap&&D.displacementScale!==0||D.alphaMap&&D.alphaTest>0||D.map&&D.alphaTest>0||D.alphaToCoverage===!0){const j=U.uuid,W=D.uuid;let $=d[j];$===void 0&&($={},d[j]=$);let Q=$[W];Q===void 0&&(Q=U.clone(),$[W]=Q,D.addEventListener("dispose",P)),U=Q}if(U.visible=D.visible,U.wireframe=D.wireframe,R===Ff?U.side=D.shadowSide!==null?D.shadowSide:D.side:U.side=D.shadowSide!==null?D.shadowSide:m[D.side],U.alphaMap=D.alphaMap,U.alphaTest=D.alphaToCoverage===!0?.5:D.alphaTest,U.map=D.map,U.clipShadows=D.clipShadows,U.clippingPlanes=D.clippingPlanes,U.clipIntersection=D.clipIntersection,U.displacementMap=D.displacementMap,U.displacementScale=D.displacementScale,U.displacementBias=D.displacementBias,U.wireframeLinewidth=D.wireframeLinewidth,U.linewidth=D.linewidth,z.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const j=t.properties.get(U);j.light=z}return U}function C(O,D,z,R,U){if(O.visible===!1)return;if(O.layers.test(D.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&U===Ff)&&(!O.frustumCulled||i.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,O.matrixWorld);const W=e.update(O),$=O.material;if(Array.isArray($)){const Q=W.groups;for(let B=0,V=Q.length;B<V;B++){const K=Q[B],ge=$[K.materialIndex];if(ge&&ge.visible){const ve=T(O,ge,R,U);O.onBeforeShadow(t,O,D,z,W,ve,K),t.renderBufferDirect(z,null,W,ve,O,K),O.onAfterShadow(t,O,D,z,W,ve,K)}}}else if($.visible){const Q=T(O,$,R,U);O.onBeforeShadow(t,O,D,z,W,Q,null),t.renderBufferDirect(z,null,W,Q,O,null),O.onAfterShadow(t,O,D,z,W,Q,null)}}const j=O.children;for(let W=0,$=j.length;W<$;W++)C(j[W],D,z,R,U)}function P(O){O.target.removeEventListener("dispose",P);for(const z in d){const R=d[z],U=O.target.uuid;U in R&&(R[U].dispose(),delete R[U])}}}const Hle={[ew]:tw,[nw]:aw,[iw]:ow,[nu]:rw,[tw]:ew,[aw]:nw,[ow]:iw,[rw]:nu};function Gle(t,e){function n(){let Z=!1;const Be=new Tn;let Pe=null;const Ge=new Tn(0,0,0,0);return{setMask:function(Re){Pe!==Re&&!Z&&(t.colorMask(Re,Re,Re,Re),Pe=Re)},setLocked:function(Re){Z=Re},setClear:function(Re,Me,De,mt,$t){$t===!0&&(Re*=mt,Me*=mt,De*=mt),Be.set(Re,Me,De,mt),Ge.equals(Be)===!1&&(t.clearColor(Re,Me,De,mt),Ge.copy(Be))},reset:function(){Z=!1,Pe=null,Ge.set(-1,0,0,0)}}}function i(){let Z=!1,Be=!1,Pe=null,Ge=null,Re=null;return{setReversed:function(Me){if(Be!==Me){const De=e.get("EXT_clip_control");Me?De.clipControlEXT(De.LOWER_LEFT_EXT,De.ZERO_TO_ONE_EXT):De.clipControlEXT(De.LOWER_LEFT_EXT,De.NEGATIVE_ONE_TO_ONE_EXT),Be=Me;const mt=Re;Re=null,this.setClear(mt)}},getReversed:function(){return Be},setTest:function(Me){Me?de(t.DEPTH_TEST):Le(t.DEPTH_TEST)},setMask:function(Me){Pe!==Me&&!Z&&(t.depthMask(Me),Pe=Me)},setFunc:function(Me){if(Be&&(Me=Hle[Me]),Ge!==Me){switch(Me){case ew:t.depthFunc(t.NEVER);break;case tw:t.depthFunc(t.ALWAYS);break;case nw:t.depthFunc(t.LESS);break;case nu:t.depthFunc(t.LEQUAL);break;case iw:t.depthFunc(t.EQUAL);break;case rw:t.depthFunc(t.GEQUAL);break;case aw:t.depthFunc(t.GREATER);break;case ow:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ge=Me}},setLocked:function(Me){Z=Me},setClear:function(Me){Re!==Me&&(Be&&(Me=1-Me),t.clearDepth(Me),Re=Me)},reset:function(){Z=!1,Pe=null,Ge=null,Re=null,Be=!1}}}function r(){let Z=!1,Be=null,Pe=null,Ge=null,Re=null,Me=null,De=null,mt=null,$t=null;return{setTest:function(Ut){Z||(Ut?de(t.STENCIL_TEST):Le(t.STENCIL_TEST))},setMask:function(Ut){Be!==Ut&&!Z&&(t.stencilMask(Ut),Be=Ut)},setFunc:function(Ut,_i,Wr){(Pe!==Ut||Ge!==_i||Re!==Wr)&&(t.stencilFunc(Ut,_i,Wr),Pe=Ut,Ge=_i,Re=Wr)},setOp:function(Ut,_i,Wr){(Me!==Ut||De!==_i||mt!==Wr)&&(t.stencilOp(Ut,_i,Wr),Me=Ut,De=_i,mt=Wr)},setLocked:function(Ut){Z=Ut},setClear:function(Ut){$t!==Ut&&(t.clearStencil(Ut),$t=Ut)},reset:function(){Z=!1,Be=null,Pe=null,Ge=null,Re=null,Me=null,De=null,mt=null,$t=null}}}const o=new n,l=new i,c=new r,f=new WeakMap,d=new WeakMap;let h={},m={},g=new WeakMap,y=[],S=null,w=!1,v=null,_=null,A=null,T=null,C=null,P=null,O=null,D=new Dt(0,0,0),z=0,R=!1,U=null,F=null,j=null,W=null,$=null;const Q=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let B=!1,V=0;const K=t.getParameter(t.VERSION);K.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(K)[1]),B=V>=1):K.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(K)[1]),B=V>=2);let ge=null,ve={};const H=t.getParameter(t.SCISSOR_BOX),ne=t.getParameter(t.VIEWPORT),ye=new Tn().fromArray(H),Te=new Tn().fromArray(ne);function Ie(Z,Be,Pe,Ge){const Re=new Uint8Array(4),Me=t.createTexture();t.bindTexture(Z,Me),t.texParameteri(Z,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Z,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let De=0;De<Pe;De++)Z===t.TEXTURE_3D||Z===t.TEXTURE_2D_ARRAY?t.texImage3D(Be,0,t.RGBA,1,1,Ge,0,t.RGBA,t.UNSIGNED_BYTE,Re):t.texImage2D(Be+De,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Re);return Me}const le={};le[t.TEXTURE_2D]=Ie(t.TEXTURE_2D,t.TEXTURE_2D,1),le[t.TEXTURE_CUBE_MAP]=Ie(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),le[t.TEXTURE_2D_ARRAY]=Ie(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),le[t.TEXTURE_3D]=Ie(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),de(t.DEPTH_TEST),l.setFunc(nu),rt(!1),Vt(QO),de(t.CULL_FACE),Ze(bo);function de(Z){h[Z]!==!0&&(t.enable(Z),h[Z]=!0)}function Le(Z){h[Z]!==!1&&(t.disable(Z),h[Z]=!1)}function ae(Z,Be){return m[Z]!==Be?(t.bindFramebuffer(Z,Be),m[Z]=Be,Z===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=Be),Z===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=Be),!0):!1}function Ce(Z,Be){let Pe=y,Ge=!1;if(Z){Pe=g.get(Be),Pe===void 0&&(Pe=[],g.set(Be,Pe));const Re=Z.textures;if(Pe.length!==Re.length||Pe[0]!==t.COLOR_ATTACHMENT0){for(let Me=0,De=Re.length;Me<De;Me++)Pe[Me]=t.COLOR_ATTACHMENT0+Me;Pe.length=Re.length,Ge=!0}}else Pe[0]!==t.BACK&&(Pe[0]=t.BACK,Ge=!0);Ge&&t.drawBuffers(Pe)}function We(Z){return S!==Z?(t.useProgram(Z),S=Z,!0):!1}const Ee={[sl]:t.FUNC_ADD,[zne]:t.FUNC_SUBTRACT,[Hne]:t.FUNC_REVERSE_SUBTRACT};Ee[Gne]=t.MIN,Ee[Vne]=t.MAX;const ct={[Wne]:t.ZERO,[qne]:t.ONE,[Xne]:t.SRC_COLOR,[Q_]:t.SRC_ALPHA,[Jne]:t.SRC_ALPHA_SATURATE,[Zne]:t.DST_COLOR,[Yne]:t.DST_ALPHA,[$ne]:t.ONE_MINUS_SRC_COLOR,[J_]:t.ONE_MINUS_SRC_ALPHA,[Qne]:t.ONE_MINUS_DST_COLOR,[Kne]:t.ONE_MINUS_DST_ALPHA,[eie]:t.CONSTANT_COLOR,[tie]:t.ONE_MINUS_CONSTANT_COLOR,[nie]:t.CONSTANT_ALPHA,[iie]:t.ONE_MINUS_CONSTANT_ALPHA};function Ze(Z,Be,Pe,Ge,Re,Me,De,mt,$t,Ut){if(Z===bo){w===!0&&(Le(t.BLEND),w=!1);return}if(w===!1&&(de(t.BLEND),w=!0),Z!==Fne){if(Z!==v||Ut!==R){if((_!==sl||C!==sl)&&(t.blendEquation(t.FUNC_ADD),_=sl,C=sl),Ut)switch(Z){case qc:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case JO:t.blendFunc(t.ONE,t.ONE);break;case eP:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case tP:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:Bt("WebGLState: Invalid blending: ",Z);break}else switch(Z){case qc:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case JO:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case eP:Bt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case tP:Bt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Bt("WebGLState: Invalid blending: ",Z);break}A=null,T=null,P=null,O=null,D.set(0,0,0),z=0,v=Z,R=Ut}return}Re=Re||Be,Me=Me||Pe,De=De||Ge,(Be!==_||Re!==C)&&(t.blendEquationSeparate(Ee[Be],Ee[Re]),_=Be,C=Re),(Pe!==A||Ge!==T||Me!==P||De!==O)&&(t.blendFuncSeparate(ct[Pe],ct[Ge],ct[Me],ct[De]),A=Pe,T=Ge,P=Me,O=De),(mt.equals(D)===!1||$t!==z)&&(t.blendColor(mt.r,mt.g,mt.b,$t),D.copy(mt),z=$t),v=Z,R=!1}function gt(Z,Be){Z.side===ho?Le(t.CULL_FACE):de(t.CULL_FACE);let Pe=Z.side===tr;Be&&(Pe=!Pe),rt(Pe),Z.blending===qc&&Z.transparent===!1?Ze(bo):Ze(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.blendColor,Z.blendAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),o.setMask(Z.colorWrite);const Ge=Z.stencilWrite;c.setTest(Ge),Ge&&(c.setMask(Z.stencilWriteMask),c.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),c.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),mn(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?de(t.SAMPLE_ALPHA_TO_COVERAGE):Le(t.SAMPLE_ALPHA_TO_COVERAGE)}function rt(Z){U!==Z&&(Z?t.frontFace(t.CW):t.frontFace(t.CCW),U=Z)}function Vt(Z){Z!==jne?(de(t.CULL_FACE),Z!==F&&(Z===QO?t.cullFace(t.BACK):Z===Bne?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Le(t.CULL_FACE),F=Z}function X(Z){Z!==j&&(B&&t.lineWidth(Z),j=Z)}function mn(Z,Be,Pe){Z?(de(t.POLYGON_OFFSET_FILL),(W!==Be||$!==Pe)&&(t.polygonOffset(Be,Pe),W=Be,$=Pe)):Le(t.POLYGON_OFFSET_FILL)}function Lt(Z){Z?de(t.SCISSOR_TEST):Le(t.SCISSOR_TEST)}function Wt(Z){Z===void 0&&(Z=t.TEXTURE0+Q-1),ge!==Z&&(t.activeTexture(Z),ge=Z)}function tt(Z,Be,Pe){Pe===void 0&&(ge===null?Pe=t.TEXTURE0+Q-1:Pe=ge);let Ge=ve[Pe];Ge===void 0&&(Ge={type:void 0,texture:void 0},ve[Pe]=Ge),(Ge.type!==Z||Ge.texture!==Be)&&(ge!==Pe&&(t.activeTexture(Pe),ge=Pe),t.bindTexture(Z,Be||le[Z]),Ge.type=Z,Ge.texture=Be)}function G(){const Z=ve[ge];Z!==void 0&&Z.type!==void 0&&(t.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function L(){try{t.compressedTexImage2D(...arguments)}catch(Z){Bt("WebGLState:",Z)}}function J(){try{t.compressedTexImage3D(...arguments)}catch(Z){Bt("WebGLState:",Z)}}function _e(){try{t.texSubImage2D(...arguments)}catch(Z){Bt("WebGLState:",Z)}}function Ae(){try{t.texSubImage3D(...arguments)}catch(Z){Bt("WebGLState:",Z)}}function xe(){try{t.compressedTexSubImage2D(...arguments)}catch(Z){Bt("WebGLState:",Z)}}function it(){try{t.compressedTexSubImage3D(...arguments)}catch(Z){Bt("WebGLState:",Z)}}function Ue(){try{t.texStorage2D(...arguments)}catch(Z){Bt("WebGLState:",Z)}}function Qe(){try{t.texStorage3D(...arguments)}catch(Z){Bt("WebGLState:",Z)}}function dt(){try{t.texImage2D(...arguments)}catch(Z){Bt("WebGLState:",Z)}}function Ne(){try{t.texImage3D(...arguments)}catch(Z){Bt("WebGLState:",Z)}}function Oe(Z){ye.equals(Z)===!1&&(t.scissor(Z.x,Z.y,Z.z,Z.w),ye.copy(Z))}function Ve(Z){Te.equals(Z)===!1&&(t.viewport(Z.x,Z.y,Z.z,Z.w),Te.copy(Z))}function He(Z,Be){let Pe=d.get(Be);Pe===void 0&&(Pe=new WeakMap,d.set(Be,Pe));let Ge=Pe.get(Z);Ge===void 0&&(Ge=t.getUniformBlockIndex(Be,Z.name),Pe.set(Z,Ge))}function ke(Z,Be){const Ge=d.get(Be).get(Z);f.get(Be)!==Ge&&(t.uniformBlockBinding(Be,Ge,Z.__bindingPointIndex),f.set(Be,Ge))}function wt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),l.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},ge=null,ve={},m={},g=new WeakMap,y=[],S=null,w=!1,v=null,_=null,A=null,T=null,C=null,P=null,O=null,D=new Dt(0,0,0),z=0,R=!1,U=null,F=null,j=null,W=null,$=null,ye.set(0,0,t.canvas.width,t.canvas.height),Te.set(0,0,t.canvas.width,t.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:de,disable:Le,bindFramebuffer:ae,drawBuffers:Ce,useProgram:We,setBlending:Ze,setMaterial:gt,setFlipSided:rt,setCullFace:Vt,setLineWidth:X,setPolygonOffset:mn,setScissorTest:Lt,activeTexture:Wt,bindTexture:tt,unbindTexture:G,compressedTexImage2D:L,compressedTexImage3D:J,texImage2D:dt,texImage3D:Ne,updateUBOMapping:He,uniformBlockBinding:ke,texStorage2D:Ue,texStorage3D:Qe,texSubImage2D:_e,texSubImage3D:Ae,compressedTexSubImage2D:xe,compressedTexSubImage3D:it,scissor:Oe,viewport:Ve,reset:wt}}function Vle(t,e,n,i,r,o,l){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new _t,h=new WeakMap;let m;const g=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(G,L){return y?new OffscreenCanvas(G,L):cg("canvas")}function w(G,L,J){let _e=1;const Ae=tt(G);if((Ae.width>J||Ae.height>J)&&(_e=J/Math.max(Ae.width,Ae.height)),_e<1)if(typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&G instanceof ImageBitmap||typeof VideoFrame<"u"&&G instanceof VideoFrame){const xe=Math.floor(_e*Ae.width),it=Math.floor(_e*Ae.height);m===void 0&&(m=S(xe,it));const Ue=L?S(xe,it):m;return Ue.width=xe,Ue.height=it,Ue.getContext("2d").drawImage(G,0,0,xe,it),pt("WebGLRenderer: Texture has been resized from ("+Ae.width+"x"+Ae.height+") to ("+xe+"x"+it+")."),Ue}else return"data"in G&&pt("WebGLRenderer: Image in DataTexture is too big ("+Ae.width+"x"+Ae.height+")."),G;return G}function v(G){return G.generateMipmaps}function _(G){t.generateMipmap(G)}function A(G){return G.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:G.isWebGL3DRenderTarget?t.TEXTURE_3D:G.isWebGLArrayRenderTarget||G.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function T(G,L,J,_e,Ae=!1){if(G!==null){if(t[G]!==void 0)return t[G];pt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let xe=L;if(L===t.RED&&(J===t.FLOAT&&(xe=t.R32F),J===t.HALF_FLOAT&&(xe=t.R16F),J===t.UNSIGNED_BYTE&&(xe=t.R8)),L===t.RED_INTEGER&&(J===t.UNSIGNED_BYTE&&(xe=t.R8UI),J===t.UNSIGNED_SHORT&&(xe=t.R16UI),J===t.UNSIGNED_INT&&(xe=t.R32UI),J===t.BYTE&&(xe=t.R8I),J===t.SHORT&&(xe=t.R16I),J===t.INT&&(xe=t.R32I)),L===t.RG&&(J===t.FLOAT&&(xe=t.RG32F),J===t.HALF_FLOAT&&(xe=t.RG16F),J===t.UNSIGNED_BYTE&&(xe=t.RG8)),L===t.RG_INTEGER&&(J===t.UNSIGNED_BYTE&&(xe=t.RG8UI),J===t.UNSIGNED_SHORT&&(xe=t.RG16UI),J===t.UNSIGNED_INT&&(xe=t.RG32UI),J===t.BYTE&&(xe=t.RG8I),J===t.SHORT&&(xe=t.RG16I),J===t.INT&&(xe=t.RG32I)),L===t.RGB_INTEGER&&(J===t.UNSIGNED_BYTE&&(xe=t.RGB8UI),J===t.UNSIGNED_SHORT&&(xe=t.RGB16UI),J===t.UNSIGNED_INT&&(xe=t.RGB32UI),J===t.BYTE&&(xe=t.RGB8I),J===t.SHORT&&(xe=t.RGB16I),J===t.INT&&(xe=t.RGB32I)),L===t.RGBA_INTEGER&&(J===t.UNSIGNED_BYTE&&(xe=t.RGBA8UI),J===t.UNSIGNED_SHORT&&(xe=t.RGBA16UI),J===t.UNSIGNED_INT&&(xe=t.RGBA32UI),J===t.BYTE&&(xe=t.RGBA8I),J===t.SHORT&&(xe=t.RGBA16I),J===t.INT&&(xe=t.RGBA32I)),L===t.RGB&&(J===t.UNSIGNED_INT_5_9_9_9_REV&&(xe=t.RGB9_E5),J===t.UNSIGNED_INT_10F_11F_11F_REV&&(xe=t.R11F_G11F_B10F)),L===t.RGBA){const it=Ae?sg:kt.getTransfer(_e);J===t.FLOAT&&(xe=t.RGBA32F),J===t.HALF_FLOAT&&(xe=t.RGBA16F),J===t.UNSIGNED_BYTE&&(xe=it===Qt?t.SRGB8_ALPHA8:t.RGBA8),J===t.UNSIGNED_SHORT_4_4_4_4&&(xe=t.RGBA4),J===t.UNSIGNED_SHORT_5_5_5_1&&(xe=t.RGB5_A1)}return(xe===t.R16F||xe===t.R32F||xe===t.RG16F||xe===t.RG32F||xe===t.RGBA16F||xe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),xe}function C(G,L){let J;return G?L===null||L===La||L===ld?J=t.DEPTH24_STENCIL8:L===Aa?J=t.DEPTH32F_STENCIL8:L===sd&&(J=t.DEPTH24_STENCIL8,pt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):L===null||L===La||L===ld?J=t.DEPTH_COMPONENT24:L===Aa?J=t.DEPTH_COMPONENT32F:L===sd&&(J=t.DEPTH_COMPONENT16),J}function P(G,L){return v(G)===!0||G.isFramebufferTexture&&G.minFilter!==yi&&G.minFilter!==Ci?Math.log2(Math.max(L.width,L.height))+1:G.mipmaps!==void 0&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?L.mipmaps.length:1}function O(G){const L=G.target;L.removeEventListener("dispose",O),z(L),L.isVideoTexture&&h.delete(L)}function D(G){const L=G.target;L.removeEventListener("dispose",D),U(L)}function z(G){const L=i.get(G);if(L.__webglInit===void 0)return;const J=G.source,_e=g.get(J);if(_e){const Ae=_e[L.__cacheKey];Ae.usedTimes--,Ae.usedTimes===0&&R(G),Object.keys(_e).length===0&&g.delete(J)}i.remove(G)}function R(G){const L=i.get(G);t.deleteTexture(L.__webglTexture);const J=G.source,_e=g.get(J);delete _e[L.__cacheKey],l.memory.textures--}function U(G){const L=i.get(G);if(G.depthTexture&&(G.depthTexture.dispose(),i.remove(G.depthTexture)),G.isWebGLCubeRenderTarget)for(let _e=0;_e<6;_e++){if(Array.isArray(L.__webglFramebuffer[_e]))for(let Ae=0;Ae<L.__webglFramebuffer[_e].length;Ae++)t.deleteFramebuffer(L.__webglFramebuffer[_e][Ae]);else t.deleteFramebuffer(L.__webglFramebuffer[_e]);L.__webglDepthbuffer&&t.deleteRenderbuffer(L.__webglDepthbuffer[_e])}else{if(Array.isArray(L.__webglFramebuffer))for(let _e=0;_e<L.__webglFramebuffer.length;_e++)t.deleteFramebuffer(L.__webglFramebuffer[_e]);else t.deleteFramebuffer(L.__webglFramebuffer);if(L.__webglDepthbuffer&&t.deleteRenderbuffer(L.__webglDepthbuffer),L.__webglMultisampledFramebuffer&&t.deleteFramebuffer(L.__webglMultisampledFramebuffer),L.__webglColorRenderbuffer)for(let _e=0;_e<L.__webglColorRenderbuffer.length;_e++)L.__webglColorRenderbuffer[_e]&&t.deleteRenderbuffer(L.__webglColorRenderbuffer[_e]);L.__webglDepthRenderbuffer&&t.deleteRenderbuffer(L.__webglDepthRenderbuffer)}const J=G.textures;for(let _e=0,Ae=J.length;_e<Ae;_e++){const xe=i.get(J[_e]);xe.__webglTexture&&(t.deleteTexture(xe.__webglTexture),l.memory.textures--),i.remove(J[_e])}i.remove(G)}let F=0;function j(){F=0}function W(){const G=F;return G>=r.maxTextures&&pt("WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+r.maxTextures),F+=1,G}function $(G){const L=[];return L.push(G.wrapS),L.push(G.wrapT),L.push(G.wrapR||0),L.push(G.magFilter),L.push(G.minFilter),L.push(G.anisotropy),L.push(G.internalFormat),L.push(G.format),L.push(G.type),L.push(G.generateMipmaps),L.push(G.premultiplyAlpha),L.push(G.flipY),L.push(G.unpackAlignment),L.push(G.colorSpace),L.join()}function Q(G,L){const J=i.get(G);if(G.isVideoTexture&&Lt(G),G.isRenderTargetTexture===!1&&G.isExternalTexture!==!0&&G.version>0&&J.__version!==G.version){const _e=G.image;if(_e===null)pt("WebGLRenderer: Texture marked for update but no image data found.");else if(_e.complete===!1)pt("WebGLRenderer: Texture marked for update but image is incomplete");else{le(J,G,L);return}}else G.isExternalTexture&&(J.__webglTexture=G.sourceTexture?G.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,J.__webglTexture,t.TEXTURE0+L)}function B(G,L){const J=i.get(G);if(G.isRenderTargetTexture===!1&&G.version>0&&J.__version!==G.version){le(J,G,L);return}else G.isExternalTexture&&(J.__webglTexture=G.sourceTexture?G.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,J.__webglTexture,t.TEXTURE0+L)}function V(G,L){const J=i.get(G);if(G.isRenderTargetTexture===!1&&G.version>0&&J.__version!==G.version){le(J,G,L);return}n.bindTexture(t.TEXTURE_3D,J.__webglTexture,t.TEXTURE0+L)}function K(G,L){const J=i.get(G);if(G.isCubeDepthTexture!==!0&&G.version>0&&J.__version!==G.version){de(J,G,L);return}n.bindTexture(t.TEXTURE_CUBE_MAP,J.__webglTexture,t.TEXTURE0+L)}const ge={[cw]:t.REPEAT,[go]:t.CLAMP_TO_EDGE,[uw]:t.MIRRORED_REPEAT},ve={[yi]:t.NEAREST,[oie]:t.NEAREST_MIPMAP_NEAREST,[mp]:t.NEAREST_MIPMAP_LINEAR,[Ci]:t.LINEAR,[pb]:t.LINEAR_MIPMAP_NEAREST,[pl]:t.LINEAR_MIPMAP_LINEAR},H={[cie]:t.NEVER,[pie]:t.ALWAYS,[uie]:t.LESS,[z1]:t.LEQUAL,[fie]:t.EQUAL,[H1]:t.GEQUAL,[die]:t.GREATER,[hie]:t.NOTEQUAL};function ne(G,L){if(L.type===Aa&&e.has("OES_texture_float_linear")===!1&&(L.magFilter===Ci||L.magFilter===pb||L.magFilter===mp||L.magFilter===pl||L.minFilter===Ci||L.minFilter===pb||L.minFilter===mp||L.minFilter===pl)&&pt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(G,t.TEXTURE_WRAP_S,ge[L.wrapS]),t.texParameteri(G,t.TEXTURE_WRAP_T,ge[L.wrapT]),(G===t.TEXTURE_3D||G===t.TEXTURE_2D_ARRAY)&&t.texParameteri(G,t.TEXTURE_WRAP_R,ge[L.wrapR]),t.texParameteri(G,t.TEXTURE_MAG_FILTER,ve[L.magFilter]),t.texParameteri(G,t.TEXTURE_MIN_FILTER,ve[L.minFilter]),L.compareFunction&&(t.texParameteri(G,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(G,t.TEXTURE_COMPARE_FUNC,H[L.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(L.magFilter===yi||L.minFilter!==mp&&L.minFilter!==pl||L.type===Aa&&e.has("OES_texture_float_linear")===!1)return;if(L.anisotropy>1||i.get(L).__currentAnisotropy){const J=e.get("EXT_texture_filter_anisotropic");t.texParameterf(G,J.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(L.anisotropy,r.getMaxAnisotropy())),i.get(L).__currentAnisotropy=L.anisotropy}}}function ye(G,L){let J=!1;G.__webglInit===void 0&&(G.__webglInit=!0,L.addEventListener("dispose",O));const _e=L.source;let Ae=g.get(_e);Ae===void 0&&(Ae={},g.set(_e,Ae));const xe=$(L);if(xe!==G.__cacheKey){Ae[xe]===void 0&&(Ae[xe]={texture:t.createTexture(),usedTimes:0},l.memory.textures++,J=!0),Ae[xe].usedTimes++;const it=Ae[G.__cacheKey];it!==void 0&&(Ae[G.__cacheKey].usedTimes--,it.usedTimes===0&&R(L)),G.__cacheKey=xe,G.__webglTexture=Ae[xe].texture}return J}function Te(G,L,J){return Math.floor(Math.floor(G/J)/L)}function Ie(G,L,J,_e){const xe=G.updateRanges;if(xe.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,L.width,L.height,J,_e,L.data);else{xe.sort((Ne,Oe)=>Ne.start-Oe.start);let it=0;for(let Ne=1;Ne<xe.length;Ne++){const Oe=xe[it],Ve=xe[Ne],He=Oe.start+Oe.count,ke=Te(Ve.start,L.width,4),wt=Te(Oe.start,L.width,4);Ve.start<=He+1&&ke===wt&&Te(Ve.start+Ve.count-1,L.width,4)===ke?Oe.count=Math.max(Oe.count,Ve.start+Ve.count-Oe.start):(++it,xe[it]=Ve)}xe.length=it+1;const Ue=t.getParameter(t.UNPACK_ROW_LENGTH),Qe=t.getParameter(t.UNPACK_SKIP_PIXELS),dt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,L.width);for(let Ne=0,Oe=xe.length;Ne<Oe;Ne++){const Ve=xe[Ne],He=Math.floor(Ve.start/4),ke=Math.ceil(Ve.count/4),wt=He%L.width,Z=Math.floor(He/L.width),Be=ke,Pe=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,wt),t.pixelStorei(t.UNPACK_SKIP_ROWS,Z),n.texSubImage2D(t.TEXTURE_2D,0,wt,Z,Be,Pe,J,_e,L.data)}G.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Ue),t.pixelStorei(t.UNPACK_SKIP_PIXELS,Qe),t.pixelStorei(t.UNPACK_SKIP_ROWS,dt)}}function le(G,L,J){let _e=t.TEXTURE_2D;(L.isDataArrayTexture||L.isCompressedArrayTexture)&&(_e=t.TEXTURE_2D_ARRAY),L.isData3DTexture&&(_e=t.TEXTURE_3D);const Ae=ye(G,L),xe=L.source;n.bindTexture(_e,G.__webglTexture,t.TEXTURE0+J);const it=i.get(xe);if(xe.version!==it.__version||Ae===!0){n.activeTexture(t.TEXTURE0+J);const Ue=kt.getPrimaries(kt.workingColorSpace),Qe=L.colorSpace===ws?null:kt.getPrimaries(L.colorSpace),dt=L.colorSpace===ws||Ue===Qe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,L.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,L.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,L.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,dt);let Ne=w(L.image,!1,r.maxTextureSize);Ne=Wt(L,Ne);const Oe=o.convert(L.format,L.colorSpace),Ve=o.convert(L.type);let He=T(L.internalFormat,Oe,Ve,L.colorSpace,L.isVideoTexture);ne(_e,L);let ke;const wt=L.mipmaps,Z=L.isVideoTexture!==!0,Be=it.__version===void 0||Ae===!0,Pe=xe.dataReady,Ge=P(L,Ne);if(L.isDepthTexture)He=C(L.format===ml,L.type),Be&&(Z?n.texStorage2D(t.TEXTURE_2D,1,He,Ne.width,Ne.height):n.texImage2D(t.TEXTURE_2D,0,He,Ne.width,Ne.height,0,Oe,Ve,null));else if(L.isDataTexture)if(wt.length>0){Z&&Be&&n.texStorage2D(t.TEXTURE_2D,Ge,He,wt[0].width,wt[0].height);for(let Re=0,Me=wt.length;Re<Me;Re++)ke=wt[Re],Z?Pe&&n.texSubImage2D(t.TEXTURE_2D,Re,0,0,ke.width,ke.height,Oe,Ve,ke.data):n.texImage2D(t.TEXTURE_2D,Re,He,ke.width,ke.height,0,Oe,Ve,ke.data);L.generateMipmaps=!1}else Z?(Be&&n.texStorage2D(t.TEXTURE_2D,Ge,He,Ne.width,Ne.height),Pe&&Ie(L,Ne,Oe,Ve)):n.texImage2D(t.TEXTURE_2D,0,He,Ne.width,Ne.height,0,Oe,Ve,Ne.data);else if(L.isCompressedTexture)if(L.isCompressedArrayTexture){Z&&Be&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ge,He,wt[0].width,wt[0].height,Ne.depth);for(let Re=0,Me=wt.length;Re<Me;Re++)if(ke=wt[Re],L.format!==aa)if(Oe!==null)if(Z){if(Pe)if(L.layerUpdates.size>0){const De=NP(ke.width,ke.height,L.format,L.type);for(const mt of L.layerUpdates){const $t=ke.data.subarray(mt*De/ke.data.BYTES_PER_ELEMENT,(mt+1)*De/ke.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Re,0,0,mt,ke.width,ke.height,1,Oe,$t)}L.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Re,0,0,0,ke.width,ke.height,Ne.depth,Oe,ke.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Re,He,ke.width,ke.height,Ne.depth,0,ke.data,0,0);else pt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Z?Pe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Re,0,0,0,ke.width,ke.height,Ne.depth,Oe,Ve,ke.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Re,He,ke.width,ke.height,Ne.depth,0,Oe,Ve,ke.data)}else{Z&&Be&&n.texStorage2D(t.TEXTURE_2D,Ge,He,wt[0].width,wt[0].height);for(let Re=0,Me=wt.length;Re<Me;Re++)ke=wt[Re],L.format!==aa?Oe!==null?Z?Pe&&n.compressedTexSubImage2D(t.TEXTURE_2D,Re,0,0,ke.width,ke.height,Oe,ke.data):n.compressedTexImage2D(t.TEXTURE_2D,Re,He,ke.width,ke.height,0,ke.data):pt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Z?Pe&&n.texSubImage2D(t.TEXTURE_2D,Re,0,0,ke.width,ke.height,Oe,Ve,ke.data):n.texImage2D(t.TEXTURE_2D,Re,He,ke.width,ke.height,0,Oe,Ve,ke.data)}else if(L.isDataArrayTexture)if(Z){if(Be&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ge,He,Ne.width,Ne.height,Ne.depth),Pe)if(L.layerUpdates.size>0){const Re=NP(Ne.width,Ne.height,L.format,L.type);for(const Me of L.layerUpdates){const De=Ne.data.subarray(Me*Re/Ne.data.BYTES_PER_ELEMENT,(Me+1)*Re/Ne.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Me,Ne.width,Ne.height,1,Oe,Ve,De)}L.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ne.width,Ne.height,Ne.depth,Oe,Ve,Ne.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,He,Ne.width,Ne.height,Ne.depth,0,Oe,Ve,Ne.data);else if(L.isData3DTexture)Z?(Be&&n.texStorage3D(t.TEXTURE_3D,Ge,He,Ne.width,Ne.height,Ne.depth),Pe&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ne.width,Ne.height,Ne.depth,Oe,Ve,Ne.data)):n.texImage3D(t.TEXTURE_3D,0,He,Ne.width,Ne.height,Ne.depth,0,Oe,Ve,Ne.data);else if(L.isFramebufferTexture){if(Be)if(Z)n.texStorage2D(t.TEXTURE_2D,Ge,He,Ne.width,Ne.height);else{let Re=Ne.width,Me=Ne.height;for(let De=0;De<Ge;De++)n.texImage2D(t.TEXTURE_2D,De,He,Re,Me,0,Oe,Ve,null),Re>>=1,Me>>=1}}else if(wt.length>0){if(Z&&Be){const Re=tt(wt[0]);n.texStorage2D(t.TEXTURE_2D,Ge,He,Re.width,Re.height)}for(let Re=0,Me=wt.length;Re<Me;Re++)ke=wt[Re],Z?Pe&&n.texSubImage2D(t.TEXTURE_2D,Re,0,0,Oe,Ve,ke):n.texImage2D(t.TEXTURE_2D,Re,He,Oe,Ve,ke);L.generateMipmaps=!1}else if(Z){if(Be){const Re=tt(Ne);n.texStorage2D(t.TEXTURE_2D,Ge,He,Re.width,Re.height)}Pe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Oe,Ve,Ne)}else n.texImage2D(t.TEXTURE_2D,0,He,Oe,Ve,Ne);v(L)&&_(_e),it.__version=xe.version,L.onUpdate&&L.onUpdate(L)}G.__version=L.version}function de(G,L,J){if(L.image.length!==6)return;const _e=ye(G,L),Ae=L.source;n.bindTexture(t.TEXTURE_CUBE_MAP,G.__webglTexture,t.TEXTURE0+J);const xe=i.get(Ae);if(Ae.version!==xe.__version||_e===!0){n.activeTexture(t.TEXTURE0+J);const it=kt.getPrimaries(kt.workingColorSpace),Ue=L.colorSpace===ws?null:kt.getPrimaries(L.colorSpace),Qe=L.colorSpace===ws||it===Ue?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,L.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,L.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,L.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Qe);const dt=L.isCompressedTexture||L.image[0].isCompressedTexture,Ne=L.image[0]&&L.image[0].isDataTexture,Oe=[];for(let Me=0;Me<6;Me++)!dt&&!Ne?Oe[Me]=w(L.image[Me],!0,r.maxCubemapSize):Oe[Me]=Ne?L.image[Me].image:L.image[Me],Oe[Me]=Wt(L,Oe[Me]);const Ve=Oe[0],He=o.convert(L.format,L.colorSpace),ke=o.convert(L.type),wt=T(L.internalFormat,He,ke,L.colorSpace),Z=L.isVideoTexture!==!0,Be=xe.__version===void 0||_e===!0,Pe=Ae.dataReady;let Ge=P(L,Ve);ne(t.TEXTURE_CUBE_MAP,L);let Re;if(dt){Z&&Be&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ge,wt,Ve.width,Ve.height);for(let Me=0;Me<6;Me++){Re=Oe[Me].mipmaps;for(let De=0;De<Re.length;De++){const mt=Re[De];L.format!==aa?He!==null?Z?Pe&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,De,0,0,mt.width,mt.height,He,mt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,De,wt,mt.width,mt.height,0,mt.data):pt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Z?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,De,0,0,mt.width,mt.height,He,ke,mt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,De,wt,mt.width,mt.height,0,He,ke,mt.data)}}}else{if(Re=L.mipmaps,Z&&Be){Re.length>0&&Ge++;const Me=tt(Oe[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Ge,wt,Me.width,Me.height)}for(let Me=0;Me<6;Me++)if(Ne){Z?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,0,0,Oe[Me].width,Oe[Me].height,He,ke,Oe[Me].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,wt,Oe[Me].width,Oe[Me].height,0,He,ke,Oe[Me].data);for(let De=0;De<Re.length;De++){const $t=Re[De].image[Me].image;Z?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,De+1,0,0,$t.width,$t.height,He,ke,$t.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,De+1,wt,$t.width,$t.height,0,He,ke,$t.data)}}else{Z?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,0,0,He,ke,Oe[Me]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,wt,He,ke,Oe[Me]);for(let De=0;De<Re.length;De++){const mt=Re[De];Z?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,De+1,0,0,He,ke,mt.image[Me]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,De+1,wt,He,ke,mt.image[Me])}}}v(L)&&_(t.TEXTURE_CUBE_MAP),xe.__version=Ae.version,L.onUpdate&&L.onUpdate(L)}G.__version=L.version}function Le(G,L,J,_e,Ae,xe){const it=o.convert(J.format,J.colorSpace),Ue=o.convert(J.type),Qe=T(J.internalFormat,it,Ue,J.colorSpace),dt=i.get(L),Ne=i.get(J);if(Ne.__renderTarget=L,!dt.__hasExternalTextures){const Oe=Math.max(1,L.width>>xe),Ve=Math.max(1,L.height>>xe);Ae===t.TEXTURE_3D||Ae===t.TEXTURE_2D_ARRAY?n.texImage3D(Ae,xe,Qe,Oe,Ve,L.depth,0,it,Ue,null):n.texImage2D(Ae,xe,Qe,Oe,Ve,0,it,Ue,null)}n.bindFramebuffer(t.FRAMEBUFFER,G),mn(L)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,_e,Ae,Ne.__webglTexture,0,X(L)):(Ae===t.TEXTURE_2D||Ae>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ae<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,_e,Ae,Ne.__webglTexture,xe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ae(G,L,J){if(t.bindRenderbuffer(t.RENDERBUFFER,G),L.depthBuffer){const _e=L.depthTexture,Ae=_e&&_e.isDepthTexture?_e.type:null,xe=C(L.stencilBuffer,Ae),it=L.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;mn(L)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,X(L),xe,L.width,L.height):J?t.renderbufferStorageMultisample(t.RENDERBUFFER,X(L),xe,L.width,L.height):t.renderbufferStorage(t.RENDERBUFFER,xe,L.width,L.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,it,t.RENDERBUFFER,G)}else{const _e=L.textures;for(let Ae=0;Ae<_e.length;Ae++){const xe=_e[Ae],it=o.convert(xe.format,xe.colorSpace),Ue=o.convert(xe.type),Qe=T(xe.internalFormat,it,Ue,xe.colorSpace);mn(L)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,X(L),Qe,L.width,L.height):J?t.renderbufferStorageMultisample(t.RENDERBUFFER,X(L),Qe,L.width,L.height):t.renderbufferStorage(t.RENDERBUFFER,Qe,L.width,L.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ce(G,L,J){const _e=L.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,G),!(L.depthTexture&&L.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ae=i.get(L.depthTexture);if(Ae.__renderTarget=L,(!Ae.__webglTexture||L.depthTexture.image.width!==L.width||L.depthTexture.image.height!==L.height)&&(L.depthTexture.image.width=L.width,L.depthTexture.image.height=L.height,L.depthTexture.needsUpdate=!0),_e){if(Ae.__webglInit===void 0&&(Ae.__webglInit=!0,L.depthTexture.addEventListener("dispose",O)),Ae.__webglTexture===void 0){Ae.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Ae.__webglTexture),ne(t.TEXTURE_CUBE_MAP,L.depthTexture);const dt=o.convert(L.depthTexture.format),Ne=o.convert(L.depthTexture.type);let Oe;L.depthTexture.format===Oo?Oe=t.DEPTH_COMPONENT24:L.depthTexture.format===ml&&(Oe=t.DEPTH24_STENCIL8);for(let Ve=0;Ve<6;Ve++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,Oe,L.width,L.height,0,dt,Ne,null)}}else Q(L.depthTexture,0);const xe=Ae.__webglTexture,it=X(L),Ue=_e?t.TEXTURE_CUBE_MAP_POSITIVE_X+J:t.TEXTURE_2D,Qe=L.depthTexture.format===ml?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(L.depthTexture.format===Oo)mn(L)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Qe,Ue,xe,0,it):t.framebufferTexture2D(t.FRAMEBUFFER,Qe,Ue,xe,0);else if(L.depthTexture.format===ml)mn(L)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Qe,Ue,xe,0,it):t.framebufferTexture2D(t.FRAMEBUFFER,Qe,Ue,xe,0);else throw new Error("Unknown depthTexture format")}function We(G){const L=i.get(G),J=G.isWebGLCubeRenderTarget===!0;if(L.__boundDepthTexture!==G.depthTexture){const _e=G.depthTexture;if(L.__depthDisposeCallback&&L.__depthDisposeCallback(),_e){const Ae=()=>{delete L.__boundDepthTexture,delete L.__depthDisposeCallback,_e.removeEventListener("dispose",Ae)};_e.addEventListener("dispose",Ae),L.__depthDisposeCallback=Ae}L.__boundDepthTexture=_e}if(G.depthTexture&&!L.__autoAllocateDepthBuffer)if(J)for(let _e=0;_e<6;_e++)Ce(L.__webglFramebuffer[_e],G,_e);else{const _e=G.texture.mipmaps;_e&&_e.length>0?Ce(L.__webglFramebuffer[0],G,0):Ce(L.__webglFramebuffer,G,0)}else if(J){L.__webglDepthbuffer=[];for(let _e=0;_e<6;_e++)if(n.bindFramebuffer(t.FRAMEBUFFER,L.__webglFramebuffer[_e]),L.__webglDepthbuffer[_e]===void 0)L.__webglDepthbuffer[_e]=t.createRenderbuffer(),ae(L.__webglDepthbuffer[_e],G,!1);else{const Ae=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,xe=L.__webglDepthbuffer[_e];t.bindRenderbuffer(t.RENDERBUFFER,xe),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ae,t.RENDERBUFFER,xe)}}else{const _e=G.texture.mipmaps;if(_e&&_e.length>0?n.bindFramebuffer(t.FRAMEBUFFER,L.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,L.__webglFramebuffer),L.__webglDepthbuffer===void 0)L.__webglDepthbuffer=t.createRenderbuffer(),ae(L.__webglDepthbuffer,G,!1);else{const Ae=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,xe=L.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,xe),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ae,t.RENDERBUFFER,xe)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ee(G,L,J){const _e=i.get(G);L!==void 0&&Le(_e.__webglFramebuffer,G,G.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),J!==void 0&&We(G)}function ct(G){const L=G.texture,J=i.get(G),_e=i.get(L);G.addEventListener("dispose",D);const Ae=G.textures,xe=G.isWebGLCubeRenderTarget===!0,it=Ae.length>1;if(it||(_e.__webglTexture===void 0&&(_e.__webglTexture=t.createTexture()),_e.__version=L.version,l.memory.textures++),xe){J.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)if(L.mipmaps&&L.mipmaps.length>0){J.__webglFramebuffer[Ue]=[];for(let Qe=0;Qe<L.mipmaps.length;Qe++)J.__webglFramebuffer[Ue][Qe]=t.createFramebuffer()}else J.__webglFramebuffer[Ue]=t.createFramebuffer()}else{if(L.mipmaps&&L.mipmaps.length>0){J.__webglFramebuffer=[];for(let Ue=0;Ue<L.mipmaps.length;Ue++)J.__webglFramebuffer[Ue]=t.createFramebuffer()}else J.__webglFramebuffer=t.createFramebuffer();if(it)for(let Ue=0,Qe=Ae.length;Ue<Qe;Ue++){const dt=i.get(Ae[Ue]);dt.__webglTexture===void 0&&(dt.__webglTexture=t.createTexture(),l.memory.textures++)}if(G.samples>0&&mn(G)===!1){J.__webglMultisampledFramebuffer=t.createFramebuffer(),J.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,J.__webglMultisampledFramebuffer);for(let Ue=0;Ue<Ae.length;Ue++){const Qe=Ae[Ue];J.__webglColorRenderbuffer[Ue]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,J.__webglColorRenderbuffer[Ue]);const dt=o.convert(Qe.format,Qe.colorSpace),Ne=o.convert(Qe.type),Oe=T(Qe.internalFormat,dt,Ne,Qe.colorSpace,G.isXRRenderTarget===!0),Ve=X(G);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ve,Oe,G.width,G.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ue,t.RENDERBUFFER,J.__webglColorRenderbuffer[Ue])}t.bindRenderbuffer(t.RENDERBUFFER,null),G.depthBuffer&&(J.__webglDepthRenderbuffer=t.createRenderbuffer(),ae(J.__webglDepthRenderbuffer,G,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(xe){n.bindTexture(t.TEXTURE_CUBE_MAP,_e.__webglTexture),ne(t.TEXTURE_CUBE_MAP,L);for(let Ue=0;Ue<6;Ue++)if(L.mipmaps&&L.mipmaps.length>0)for(let Qe=0;Qe<L.mipmaps.length;Qe++)Le(J.__webglFramebuffer[Ue][Qe],G,L,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Qe);else Le(J.__webglFramebuffer[Ue],G,L,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0);v(L)&&_(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(it){for(let Ue=0,Qe=Ae.length;Ue<Qe;Ue++){const dt=Ae[Ue],Ne=i.get(dt);let Oe=t.TEXTURE_2D;(G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(Oe=G.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Oe,Ne.__webglTexture),ne(Oe,dt),Le(J.__webglFramebuffer,G,dt,t.COLOR_ATTACHMENT0+Ue,Oe,0),v(dt)&&_(Oe)}n.unbindTexture()}else{let Ue=t.TEXTURE_2D;if((G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(Ue=G.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ue,_e.__webglTexture),ne(Ue,L),L.mipmaps&&L.mipmaps.length>0)for(let Qe=0;Qe<L.mipmaps.length;Qe++)Le(J.__webglFramebuffer[Qe],G,L,t.COLOR_ATTACHMENT0,Ue,Qe);else Le(J.__webglFramebuffer,G,L,t.COLOR_ATTACHMENT0,Ue,0);v(L)&&_(Ue),n.unbindTexture()}G.depthBuffer&&We(G)}function Ze(G){const L=G.textures;for(let J=0,_e=L.length;J<_e;J++){const Ae=L[J];if(v(Ae)){const xe=A(G),it=i.get(Ae).__webglTexture;n.bindTexture(xe,it),_(xe),n.unbindTexture()}}}const gt=[],rt=[];function Vt(G){if(G.samples>0){if(mn(G)===!1){const L=G.textures,J=G.width,_e=G.height;let Ae=t.COLOR_BUFFER_BIT;const xe=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,it=i.get(G),Ue=L.length>1;if(Ue)for(let dt=0;dt<L.length;dt++)n.bindFramebuffer(t.FRAMEBUFFER,it.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+dt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,it.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+dt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,it.__webglMultisampledFramebuffer);const Qe=G.texture.mipmaps;Qe&&Qe.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,it.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,it.__webglFramebuffer);for(let dt=0;dt<L.length;dt++){if(G.resolveDepthBuffer&&(G.depthBuffer&&(Ae|=t.DEPTH_BUFFER_BIT),G.stencilBuffer&&G.resolveStencilBuffer&&(Ae|=t.STENCIL_BUFFER_BIT)),Ue){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,it.__webglColorRenderbuffer[dt]);const Ne=i.get(L[dt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ne,0)}t.blitFramebuffer(0,0,J,_e,0,0,J,_e,Ae,t.NEAREST),f===!0&&(gt.length=0,rt.length=0,gt.push(t.COLOR_ATTACHMENT0+dt),G.depthBuffer&&G.resolveDepthBuffer===!1&&(gt.push(xe),rt.push(xe),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,rt)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,gt))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ue)for(let dt=0;dt<L.length;dt++){n.bindFramebuffer(t.FRAMEBUFFER,it.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+dt,t.RENDERBUFFER,it.__webglColorRenderbuffer[dt]);const Ne=i.get(L[dt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,it.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+dt,t.TEXTURE_2D,Ne,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,it.__webglMultisampledFramebuffer)}else if(G.depthBuffer&&G.resolveDepthBuffer===!1&&f){const L=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[L])}}}function X(G){return Math.min(r.maxSamples,G.samples)}function mn(G){const L=i.get(G);return G.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&L.__useRenderToTexture!==!1}function Lt(G){const L=l.render.frame;h.get(G)!==L&&(h.set(G,L),G.update())}function Wt(G,L){const J=G.colorSpace,_e=G.format,Ae=G.type;return G.isCompressedTexture===!0||G.isVideoTexture===!0||J!==au&&J!==ws&&(kt.getTransfer(J)===Qt?(_e!==aa||Ae!==hr)&&pt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Bt("WebGLTextures: Unsupported texture color space:",J)),L}function tt(G){return typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement?(d.width=G.naturalWidth||G.width,d.height=G.naturalHeight||G.height):typeof VideoFrame<"u"&&G instanceof VideoFrame?(d.width=G.displayWidth,d.height=G.displayHeight):(d.width=G.width,d.height=G.height),d}this.allocateTextureUnit=W,this.resetTextureUnits=j,this.setTexture2D=Q,this.setTexture2DArray=B,this.setTexture3D=V,this.setTextureCube=K,this.rebindTextures=Ee,this.setupRenderTarget=ct,this.updateRenderTargetMipmap=Ze,this.updateMultisampleRenderTarget=Vt,this.setupDepthRenderbuffer=We,this.setupFrameBufferTexture=Le,this.useMultisampledRTT=mn,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function Wle(t,e){function n(i,r=ws){let o;const l=kt.getTransfer(r);if(i===hr)return t.UNSIGNED_BYTE;if(i===k1)return t.UNSIGNED_SHORT_4_4_4_4;if(i===I1)return t.UNSIGNED_SHORT_5_5_5_1;if(i===dj)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===hj)return t.UNSIGNED_INT_10F_11F_11F_REV;if(i===uj)return t.BYTE;if(i===fj)return t.SHORT;if(i===sd)return t.UNSIGNED_SHORT;if(i===U1)return t.INT;if(i===La)return t.UNSIGNED_INT;if(i===Aa)return t.FLOAT;if(i===No)return t.HALF_FLOAT;if(i===pj)return t.ALPHA;if(i===mj)return t.RGB;if(i===aa)return t.RGBA;if(i===Oo)return t.DEPTH_COMPONENT;if(i===ml)return t.DEPTH_STENCIL;if(i===gj)return t.RED;if(i===j1)return t.RED_INTEGER;if(i===ru)return t.RG;if(i===B1)return t.RG_INTEGER;if(i===F1)return t.RGBA_INTEGER;if(i===Qp||i===Jp||i===em||i===tm)if(l===Qt)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(i===Qp)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Jp)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===em)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===tm)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(i===Qp)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Jp)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===em)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===tm)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===fw||i===dw||i===hw||i===pw)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(i===fw)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===dw)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===hw)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===pw)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===mw||i===gw||i===vw||i===xw||i===yw||i===bw||i===_w)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(i===mw||i===gw)return l===Qt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(i===vw)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC;if(i===xw)return o.COMPRESSED_R11_EAC;if(i===yw)return o.COMPRESSED_SIGNED_R11_EAC;if(i===bw)return o.COMPRESSED_RG11_EAC;if(i===_w)return o.COMPRESSED_SIGNED_RG11_EAC}else return null;if(i===ww||i===Sw||i===Ew||i===Mw||i===Aw||i===Tw||i===Cw||i===Rw||i===Nw||i===Ow||i===Pw||i===Dw||i===Lw||i===Uw)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(i===ww)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Sw)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Ew)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Mw)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Aw)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Tw)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Cw)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Rw)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Nw)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Ow)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Pw)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Dw)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Lw)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Uw)return l===Qt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===kw||i===Iw||i===jw)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(i===kw)return l===Qt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Iw)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===jw)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===Bw||i===Fw||i===zw||i===Hw)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(i===Bw)return o.COMPRESSED_RED_RGTC1_EXT;if(i===Fw)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===zw)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Hw)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===ld?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const qle=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Xle=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class $le{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const i=new Nj(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new ka({vertexShader:qle,fragmentShader:Xle,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new mr(new dv(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Yle extends Il{constructor(e,n){super();const i=this;let r=null,o=1,l=null,c="local-floor",f=1,d=null,h=null,m=null,g=null,y=null,S=null;const w=typeof XRWebGLBinding<"u",v=new $le,_={},A=n.getContextAttributes();let T=null,C=null;const P=[],O=[],D=new _t;let z=null;const R=new kr;R.viewport=new Tn;const U=new kr;U.viewport=new Tn;const F=[R,U],j=new ire;let W=null,$=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(le){let de=P[le];return de===void 0&&(de=new kb,P[le]=de),de.getTargetRaySpace()},this.getControllerGrip=function(le){let de=P[le];return de===void 0&&(de=new kb,P[le]=de),de.getGripSpace()},this.getHand=function(le){let de=P[le];return de===void 0&&(de=new kb,P[le]=de),de.getHandSpace()};function Q(le){const de=O.indexOf(le.inputSource);if(de===-1)return;const Le=P[de];Le!==void 0&&(Le.update(le.inputSource,le.frame,d||l),Le.dispatchEvent({type:le.type,data:le.inputSource}))}function B(){r.removeEventListener("select",Q),r.removeEventListener("selectstart",Q),r.removeEventListener("selectend",Q),r.removeEventListener("squeeze",Q),r.removeEventListener("squeezestart",Q),r.removeEventListener("squeezeend",Q),r.removeEventListener("end",B),r.removeEventListener("inputsourceschange",V);for(let le=0;le<P.length;le++){const de=O[le];de!==null&&(O[le]=null,P[le].disconnect(de))}W=null,$=null,v.reset();for(const le in _)delete _[le];e.setRenderTarget(T),y=null,g=null,m=null,r=null,C=null,Ie.stop(),i.isPresenting=!1,e.setPixelRatio(z),e.setSize(D.width,D.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(le){o=le,i.isPresenting===!0&&pt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(le){c=le,i.isPresenting===!0&&pt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||l},this.setReferenceSpace=function(le){d=le},this.getBaseLayer=function(){return g!==null?g:y},this.getBinding=function(){return m===null&&w&&(m=new XRWebGLBinding(r,n)),m},this.getFrame=function(){return S},this.getSession=function(){return r},this.setSession=async function(le){if(r=le,r!==null){if(T=e.getRenderTarget(),r.addEventListener("select",Q),r.addEventListener("selectstart",Q),r.addEventListener("selectend",Q),r.addEventListener("squeeze",Q),r.addEventListener("squeezestart",Q),r.addEventListener("squeezeend",Q),r.addEventListener("end",B),r.addEventListener("inputsourceschange",V),A.xrCompatible!==!0&&await n.makeXRCompatible(),z=e.getPixelRatio(),e.getSize(D),w&&"createProjectionLayer"in XRWebGLBinding.prototype){let Le=null,ae=null,Ce=null;A.depth&&(Ce=A.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Le=A.stencil?ml:Oo,ae=A.stencil?ld:La);const We={colorFormat:n.RGBA8,depthFormat:Ce,scaleFactor:o};m=this.getBinding(),g=m.createProjectionLayer(We),r.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),C=new Na(g.textureWidth,g.textureHeight,{format:aa,type:hr,depthTexture:new ud(g.textureWidth,g.textureHeight,ae,void 0,void 0,void 0,void 0,void 0,void 0,Le),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}else{const Le={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:o};y=new XRWebGLLayer(r,n,Le),r.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),C=new Na(y.framebufferWidth,y.framebufferHeight,{format:aa,type:hr,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(f),d=null,l=await r.requestReferenceSpace(c),Ie.setContext(r),Ie.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function V(le){for(let de=0;de<le.removed.length;de++){const Le=le.removed[de],ae=O.indexOf(Le);ae>=0&&(O[ae]=null,P[ae].disconnect(Le))}for(let de=0;de<le.added.length;de++){const Le=le.added[de];let ae=O.indexOf(Le);if(ae===-1){for(let We=0;We<P.length;We++)if(We>=O.length){O.push(Le),ae=We;break}else if(O[We]===null){O[We]=Le,ae=We;break}if(ae===-1)break}const Ce=P[ae];Ce&&Ce.connect(Le)}}const K=new re,ge=new re;function ve(le,de,Le){K.setFromMatrixPosition(de.matrixWorld),ge.setFromMatrixPosition(Le.matrixWorld);const ae=K.distanceTo(ge),Ce=de.projectionMatrix.elements,We=Le.projectionMatrix.elements,Ee=Ce[14]/(Ce[10]-1),ct=Ce[14]/(Ce[10]+1),Ze=(Ce[9]+1)/Ce[5],gt=(Ce[9]-1)/Ce[5],rt=(Ce[8]-1)/Ce[0],Vt=(We[8]+1)/We[0],X=Ee*rt,mn=Ee*Vt,Lt=ae/(-rt+Vt),Wt=Lt*-rt;if(de.matrixWorld.decompose(le.position,le.quaternion,le.scale),le.translateX(Wt),le.translateZ(Lt),le.matrixWorld.compose(le.position,le.quaternion,le.scale),le.matrixWorldInverse.copy(le.matrixWorld).invert(),Ce[10]===-1)le.projectionMatrix.copy(de.projectionMatrix),le.projectionMatrixInverse.copy(de.projectionMatrixInverse);else{const tt=Ee+Lt,G=ct+Lt,L=X-Wt,J=mn+(ae-Wt),_e=Ze*ct/G*tt,Ae=gt*ct/G*tt;le.projectionMatrix.makePerspective(L,J,_e,Ae,tt,G),le.projectionMatrixInverse.copy(le.projectionMatrix).invert()}}function H(le,de){de===null?le.matrixWorld.copy(le.matrix):le.matrixWorld.multiplyMatrices(de.matrixWorld,le.matrix),le.matrixWorldInverse.copy(le.matrixWorld).invert()}this.updateCamera=function(le){if(r===null)return;let de=le.near,Le=le.far;v.texture!==null&&(v.depthNear>0&&(de=v.depthNear),v.depthFar>0&&(Le=v.depthFar)),j.near=U.near=R.near=de,j.far=U.far=R.far=Le,(W!==j.near||$!==j.far)&&(r.updateRenderState({depthNear:j.near,depthFar:j.far}),W=j.near,$=j.far),j.layers.mask=le.layers.mask|6,R.layers.mask=j.layers.mask&3,U.layers.mask=j.layers.mask&5;const ae=le.parent,Ce=j.cameras;H(j,ae);for(let We=0;We<Ce.length;We++)H(Ce[We],ae);Ce.length===2?ve(j,R,U):j.projectionMatrix.copy(R.projectionMatrix),ne(le,j,ae)};function ne(le,de,Le){Le===null?le.matrix.copy(de.matrixWorld):(le.matrix.copy(Le.matrixWorld),le.matrix.invert(),le.matrix.multiply(de.matrixWorld)),le.matrix.decompose(le.position,le.quaternion,le.scale),le.updateMatrixWorld(!0),le.projectionMatrix.copy(de.projectionMatrix),le.projectionMatrixInverse.copy(de.projectionMatrixInverse),le.isPerspectiveCamera&&(le.fov=Gw*2*Math.atan(1/le.projectionMatrix.elements[5]),le.zoom=1)}this.getCamera=function(){return j},this.getFoveation=function(){if(!(g===null&&y===null))return f},this.setFoveation=function(le){f=le,g!==null&&(g.fixedFoveation=le),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=le)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(j)},this.getCameraTexture=function(le){return _[le]};let ye=null;function Te(le,de){if(h=de.getViewerPose(d||l),S=de,h!==null){const Le=h.views;y!==null&&(e.setRenderTargetFramebuffer(C,y.framebuffer),e.setRenderTarget(C));let ae=!1;Le.length!==j.cameras.length&&(j.cameras.length=0,ae=!0);for(let ct=0;ct<Le.length;ct++){const Ze=Le[ct];let gt=null;if(y!==null)gt=y.getViewport(Ze);else{const Vt=m.getViewSubImage(g,Ze);gt=Vt.viewport,ct===0&&(e.setRenderTargetTextures(C,Vt.colorTexture,Vt.depthStencilTexture),e.setRenderTarget(C))}let rt=F[ct];rt===void 0&&(rt=new kr,rt.layers.enable(ct),rt.viewport=new Tn,F[ct]=rt),rt.matrix.fromArray(Ze.transform.matrix),rt.matrix.decompose(rt.position,rt.quaternion,rt.scale),rt.projectionMatrix.fromArray(Ze.projectionMatrix),rt.projectionMatrixInverse.copy(rt.projectionMatrix).invert(),rt.viewport.set(gt.x,gt.y,gt.width,gt.height),ct===0&&(j.matrix.copy(rt.matrix),j.matrix.decompose(j.position,j.quaternion,j.scale)),ae===!0&&j.cameras.push(rt)}const Ce=r.enabledFeatures;if(Ce&&Ce.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&w){m=i.getBinding();const ct=m.getDepthInformation(Le[0]);ct&&ct.isValid&&ct.texture&&v.init(ct,r.renderState)}if(Ce&&Ce.includes("camera-access")&&w){e.state.unbindTexture(),m=i.getBinding();for(let ct=0;ct<Le.length;ct++){const Ze=Le[ct].camera;if(Ze){let gt=_[Ze];gt||(gt=new Nj,_[Ze]=gt);const rt=m.getCameraImage(Ze);gt.sourceTexture=rt}}}}for(let Le=0;Le<P.length;Le++){const ae=O[Le],Ce=P[Le];ae!==null&&Ce!==void 0&&Ce.update(ae,de,d||l)}ye&&ye(le,de),de.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:de}),S=null}const Ie=new Pj;Ie.setAnimationLoop(Te),this.setAnimationLoop=function(le){ye=le},this.dispose=function(){}}}const il=new Ua,Kle=new wn;function Zle(t,e){function n(v,_){v.matrixAutoUpdate===!0&&v.updateMatrix(),_.value.copy(v.matrix)}function i(v,_){_.color.getRGB(v.fogColor.value,Mj(t)),_.isFog?(v.fogNear.value=_.near,v.fogFar.value=_.far):_.isFogExp2&&(v.fogDensity.value=_.density)}function r(v,_,A,T,C){_.isMeshBasicMaterial||_.isMeshLambertMaterial?o(v,_):_.isMeshToonMaterial?(o(v,_),m(v,_)):_.isMeshPhongMaterial?(o(v,_),h(v,_)):_.isMeshStandardMaterial?(o(v,_),g(v,_),_.isMeshPhysicalMaterial&&y(v,_,C)):_.isMeshMatcapMaterial?(o(v,_),S(v,_)):_.isMeshDepthMaterial?o(v,_):_.isMeshDistanceMaterial?(o(v,_),w(v,_)):_.isMeshNormalMaterial?o(v,_):_.isLineBasicMaterial?(l(v,_),_.isLineDashedMaterial&&c(v,_)):_.isPointsMaterial?f(v,_,A,T):_.isSpriteMaterial?d(v,_):_.isShadowMaterial?(v.color.value.copy(_.color),v.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function o(v,_){v.opacity.value=_.opacity,_.color&&v.diffuse.value.copy(_.color),_.emissive&&v.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(v.map.value=_.map,n(_.map,v.mapTransform)),_.alphaMap&&(v.alphaMap.value=_.alphaMap,n(_.alphaMap,v.alphaMapTransform)),_.bumpMap&&(v.bumpMap.value=_.bumpMap,n(_.bumpMap,v.bumpMapTransform),v.bumpScale.value=_.bumpScale,_.side===tr&&(v.bumpScale.value*=-1)),_.normalMap&&(v.normalMap.value=_.normalMap,n(_.normalMap,v.normalMapTransform),v.normalScale.value.copy(_.normalScale),_.side===tr&&v.normalScale.value.negate()),_.displacementMap&&(v.displacementMap.value=_.displacementMap,n(_.displacementMap,v.displacementMapTransform),v.displacementScale.value=_.displacementScale,v.displacementBias.value=_.displacementBias),_.emissiveMap&&(v.emissiveMap.value=_.emissiveMap,n(_.emissiveMap,v.emissiveMapTransform)),_.specularMap&&(v.specularMap.value=_.specularMap,n(_.specularMap,v.specularMapTransform)),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);const A=e.get(_),T=A.envMap,C=A.envMapRotation;T&&(v.envMap.value=T,il.copy(C),il.x*=-1,il.y*=-1,il.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(il.y*=-1,il.z*=-1),v.envMapRotation.value.setFromMatrix4(Kle.makeRotationFromEuler(il)),v.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=_.reflectivity,v.ior.value=_.ior,v.refractionRatio.value=_.refractionRatio),_.lightMap&&(v.lightMap.value=_.lightMap,v.lightMapIntensity.value=_.lightMapIntensity,n(_.lightMap,v.lightMapTransform)),_.aoMap&&(v.aoMap.value=_.aoMap,v.aoMapIntensity.value=_.aoMapIntensity,n(_.aoMap,v.aoMapTransform))}function l(v,_){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,_.map&&(v.map.value=_.map,n(_.map,v.mapTransform))}function c(v,_){v.dashSize.value=_.dashSize,v.totalSize.value=_.dashSize+_.gapSize,v.scale.value=_.scale}function f(v,_,A,T){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,v.size.value=_.size*A,v.scale.value=T*.5,_.map&&(v.map.value=_.map,n(_.map,v.uvTransform)),_.alphaMap&&(v.alphaMap.value=_.alphaMap,n(_.alphaMap,v.alphaMapTransform)),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest)}function d(v,_){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,v.rotation.value=_.rotation,_.map&&(v.map.value=_.map,n(_.map,v.mapTransform)),_.alphaMap&&(v.alphaMap.value=_.alphaMap,n(_.alphaMap,v.alphaMapTransform)),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest)}function h(v,_){v.specular.value.copy(_.specular),v.shininess.value=Math.max(_.shininess,1e-4)}function m(v,_){_.gradientMap&&(v.gradientMap.value=_.gradientMap)}function g(v,_){v.metalness.value=_.metalness,_.metalnessMap&&(v.metalnessMap.value=_.metalnessMap,n(_.metalnessMap,v.metalnessMapTransform)),v.roughness.value=_.roughness,_.roughnessMap&&(v.roughnessMap.value=_.roughnessMap,n(_.roughnessMap,v.roughnessMapTransform)),_.envMap&&(v.envMapIntensity.value=_.envMapIntensity)}function y(v,_,A){v.ior.value=_.ior,_.sheen>0&&(v.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),v.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(v.sheenColorMap.value=_.sheenColorMap,n(_.sheenColorMap,v.sheenColorMapTransform)),_.sheenRoughnessMap&&(v.sheenRoughnessMap.value=_.sheenRoughnessMap,n(_.sheenRoughnessMap,v.sheenRoughnessMapTransform))),_.clearcoat>0&&(v.clearcoat.value=_.clearcoat,v.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(v.clearcoatMap.value=_.clearcoatMap,n(_.clearcoatMap,v.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,n(_.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(v.clearcoatNormalMap.value=_.clearcoatNormalMap,n(_.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===tr&&v.clearcoatNormalScale.value.negate())),_.dispersion>0&&(v.dispersion.value=_.dispersion),_.iridescence>0&&(v.iridescence.value=_.iridescence,v.iridescenceIOR.value=_.iridescenceIOR,v.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(v.iridescenceMap.value=_.iridescenceMap,n(_.iridescenceMap,v.iridescenceMapTransform)),_.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=_.iridescenceThicknessMap,n(_.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),_.transmission>0&&(v.transmission.value=_.transmission,v.transmissionSamplerMap.value=A.texture,v.transmissionSamplerSize.value.set(A.width,A.height),_.transmissionMap&&(v.transmissionMap.value=_.transmissionMap,n(_.transmissionMap,v.transmissionMapTransform)),v.thickness.value=_.thickness,_.thicknessMap&&(v.thicknessMap.value=_.thicknessMap,n(_.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=_.attenuationDistance,v.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(v.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(v.anisotropyMap.value=_.anisotropyMap,n(_.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=_.specularIntensity,v.specularColor.value.copy(_.specularColor),_.specularColorMap&&(v.specularColorMap.value=_.specularColorMap,n(_.specularColorMap,v.specularColorMapTransform)),_.specularIntensityMap&&(v.specularIntensityMap.value=_.specularIntensityMap,n(_.specularIntensityMap,v.specularIntensityMapTransform))}function S(v,_){_.matcap&&(v.matcap.value=_.matcap)}function w(v,_){const A=e.get(_).light;v.referencePosition.value.setFromMatrixPosition(A.matrixWorld),v.nearDistance.value=A.shadow.camera.near,v.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Qle(t,e,n,i){let r={},o={},l=[];const c=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function f(A,T){const C=T.program;i.uniformBlockBinding(A,C)}function d(A,T){let C=r[A.id];C===void 0&&(S(A),C=h(A),r[A.id]=C,A.addEventListener("dispose",v));const P=T.program;i.updateUBOMapping(A,P);const O=e.render.frame;o[A.id]!==O&&(g(A),o[A.id]=O)}function h(A){const T=m();A.__bindingPointIndex=T;const C=t.createBuffer(),P=A.__size,O=A.usage;return t.bindBuffer(t.UNIFORM_BUFFER,C),t.bufferData(t.UNIFORM_BUFFER,P,O),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,T,C),C}function m(){for(let A=0;A<c;A++)if(l.indexOf(A)===-1)return l.push(A),A;return Bt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(A){const T=r[A.id],C=A.uniforms,P=A.__cache;t.bindBuffer(t.UNIFORM_BUFFER,T);for(let O=0,D=C.length;O<D;O++){const z=Array.isArray(C[O])?C[O]:[C[O]];for(let R=0,U=z.length;R<U;R++){const F=z[R];if(y(F,O,R,P)===!0){const j=F.__offset,W=Array.isArray(F.value)?F.value:[F.value];let $=0;for(let Q=0;Q<W.length;Q++){const B=W[Q],V=w(B);typeof B=="number"||typeof B=="boolean"?(F.__data[0]=B,t.bufferSubData(t.UNIFORM_BUFFER,j+$,F.__data)):B.isMatrix3?(F.__data[0]=B.elements[0],F.__data[1]=B.elements[1],F.__data[2]=B.elements[2],F.__data[3]=0,F.__data[4]=B.elements[3],F.__data[5]=B.elements[4],F.__data[6]=B.elements[5],F.__data[7]=0,F.__data[8]=B.elements[6],F.__data[9]=B.elements[7],F.__data[10]=B.elements[8],F.__data[11]=0):(B.toArray(F.__data,$),$+=V.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,j,F.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function y(A,T,C,P){const O=A.value,D=T+"_"+C;if(P[D]===void 0)return typeof O=="number"||typeof O=="boolean"?P[D]=O:P[D]=O.clone(),!0;{const z=P[D];if(typeof O=="number"||typeof O=="boolean"){if(z!==O)return P[D]=O,!0}else if(z.equals(O)===!1)return z.copy(O),!0}return!1}function S(A){const T=A.uniforms;let C=0;const P=16;for(let D=0,z=T.length;D<z;D++){const R=Array.isArray(T[D])?T[D]:[T[D]];for(let U=0,F=R.length;U<F;U++){const j=R[U],W=Array.isArray(j.value)?j.value:[j.value];for(let $=0,Q=W.length;$<Q;$++){const B=W[$],V=w(B),K=C%P,ge=K%V.boundary,ve=K+ge;C+=ge,ve!==0&&P-ve<V.storage&&(C+=P-ve),j.__data=new Float32Array(V.storage/Float32Array.BYTES_PER_ELEMENT),j.__offset=C,C+=V.storage}}}const O=C%P;return O>0&&(C+=P-O),A.__size=C,A.__cache={},this}function w(A){const T={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(T.boundary=4,T.storage=4):A.isVector2?(T.boundary=8,T.storage=8):A.isVector3||A.isColor?(T.boundary=16,T.storage=12):A.isVector4?(T.boundary=16,T.storage=16):A.isMatrix3?(T.boundary=48,T.storage=48):A.isMatrix4?(T.boundary=64,T.storage=64):A.isTexture?pt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):pt("WebGLRenderer: Unsupported uniform value type.",A),T}function v(A){const T=A.target;T.removeEventListener("dispose",v);const C=l.indexOf(T.__bindingPointIndex);l.splice(C,1),t.deleteBuffer(r[T.id]),delete r[T.id],delete o[T.id]}function _(){for(const A in r)t.deleteBuffer(r[A]);l=[],r={},o={}}return{bind:f,update:d,dispose:_}}const Jle=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let wa=null;function ece(){return wa===null&&(wa=new Gie(Jle,16,16,ru,No),wa.name="DFG_LUT",wa.minFilter=Ci,wa.magFilter=Ci,wa.wrapS=go,wa.wrapT=go,wa.generateMipmaps=!1,wa.needsUpdate=!0),wa}class tce{constructor(e={}){const{canvas:n=mie(),context:i=null,depth:r=!0,stencil:o=!1,alpha:l=!1,antialias:c=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:d=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:m=!1,reversedDepthBuffer:g=!1,outputBufferType:y=hr}=e;this.isWebGLRenderer=!0;let S;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");S=i.getContextAttributes().alpha}else S=l;const w=y,v=new Set([F1,B1,j1]),_=new Set([hr,La,sd,ld,k1,I1]),A=new Uint32Array(4),T=new Int32Array(4);let C=null,P=null;const O=[],D=[];let z=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ra,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const R=this;let U=!1;this._outputColorSpace=Ur;let F=0,j=0,W=null,$=-1,Q=null;const B=new Tn,V=new Tn;let K=null;const ge=new Dt(0);let ve=0,H=n.width,ne=n.height,ye=1,Te=null,Ie=null;const le=new Tn(0,0,H,ne),de=new Tn(0,0,H,ne);let Le=!1;const ae=new W1;let Ce=!1,We=!1;const Ee=new wn,ct=new re,Ze=new Tn,gt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let rt=!1;function Vt(){return W===null?ye:1}let X=i;function mn(I,ee){return n.getContext(I,ee)}try{const I={alpha:!0,depth:r,stencil:o,antialias:c,premultipliedAlpha:f,preserveDrawingBuffer:d,powerPreference:h,failIfMajorPerformanceCaveat:m};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${L1}`),n.addEventListener("webglcontextlost",mt,!1),n.addEventListener("webglcontextrestored",$t,!1),n.addEventListener("webglcontextcreationerror",Ut,!1),X===null){const ee="webgl2";if(X=mn(ee,I),X===null)throw mn(ee)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(I){throw Bt("WebGLRenderer: "+I.message),I}let Lt,Wt,tt,G,L,J,_e,Ae,xe,it,Ue,Qe,dt,Ne,Oe,Ve,He,ke,wt,Z,Be,Pe,Ge,Re;function Me(){Lt=new ese(X),Lt.init(),Pe=new Wle(X,Lt),Wt=new Woe(X,Lt,e,Pe),tt=new Gle(X,Lt),Wt.reversedDepthBuffer&&g&&tt.buffers.depth.setReversed(!0),G=new ise(X),L=new Cle,J=new Vle(X,Lt,tt,L,Wt,Pe,G),_e=new Xoe(R),Ae=new Joe(R),xe=new sre(X),Ge=new Goe(X,xe),it=new tse(X,xe,G,Ge),Ue=new ase(X,it,xe,G),wt=new rse(X,Wt,J),Ve=new qoe(L),Qe=new Tle(R,_e,Ae,Lt,Wt,Ge,Ve),dt=new Zle(R,L),Ne=new Nle,Oe=new kle(Lt),ke=new Hoe(R,_e,Ae,tt,Ue,S,f),He=new zle(R,Ue,Wt),Re=new Qle(X,G,Wt,tt),Z=new Voe(X,Lt,G),Be=new nse(X,Lt,G),G.programs=Qe.programs,R.capabilities=Wt,R.extensions=Lt,R.properties=L,R.renderLists=Ne,R.shadowMap=He,R.state=tt,R.info=G}Me(),w!==hr&&(z=new sse(w,n.width,n.height,r,o));const De=new Yle(R,X);this.xr=De,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const I=Lt.get("WEBGL_lose_context");I&&I.loseContext()},this.forceContextRestore=function(){const I=Lt.get("WEBGL_lose_context");I&&I.restoreContext()},this.getPixelRatio=function(){return ye},this.setPixelRatio=function(I){I!==void 0&&(ye=I,this.setSize(H,ne,!1))},this.getSize=function(I){return I.set(H,ne)},this.setSize=function(I,ee,he=!0){if(De.isPresenting){pt("WebGLRenderer: Can't change size while VR device is presenting.");return}H=I,ne=ee,n.width=Math.floor(I*ye),n.height=Math.floor(ee*ye),he===!0&&(n.style.width=I+"px",n.style.height=ee+"px"),z!==null&&z.setSize(n.width,n.height),this.setViewport(0,0,I,ee)},this.getDrawingBufferSize=function(I){return I.set(H*ye,ne*ye).floor()},this.setDrawingBufferSize=function(I,ee,he){H=I,ne=ee,ye=he,n.width=Math.floor(I*he),n.height=Math.floor(ee*he),this.setViewport(0,0,I,ee)},this.setEffects=function(I){if(w===hr){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(I){for(let ee=0;ee<I.length;ee++)if(I[ee].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}z.setEffects(I||[])},this.getCurrentViewport=function(I){return I.copy(B)},this.getViewport=function(I){return I.copy(le)},this.setViewport=function(I,ee,he,ce){I.isVector4?le.set(I.x,I.y,I.z,I.w):le.set(I,ee,he,ce),tt.viewport(B.copy(le).multiplyScalar(ye).round())},this.getScissor=function(I){return I.copy(de)},this.setScissor=function(I,ee,he,ce){I.isVector4?de.set(I.x,I.y,I.z,I.w):de.set(I,ee,he,ce),tt.scissor(V.copy(de).multiplyScalar(ye).round())},this.getScissorTest=function(){return Le},this.setScissorTest=function(I){tt.setScissorTest(Le=I)},this.setOpaqueSort=function(I){Te=I},this.setTransparentSort=function(I){Ie=I},this.getClearColor=function(I){return I.copy(ke.getClearColor())},this.setClearColor=function(){ke.setClearColor(...arguments)},this.getClearAlpha=function(){return ke.getClearAlpha()},this.setClearAlpha=function(){ke.setClearAlpha(...arguments)},this.clear=function(I=!0,ee=!0,he=!0){let ce=0;if(I){let ie=!1;if(W!==null){const je=W.texture.format;ie=v.has(je)}if(ie){const je=W.texture.type,Xe=_.has(je),Fe=ke.getClearColor(),Ye=ke.getClearAlpha(),Je=Fe.r,lt=Fe.g,et=Fe.b;Xe?(A[0]=Je,A[1]=lt,A[2]=et,A[3]=Ye,X.clearBufferuiv(X.COLOR,0,A)):(T[0]=Je,T[1]=lt,T[2]=et,T[3]=Ye,X.clearBufferiv(X.COLOR,0,T))}else ce|=X.COLOR_BUFFER_BIT}ee&&(ce|=X.DEPTH_BUFFER_BIT),he&&(ce|=X.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),X.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",mt,!1),n.removeEventListener("webglcontextrestored",$t,!1),n.removeEventListener("webglcontextcreationerror",Ut,!1),ke.dispose(),Ne.dispose(),Oe.dispose(),L.dispose(),_e.dispose(),Ae.dispose(),Ue.dispose(),Ge.dispose(),Re.dispose(),Qe.dispose(),De.dispose(),De.removeEventListener("sessionstart",Bl),De.removeEventListener("sessionend",Mu),pa.stop()};function mt(I){I.preventDefault(),oP("WebGLRenderer: Context Lost."),U=!0}function $t(){oP("WebGLRenderer: Context Restored."),U=!1;const I=G.autoReset,ee=He.enabled,he=He.autoUpdate,ce=He.needsUpdate,ie=He.type;Me(),G.autoReset=I,He.enabled=ee,He.autoUpdate=he,He.needsUpdate=ce,He.type=ie}function Ut(I){Bt("WebGLRenderer: A WebGL context could not be created. Reason: ",I.statusMessage)}function _i(I){const ee=I.target;ee.removeEventListener("dispose",_i),Wr(ee)}function Wr(I){Bd(I),L.remove(I)}function Bd(I){const ee=L.get(I).programs;ee!==void 0&&(ee.forEach(function(he){Qe.releaseProgram(he)}),I.isShaderMaterial&&Qe.releaseShaderCache(I))}this.renderBufferDirect=function(I,ee,he,ce,ie,je){ee===null&&(ee=gt);const Xe=ie.isMesh&&ie.matrixWorld.determinant()<0,Fe=Ds(I,ee,he,ce,ie);tt.setMaterial(ce,Xe);let Ye=he.index,Je=1;if(ce.wireframe===!0){if(Ye=it.getWireframeAttribute(he),Ye===void 0)return;Je=2}const lt=he.drawRange,et=he.attributes.position;let ut=lt.start*Je,zt=(lt.start+lt.count)*Je;je!==null&&(ut=Math.max(ut,je.start*Je),zt=Math.min(zt,(je.start+je.count)*Je)),Ye!==null?(ut=Math.max(ut,0),zt=Math.min(zt,Ye.count)):et!=null&&(ut=Math.max(ut,0),zt=Math.min(zt,et.count));const gn=zt-ut;if(gn<0||gn===1/0)return;Ge.setup(ie,ce,Fe,he,Ye);let un,qt=Z;if(Ye!==null&&(un=xe.get(Ye),qt=Be,qt.setIndex(un)),ie.isMesh)ce.wireframe===!0?(tt.setLineWidth(ce.wireframeLinewidth*Vt()),qt.setMode(X.LINES)):qt.setMode(X.TRIANGLES);else if(ie.isLine){let at=ce.linewidth;at===void 0&&(at=1),tt.setLineWidth(at*Vt()),ie.isLineSegments?qt.setMode(X.LINES):ie.isLineLoop?qt.setMode(X.LINE_LOOP):qt.setMode(X.LINE_STRIP)}else ie.isPoints?qt.setMode(X.POINTS):ie.isSprite&&qt.setMode(X.TRIANGLES);if(ie.isBatchedMesh)if(ie._multiDrawInstances!==null)cd("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),qt.renderMultiDrawInstances(ie._multiDrawStarts,ie._multiDrawCounts,ie._multiDrawCount,ie._multiDrawInstances);else if(Lt.get("WEBGL_multi_draw"))qt.renderMultiDraw(ie._multiDrawStarts,ie._multiDrawCounts,ie._multiDrawCount);else{const at=ie._multiDrawStarts,Ht=ie._multiDrawCounts,vt=ie._multiDrawCount,si=Ye?xe.get(Ye).bytesPerElement:1,za=L.get(ce).currentProgram.getUniforms();for(let li=0;li<vt;li++)za.setValue(X,"_gl_DrawID",li),qt.render(at[li]/si,Ht[li])}else if(ie.isInstancedMesh)qt.renderInstances(ut,gn,ie.count);else if(he.isInstancedBufferGeometry){const at=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,Ht=Math.min(he.instanceCount,at);qt.renderInstances(ut,gn,Ht)}else qt.render(ut,gn)};function Su(I,ee,he){I.transparent===!0&&I.side===ho&&I.forceSinglePass===!1?(I.side=tr,I.needsUpdate=!0,zl(I,ee,he),I.side=Ns,I.needsUpdate=!0,zl(I,ee,he),I.side=ho):zl(I,ee,he)}this.compile=function(I,ee,he=null){he===null&&(he=I),P=Oe.get(he),P.init(ee),D.push(P),he.traverseVisible(function(ie){ie.isLight&&ie.layers.test(ee.layers)&&(P.pushLight(ie),ie.castShadow&&P.pushShadow(ie))}),I!==he&&I.traverseVisible(function(ie){ie.isLight&&ie.layers.test(ee.layers)&&(P.pushLight(ie),ie.castShadow&&P.pushShadow(ie))}),P.setupLights();const ce=new Set;return I.traverse(function(ie){if(!(ie.isMesh||ie.isPoints||ie.isLine||ie.isSprite))return;const je=ie.material;if(je)if(Array.isArray(je))for(let Xe=0;Xe<je.length;Xe++){const Fe=je[Xe];Su(Fe,he,ie),ce.add(Fe)}else Su(je,he,ie),ce.add(je)}),P=D.pop(),ce},this.compileAsync=function(I,ee,he=null){const ce=this.compile(I,ee,he);return new Promise(ie=>{function je(){if(ce.forEach(function(Xe){L.get(Xe).currentProgram.isReady()&&ce.delete(Xe)}),ce.size===0){ie(I);return}setTimeout(je,10)}Lt.get("KHR_parallel_shader_compile")!==null?je():setTimeout(je,10)})};let jl=null;function Eu(I){jl&&jl(I)}function Bl(){pa.stop()}function Mu(){pa.start()}const pa=new Pj;pa.setAnimationLoop(Eu),typeof self<"u"&&pa.setContext(self),this.setAnimationLoop=function(I){jl=I,De.setAnimationLoop(I),I===null?pa.stop():pa.start()},De.addEventListener("sessionstart",Bl),De.addEventListener("sessionend",Mu),this.render=function(I,ee){if(ee!==void 0&&ee.isCamera!==!0){Bt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;const he=De.enabled===!0&&De.isPresenting===!0,ce=z!==null&&(W===null||he)&&z.begin(R,W);if(I.matrixWorldAutoUpdate===!0&&I.updateMatrixWorld(),ee.parent===null&&ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),De.enabled===!0&&De.isPresenting===!0&&(z===null||z.isCompositing()===!1)&&(De.cameraAutoUpdate===!0&&De.updateCamera(ee),ee=De.getCamera()),I.isScene===!0&&I.onBeforeRender(R,I,ee,W),P=Oe.get(I,D.length),P.init(ee),D.push(P),Ee.multiplyMatrices(ee.projectionMatrix,ee.matrixWorldInverse),ae.setFromProjectionMatrix(Ee,Ta,ee.reversedDepth),We=this.localClippingEnabled,Ce=Ve.init(this.clippingPlanes,We),C=Ne.get(I,O.length),C.init(),O.push(C),De.enabled===!0&&De.isPresenting===!0){const Xe=R.xr.getDepthSensingMesh();Xe!==null&&br(Xe,ee,-1/0,R.sortObjects)}br(I,ee,0,R.sortObjects),C.finish(),R.sortObjects===!0&&C.sort(Te,Ie),rt=De.enabled===!1||De.isPresenting===!1||De.hasDepthSensing()===!1,rt&&ke.addToRenderList(C,I),this.info.render.frame++,Ce===!0&&Ve.beginShadows();const ie=P.state.shadowsArray;if(He.render(ie,I,ee),Ce===!0&&Ve.endShadows(),this.info.autoReset===!0&&this.info.reset(),(ce&&z.hasRenderPass())===!1){const Xe=C.opaque,Fe=C.transmissive;if(P.setupLights(),ee.isArrayCamera){const Ye=ee.cameras;if(Fe.length>0)for(let Je=0,lt=Ye.length;Je<lt;Je++){const et=Ye[Je];oi(Xe,Fe,I,et)}rt&&ke.render(I);for(let Je=0,lt=Ye.length;Je<lt;Je++){const et=Ye[Je];Dn(C,I,et,et.viewport)}}else Fe.length>0&&oi(Xe,Fe,I,ee),rt&&ke.render(I),Dn(C,I,ee)}W!==null&&j===0&&(J.updateMultisampleRenderTarget(W),J.updateRenderTargetMipmap(W)),ce&&z.end(R),I.isScene===!0&&I.onAfterRender(R,I,ee),Ge.resetDefaultState(),$=-1,Q=null,D.pop(),D.length>0?(P=D[D.length-1],Ce===!0&&Ve.setGlobalState(R.clippingPlanes,P.state.camera)):P=null,O.pop(),O.length>0?C=O[O.length-1]:C=null};function br(I,ee,he,ce){if(I.visible===!1)return;if(I.layers.test(ee.layers)){if(I.isGroup)he=I.renderOrder;else if(I.isLOD)I.autoUpdate===!0&&I.update(ee);else if(I.isLight)P.pushLight(I),I.castShadow&&P.pushShadow(I);else if(I.isSprite){if(!I.frustumCulled||ae.intersectsSprite(I)){ce&&Ze.setFromMatrixPosition(I.matrixWorld).applyMatrix4(Ee);const Xe=Ue.update(I),Fe=I.material;Fe.visible&&C.push(I,Xe,Fe,he,Ze.z,null)}}else if((I.isMesh||I.isLine||I.isPoints)&&(!I.frustumCulled||ae.intersectsObject(I))){const Xe=Ue.update(I),Fe=I.material;if(ce&&(I.boundingSphere!==void 0?(I.boundingSphere===null&&I.computeBoundingSphere(),Ze.copy(I.boundingSphere.center)):(Xe.boundingSphere===null&&Xe.computeBoundingSphere(),Ze.copy(Xe.boundingSphere.center)),Ze.applyMatrix4(I.matrixWorld).applyMatrix4(Ee)),Array.isArray(Fe)){const Ye=Xe.groups;for(let Je=0,lt=Ye.length;Je<lt;Je++){const et=Ye[Je],ut=Fe[et.materialIndex];ut&&ut.visible&&C.push(I,Xe,ut,he,Ze.z,et)}}else Fe.visible&&C.push(I,Xe,Fe,he,Ze.z,null)}}const je=I.children;for(let Xe=0,Fe=je.length;Xe<Fe;Xe++)br(je[Xe],ee,he,ce)}function Dn(I,ee,he,ce){const{opaque:ie,transmissive:je,transparent:Xe}=I;P.setupLightsView(he),Ce===!0&&Ve.setGlobalState(R.clippingPlanes,he),ce&&tt.viewport(B.copy(ce)),ie.length>0&&qr(ie,ee,he),je.length>0&&qr(je,ee,he),Xe.length>0&&qr(Xe,ee,he),tt.buffers.depth.setTest(!0),tt.buffers.depth.setMask(!0),tt.buffers.color.setMask(!0),tt.setPolygonOffset(!1)}function oi(I,ee,he,ce){if((he.isScene===!0?he.overrideMaterial:null)!==null)return;if(P.state.transmissionRenderTarget[ce.id]===void 0){const ut=Lt.has("EXT_color_buffer_half_float")||Lt.has("EXT_color_buffer_float");P.state.transmissionRenderTarget[ce.id]=new Na(1,1,{generateMipmaps:!0,type:ut?No:hr,minFilter:pl,samples:Wt.samples,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:kt.workingColorSpace})}const je=P.state.transmissionRenderTarget[ce.id],Xe=ce.viewport||B;je.setSize(Xe.z*R.transmissionResolutionScale,Xe.w*R.transmissionResolutionScale);const Fe=R.getRenderTarget(),Ye=R.getActiveCubeFace(),Je=R.getActiveMipmapLevel();R.setRenderTarget(je),R.getClearColor(ge),ve=R.getClearAlpha(),ve<1&&R.setClearColor(16777215,.5),R.clear(),rt&&ke.render(he);const lt=R.toneMapping;R.toneMapping=Ra;const et=ce.viewport;if(ce.viewport!==void 0&&(ce.viewport=void 0),P.setupLightsView(ce),Ce===!0&&Ve.setGlobalState(R.clippingPlanes,ce),qr(I,he,ce),J.updateMultisampleRenderTarget(je),J.updateRenderTargetMipmap(je),Lt.has("WEBGL_multisampled_render_to_texture")===!1){let ut=!1;for(let zt=0,gn=ee.length;zt<gn;zt++){const un=ee[zt],{object:qt,geometry:at,material:Ht,group:vt}=un;if(Ht.side===ho&&qt.layers.test(ce.layers)){const si=Ht.side;Ht.side=tr,Ht.needsUpdate=!0,Fl(qt,he,ce,at,Ht,vt),Ht.side=si,Ht.needsUpdate=!0,ut=!0}}ut===!0&&(J.updateMultisampleRenderTarget(je),J.updateRenderTargetMipmap(je))}R.setRenderTarget(Fe,Ye,Je),R.setClearColor(ge,ve),et!==void 0&&(ce.viewport=et),R.toneMapping=lt}function qr(I,ee,he){const ce=ee.isScene===!0?ee.overrideMaterial:null;for(let ie=0,je=I.length;ie<je;ie++){const Xe=I[ie],{object:Fe,geometry:Ye,group:Je}=Xe;let lt=Xe.material;lt.allowOverride===!0&&ce!==null&&(lt=ce),Fe.layers.test(he.layers)&&Fl(Fe,ee,he,Ye,lt,Je)}}function Fl(I,ee,he,ce,ie,je){I.onBeforeRender(R,ee,he,ce,ie,je),I.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,I.matrixWorld),I.normalMatrix.getNormalMatrix(I.modelViewMatrix),ie.onBeforeRender(R,ee,he,ce,I,je),ie.transparent===!0&&ie.side===ho&&ie.forceSinglePass===!1?(ie.side=tr,ie.needsUpdate=!0,R.renderBufferDirect(he,ee,ce,ie,I,je),ie.side=Ns,ie.needsUpdate=!0,R.renderBufferDirect(he,ee,ce,ie,I,je),ie.side=ho):R.renderBufferDirect(he,ee,ce,ie,I,je),I.onAfterRender(R,ee,he,ce,ie,je)}function zl(I,ee,he){ee.isScene!==!0&&(ee=gt);const ce=L.get(I),ie=P.state.lights,je=P.state.shadowsArray,Xe=ie.state.version,Fe=Qe.getParameters(I,ie.state,je,ee,he),Ye=Qe.getProgramCacheKey(Fe);let Je=ce.programs;ce.environment=I.isMeshStandardMaterial?ee.environment:null,ce.fog=ee.fog,ce.envMap=(I.isMeshStandardMaterial?Ae:_e).get(I.envMap||ce.environment),ce.envMapRotation=ce.environment!==null&&I.envMap===null?ee.environmentRotation:I.envMapRotation,Je===void 0&&(I.addEventListener("dispose",_i),Je=new Map,ce.programs=Je);let lt=Je.get(Ye);if(lt!==void 0){if(ce.currentProgram===lt&&ce.lightsStateVersion===Xe)return Au(I,Fe),lt}else Fe.uniforms=Qe.getUniforms(I),I.onBeforeCompile(Fe,R),lt=Qe.acquireProgram(Fe,Ye),Je.set(Ye,lt),ce.uniforms=Fe.uniforms;const et=ce.uniforms;return(!I.isShaderMaterial&&!I.isRawShaderMaterial||I.clipping===!0)&&(et.clippingPlanes=Ve.uniform),Au(I,Fe),ce.needsLights=Fo(I),ce.lightsStateVersion=Xe,ce.needsLights&&(et.ambientLightColor.value=ie.state.ambient,et.lightProbe.value=ie.state.probe,et.directionalLights.value=ie.state.directional,et.directionalLightShadows.value=ie.state.directionalShadow,et.spotLights.value=ie.state.spot,et.spotLightShadows.value=ie.state.spotShadow,et.rectAreaLights.value=ie.state.rectArea,et.ltc_1.value=ie.state.rectAreaLTC1,et.ltc_2.value=ie.state.rectAreaLTC2,et.pointLights.value=ie.state.point,et.pointLightShadows.value=ie.state.pointShadow,et.hemisphereLights.value=ie.state.hemi,et.directionalShadowMap.value=ie.state.directionalShadowMap,et.directionalShadowMatrix.value=ie.state.directionalShadowMatrix,et.spotShadowMap.value=ie.state.spotShadowMap,et.spotLightMatrix.value=ie.state.spotLightMatrix,et.spotLightMap.value=ie.state.spotLightMap,et.pointShadowMap.value=ie.state.pointShadowMap,et.pointShadowMatrix.value=ie.state.pointShadowMatrix),ce.currentProgram=lt,ce.uniformsList=null,lt}function Fd(I){if(I.uniformsList===null){const ee=I.currentProgram.getUniforms();I.uniformsList=im.seqWithValue(ee.seq,I.uniforms)}return I.uniformsList}function Au(I,ee){const he=L.get(I);he.outputColorSpace=ee.outputColorSpace,he.batching=ee.batching,he.batchingColor=ee.batchingColor,he.instancing=ee.instancing,he.instancingColor=ee.instancingColor,he.instancingMorph=ee.instancingMorph,he.skinning=ee.skinning,he.morphTargets=ee.morphTargets,he.morphNormals=ee.morphNormals,he.morphColors=ee.morphColors,he.morphTargetsCount=ee.morphTargetsCount,he.numClippingPlanes=ee.numClippingPlanes,he.numIntersection=ee.numClipIntersection,he.vertexAlphas=ee.vertexAlphas,he.vertexTangents=ee.vertexTangents,he.toneMapping=ee.toneMapping}function Ds(I,ee,he,ce,ie){ee.isScene!==!0&&(ee=gt),J.resetTextureUnits();const je=ee.fog,Xe=ce.isMeshStandardMaterial?ee.environment:null,Fe=W===null?R.outputColorSpace:W.isXRRenderTarget===!0?W.texture.colorSpace:au,Ye=(ce.isMeshStandardMaterial?Ae:_e).get(ce.envMap||Xe),Je=ce.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,lt=!!he.attributes.tangent&&(!!ce.normalMap||ce.anisotropy>0),et=!!he.morphAttributes.position,ut=!!he.morphAttributes.normal,zt=!!he.morphAttributes.color;let gn=Ra;ce.toneMapped&&(W===null||W.isXRRenderTarget===!0)&&(gn=R.toneMapping);const un=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,qt=un!==void 0?un.length:0,at=L.get(ce),Ht=P.state.lights;if(Ce===!0&&(We===!0||I!==Q)){const ui=I===Q&&ce.id===$;Ve.setState(ce,I,ui)}let vt=!1;ce.version===at.__version?(at.needsLights&&at.lightsStateVersion!==Ht.state.version||at.outputColorSpace!==Fe||ie.isBatchedMesh&&at.batching===!1||!ie.isBatchedMesh&&at.batching===!0||ie.isBatchedMesh&&at.batchingColor===!0&&ie.colorTexture===null||ie.isBatchedMesh&&at.batchingColor===!1&&ie.colorTexture!==null||ie.isInstancedMesh&&at.instancing===!1||!ie.isInstancedMesh&&at.instancing===!0||ie.isSkinnedMesh&&at.skinning===!1||!ie.isSkinnedMesh&&at.skinning===!0||ie.isInstancedMesh&&at.instancingColor===!0&&ie.instanceColor===null||ie.isInstancedMesh&&at.instancingColor===!1&&ie.instanceColor!==null||ie.isInstancedMesh&&at.instancingMorph===!0&&ie.morphTexture===null||ie.isInstancedMesh&&at.instancingMorph===!1&&ie.morphTexture!==null||at.envMap!==Ye||ce.fog===!0&&at.fog!==je||at.numClippingPlanes!==void 0&&(at.numClippingPlanes!==Ve.numPlanes||at.numIntersection!==Ve.numIntersection)||at.vertexAlphas!==Je||at.vertexTangents!==lt||at.morphTargets!==et||at.morphNormals!==ut||at.morphColors!==zt||at.toneMapping!==gn||at.morphTargetsCount!==qt)&&(vt=!0):(vt=!0,at.__version=ce.version);let si=at.currentProgram;vt===!0&&(si=zl(ce,ee,ie));let za=!1,li=!1,_r=!1;const Yt=si.getUniforms(),ci=at.uniforms;if(tt.useProgram(si.program)&&(za=!0,li=!0,_r=!0),ce.id!==$&&($=ce.id,li=!0),za||Q!==I){tt.buffers.depth.getReversed()&&I.reversedDepth!==!0&&(I._reversedDepth=!0,I.updateProjectionMatrix()),Yt.setValue(X,"projectionMatrix",I.projectionMatrix),Yt.setValue(X,"viewMatrix",I.matrixWorldInverse);const fi=Yt.map.cameraPosition;fi!==void 0&&fi.setValue(X,ct.setFromMatrixPosition(I.matrixWorld)),Wt.logarithmicDepthBuffer&&Yt.setValue(X,"logDepthBufFC",2/(Math.log(I.far+1)/Math.LN2)),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&Yt.setValue(X,"isOrthographic",I.isOrthographicCamera===!0),Q!==I&&(Q=I,li=!0,_r=!0)}if(at.needsLights&&(Ht.state.directionalShadowMap.length>0&&Yt.setValue(X,"directionalShadowMap",Ht.state.directionalShadowMap,J),Ht.state.spotShadowMap.length>0&&Yt.setValue(X,"spotShadowMap",Ht.state.spotShadowMap,J),Ht.state.pointShadowMap.length>0&&Yt.setValue(X,"pointShadowMap",Ht.state.pointShadowMap,J)),ie.isSkinnedMesh){Yt.setOptional(X,ie,"bindMatrix"),Yt.setOptional(X,ie,"bindMatrixInverse");const ui=ie.skeleton;ui&&(ui.boneTexture===null&&ui.computeBoneTexture(),Yt.setValue(X,"boneTexture",ui.boneTexture,J))}ie.isBatchedMesh&&(Yt.setOptional(X,ie,"batchingTexture"),Yt.setValue(X,"batchingTexture",ie._matricesTexture,J),Yt.setOptional(X,ie,"batchingIdTexture"),Yt.setValue(X,"batchingIdTexture",ie._indirectTexture,J),Yt.setOptional(X,ie,"batchingColorTexture"),ie._colorsTexture!==null&&Yt.setValue(X,"batchingColorTexture",ie._colorsTexture,J));const zn=he.morphAttributes;if((zn.position!==void 0||zn.normal!==void 0||zn.color!==void 0)&&wt.update(ie,he,si),(li||at.receiveShadow!==ie.receiveShadow)&&(at.receiveShadow=ie.receiveShadow,Yt.setValue(X,"receiveShadow",ie.receiveShadow)),ce.isMeshGouraudMaterial&&ce.envMap!==null&&(ci.envMap.value=Ye,ci.flipEnvMap.value=Ye.isCubeTexture&&Ye.isRenderTargetTexture===!1?-1:1),ce.isMeshStandardMaterial&&ce.envMap===null&&ee.environment!==null&&(ci.envMapIntensity.value=ee.environmentIntensity),ci.dfgLUT!==void 0&&(ci.dfgLUT.value=ece()),li&&(Yt.setValue(X,"toneMappingExposure",R.toneMappingExposure),at.needsLights&&Tu(ci,_r),je&&ce.fog===!0&&dt.refreshFogUniforms(ci,je),dt.refreshMaterialUniforms(ci,ce,ye,ne,P.state.transmissionRenderTarget[I.id]),im.upload(X,Fd(at),ci,J)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(im.upload(X,Fd(at),ci,J),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&Yt.setValue(X,"center",ie.center),Yt.setValue(X,"modelViewMatrix",ie.modelViewMatrix),Yt.setValue(X,"normalMatrix",ie.normalMatrix),Yt.setValue(X,"modelMatrix",ie.matrixWorld),ce.isShaderMaterial||ce.isRawShaderMaterial){const ui=ce.uniformsGroups;for(let fi=0,Hl=ui.length;fi<Hl;fi++){const Xr=ui[fi];Re.update(Xr,si),Re.bind(Xr,si)}}return si}function Tu(I,ee){I.ambientLightColor.needsUpdate=ee,I.lightProbe.needsUpdate=ee,I.directionalLights.needsUpdate=ee,I.directionalLightShadows.needsUpdate=ee,I.pointLights.needsUpdate=ee,I.pointLightShadows.needsUpdate=ee,I.spotLights.needsUpdate=ee,I.spotLightShadows.needsUpdate=ee,I.rectAreaLights.needsUpdate=ee,I.hemisphereLights.needsUpdate=ee}function Fo(I){return I.isMeshLambertMaterial||I.isMeshToonMaterial||I.isMeshPhongMaterial||I.isMeshStandardMaterial||I.isShadowMaterial||I.isShaderMaterial&&I.lights===!0}this.getActiveCubeFace=function(){return F},this.getActiveMipmapLevel=function(){return j},this.getRenderTarget=function(){return W},this.setRenderTargetTextures=function(I,ee,he){const ce=L.get(I);ce.__autoAllocateDepthBuffer=I.resolveDepthBuffer===!1,ce.__autoAllocateDepthBuffer===!1&&(ce.__useRenderToTexture=!1),L.get(I.texture).__webglTexture=ee,L.get(I.depthTexture).__webglTexture=ce.__autoAllocateDepthBuffer?void 0:he,ce.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(I,ee){const he=L.get(I);he.__webglFramebuffer=ee,he.__useDefaultFramebuffer=ee===void 0};const zo=X.createFramebuffer();this.setRenderTarget=function(I,ee=0,he=0){W=I,F=ee,j=he;let ce=null,ie=!1,je=!1;if(I){const Fe=L.get(I);if(Fe.__useDefaultFramebuffer!==void 0){tt.bindFramebuffer(X.FRAMEBUFFER,Fe.__webglFramebuffer),B.copy(I.viewport),V.copy(I.scissor),K=I.scissorTest,tt.viewport(B),tt.scissor(V),tt.setScissorTest(K),$=-1;return}else if(Fe.__webglFramebuffer===void 0)J.setupRenderTarget(I);else if(Fe.__hasExternalTextures)J.rebindTextures(I,L.get(I.texture).__webglTexture,L.get(I.depthTexture).__webglTexture);else if(I.depthBuffer){const lt=I.depthTexture;if(Fe.__boundDepthTexture!==lt){if(lt!==null&&L.has(lt)&&(I.width!==lt.image.width||I.height!==lt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");J.setupDepthRenderbuffer(I)}}const Ye=I.texture;(Ye.isData3DTexture||Ye.isDataArrayTexture||Ye.isCompressedArrayTexture)&&(je=!0);const Je=L.get(I).__webglFramebuffer;I.isWebGLCubeRenderTarget?(Array.isArray(Je[ee])?ce=Je[ee][he]:ce=Je[ee],ie=!0):I.samples>0&&J.useMultisampledRTT(I)===!1?ce=L.get(I).__webglMultisampledFramebuffer:Array.isArray(Je)?ce=Je[he]:ce=Je,B.copy(I.viewport),V.copy(I.scissor),K=I.scissorTest}else B.copy(le).multiplyScalar(ye).floor(),V.copy(de).multiplyScalar(ye).floor(),K=Le;if(he!==0&&(ce=zo),tt.bindFramebuffer(X.FRAMEBUFFER,ce)&&tt.drawBuffers(I,ce),tt.viewport(B),tt.scissor(V),tt.setScissorTest(K),ie){const Fe=L.get(I.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Fe.__webglTexture,he)}else if(je){const Fe=ee;for(let Ye=0;Ye<I.textures.length;Ye++){const Je=L.get(I.textures[Ye]);X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0+Ye,Je.__webglTexture,he,Fe)}}else if(I!==null&&he!==0){const Fe=L.get(I.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,Fe.__webglTexture,he)}$=-1},this.readRenderTargetPixels=function(I,ee,he,ce,ie,je,Xe,Fe=0){if(!(I&&I.isWebGLRenderTarget)){Bt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ye=L.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&Xe!==void 0&&(Ye=Ye[Xe]),Ye){tt.bindFramebuffer(X.FRAMEBUFFER,Ye);try{const Je=I.textures[Fe],lt=Je.format,et=Je.type;if(!Wt.textureFormatReadable(lt)){Bt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Wt.textureTypeReadable(et)){Bt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ee>=0&&ee<=I.width-ce&&he>=0&&he<=I.height-ie&&(I.textures.length>1&&X.readBuffer(X.COLOR_ATTACHMENT0+Fe),X.readPixels(ee,he,ce,ie,Pe.convert(lt),Pe.convert(et),je))}finally{const Je=W!==null?L.get(W).__webglFramebuffer:null;tt.bindFramebuffer(X.FRAMEBUFFER,Je)}}},this.readRenderTargetPixelsAsync=async function(I,ee,he,ce,ie,je,Xe,Fe=0){if(!(I&&I.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ye=L.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&Xe!==void 0&&(Ye=Ye[Xe]),Ye)if(ee>=0&&ee<=I.width-ce&&he>=0&&he<=I.height-ie){tt.bindFramebuffer(X.FRAMEBUFFER,Ye);const Je=I.textures[Fe],lt=Je.format,et=Je.type;if(!Wt.textureFormatReadable(lt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Wt.textureTypeReadable(et))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const ut=X.createBuffer();X.bindBuffer(X.PIXEL_PACK_BUFFER,ut),X.bufferData(X.PIXEL_PACK_BUFFER,je.byteLength,X.STREAM_READ),I.textures.length>1&&X.readBuffer(X.COLOR_ATTACHMENT0+Fe),X.readPixels(ee,he,ce,ie,Pe.convert(lt),Pe.convert(et),0);const zt=W!==null?L.get(W).__webglFramebuffer:null;tt.bindFramebuffer(X.FRAMEBUFFER,zt);const gn=X.fenceSync(X.SYNC_GPU_COMMANDS_COMPLETE,0);return X.flush(),await gie(X,gn,4),X.bindBuffer(X.PIXEL_PACK_BUFFER,ut),X.getBufferSubData(X.PIXEL_PACK_BUFFER,0,je),X.deleteBuffer(ut),X.deleteSync(gn),je}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(I,ee=null,he=0){const ce=Math.pow(2,-he),ie=Math.floor(I.image.width*ce),je=Math.floor(I.image.height*ce),Xe=ee!==null?ee.x:0,Fe=ee!==null?ee.y:0;J.setTexture2D(I,0),X.copyTexSubImage2D(X.TEXTURE_2D,he,0,0,Xe,Fe,ie,je),tt.unbindTexture()};const Ls=X.createFramebuffer(),Ho=X.createFramebuffer();this.copyTextureToTexture=function(I,ee,he=null,ce=null,ie=0,je=null){je===null&&(ie!==0?(cd("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),je=ie,ie=0):je=0);let Xe,Fe,Ye,Je,lt,et,ut,zt,gn;const un=I.isCompressedTexture?I.mipmaps[je]:I.image;if(he!==null)Xe=he.max.x-he.min.x,Fe=he.max.y-he.min.y,Ye=he.isBox3?he.max.z-he.min.z:1,Je=he.min.x,lt=he.min.y,et=he.isBox3?he.min.z:0;else{const zn=Math.pow(2,-ie);Xe=Math.floor(un.width*zn),Fe=Math.floor(un.height*zn),I.isDataArrayTexture?Ye=un.depth:I.isData3DTexture?Ye=Math.floor(un.depth*zn):Ye=1,Je=0,lt=0,et=0}ce!==null?(ut=ce.x,zt=ce.y,gn=ce.z):(ut=0,zt=0,gn=0);const qt=Pe.convert(ee.format),at=Pe.convert(ee.type);let Ht;ee.isData3DTexture?(J.setTexture3D(ee,0),Ht=X.TEXTURE_3D):ee.isDataArrayTexture||ee.isCompressedArrayTexture?(J.setTexture2DArray(ee,0),Ht=X.TEXTURE_2D_ARRAY):(J.setTexture2D(ee,0),Ht=X.TEXTURE_2D),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,ee.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,ee.unpackAlignment);const vt=X.getParameter(X.UNPACK_ROW_LENGTH),si=X.getParameter(X.UNPACK_IMAGE_HEIGHT),za=X.getParameter(X.UNPACK_SKIP_PIXELS),li=X.getParameter(X.UNPACK_SKIP_ROWS),_r=X.getParameter(X.UNPACK_SKIP_IMAGES);X.pixelStorei(X.UNPACK_ROW_LENGTH,un.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,un.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Je),X.pixelStorei(X.UNPACK_SKIP_ROWS,lt),X.pixelStorei(X.UNPACK_SKIP_IMAGES,et);const Yt=I.isDataArrayTexture||I.isData3DTexture,ci=ee.isDataArrayTexture||ee.isData3DTexture;if(I.isDepthTexture){const zn=L.get(I),ui=L.get(ee),fi=L.get(zn.__renderTarget),Hl=L.get(ui.__renderTarget);tt.bindFramebuffer(X.READ_FRAMEBUFFER,fi.__webglFramebuffer),tt.bindFramebuffer(X.DRAW_FRAMEBUFFER,Hl.__webglFramebuffer);for(let Xr=0;Xr<Ye;Xr++)Yt&&(X.framebufferTextureLayer(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,L.get(I).__webglTexture,ie,et+Xr),X.framebufferTextureLayer(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0,L.get(ee).__webglTexture,je,gn+Xr)),X.blitFramebuffer(Je,lt,Xe,Fe,ut,zt,Xe,Fe,X.DEPTH_BUFFER_BIT,X.NEAREST);tt.bindFramebuffer(X.READ_FRAMEBUFFER,null),tt.bindFramebuffer(X.DRAW_FRAMEBUFFER,null)}else if(ie!==0||I.isRenderTargetTexture||L.has(I)){const zn=L.get(I),ui=L.get(ee);tt.bindFramebuffer(X.READ_FRAMEBUFFER,Ls),tt.bindFramebuffer(X.DRAW_FRAMEBUFFER,Ho);for(let fi=0;fi<Ye;fi++)Yt?X.framebufferTextureLayer(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,zn.__webglTexture,ie,et+fi):X.framebufferTexture2D(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,zn.__webglTexture,ie),ci?X.framebufferTextureLayer(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0,ui.__webglTexture,je,gn+fi):X.framebufferTexture2D(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,ui.__webglTexture,je),ie!==0?X.blitFramebuffer(Je,lt,Xe,Fe,ut,zt,Xe,Fe,X.COLOR_BUFFER_BIT,X.NEAREST):ci?X.copyTexSubImage3D(Ht,je,ut,zt,gn+fi,Je,lt,Xe,Fe):X.copyTexSubImage2D(Ht,je,ut,zt,Je,lt,Xe,Fe);tt.bindFramebuffer(X.READ_FRAMEBUFFER,null),tt.bindFramebuffer(X.DRAW_FRAMEBUFFER,null)}else ci?I.isDataTexture||I.isData3DTexture?X.texSubImage3D(Ht,je,ut,zt,gn,Xe,Fe,Ye,qt,at,un.data):ee.isCompressedArrayTexture?X.compressedTexSubImage3D(Ht,je,ut,zt,gn,Xe,Fe,Ye,qt,un.data):X.texSubImage3D(Ht,je,ut,zt,gn,Xe,Fe,Ye,qt,at,un):I.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,je,ut,zt,Xe,Fe,qt,at,un.data):I.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,je,ut,zt,un.width,un.height,qt,un.data):X.texSubImage2D(X.TEXTURE_2D,je,ut,zt,Xe,Fe,qt,at,un);X.pixelStorei(X.UNPACK_ROW_LENGTH,vt),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,si),X.pixelStorei(X.UNPACK_SKIP_PIXELS,za),X.pixelStorei(X.UNPACK_SKIP_ROWS,li),X.pixelStorei(X.UNPACK_SKIP_IMAGES,_r),je===0&&ee.generateMipmaps&&X.generateMipmap(Ht),tt.unbindTexture()},this.initRenderTarget=function(I){L.get(I).__webglFramebuffer===void 0&&J.setupRenderTarget(I)},this.initTexture=function(I){I.isCubeTexture?J.setTextureCube(I,0):I.isData3DTexture?J.setTexture3D(I,0):I.isDataArrayTexture||I.isCompressedArrayTexture?J.setTexture2DArray(I,0):J.setTexture2D(I,0),tt.unbindTexture()},this.resetState=function(){F=0,j=0,W=null,tt.reset(),Ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ta}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=kt._getDrawingBufferColorSpace(e),n.unpackColorSpace=kt._getUnpackColorSpace()}}const eD={type:"change"},X1={type:"start"},Ij={type:"end"},Bp=new V1,tD=new bs,nce=Math.cos(70*xie.DEG2RAD),Gn=new re,Yi=2*Math.PI,on={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},qb=1e-6;class ice extends are{constructor(e,n=null){super(e,n),this.state=on.NONE,this.target=new re,this.cursor=new re,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Wc.ROTATE,MIDDLE:Wc.DOLLY,RIGHT:Wc.PAN},this.touches={ONE:Hc.ROTATE,TWO:Hc.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new re,this._lastQuaternion=new Ol,this._lastTargetPosition=new re,this._quat=new Ol().setFromUnitVectors(e.up,new re(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new RP,this._sphericalDelta=new RP,this._scale=1,this._panOffset=new re,this._rotateStart=new _t,this._rotateEnd=new _t,this._rotateDelta=new _t,this._panStart=new _t,this._panEnd=new _t,this._panDelta=new _t,this._dollyStart=new _t,this._dollyEnd=new _t,this._dollyDelta=new _t,this._dollyDirection=new re,this._mouse=new _t,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=ace.bind(this),this._onPointerDown=rce.bind(this),this._onPointerUp=oce.bind(this),this._onContextMenu=hce.bind(this),this._onMouseWheel=cce.bind(this),this._onKeyDown=uce.bind(this),this._onTouchStart=fce.bind(this),this._onTouchMove=dce.bind(this),this._onMouseDown=sce.bind(this),this._onMouseMove=lce.bind(this),this._interceptControlDown=pce.bind(this),this._interceptControlUp=mce.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(eD),this.update(),this.state=on.NONE}update(e=null){const n=this.object.position;Gn.copy(n).sub(this.target),Gn.applyQuaternion(this._quat),this._spherical.setFromVector3(Gn),this.autoRotate&&this.state===on.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let i=this.minAzimuthAngle,r=this.maxAzimuthAngle;isFinite(i)&&isFinite(r)&&(i<-Math.PI?i+=Yi:i>Math.PI&&(i-=Yi),r<-Math.PI?r+=Yi:r>Math.PI&&(r-=Yi),i<=r?this._spherical.theta=Math.max(i,Math.min(r,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(i+r)/2?Math.max(i,this._spherical.theta):Math.min(r,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let o=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const l=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),o=l!=this._spherical.radius}if(Gn.setFromSpherical(this._spherical),Gn.applyQuaternion(this._quatInverse),n.copy(this.target).add(Gn),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let l=null;if(this.object.isPerspectiveCamera){const c=Gn.length();l=this._clampDistance(c*this._scale);const f=c-l;this.object.position.addScaledVector(this._dollyDirection,f),this.object.updateMatrixWorld(),o=!!f}else if(this.object.isOrthographicCamera){const c=new re(this._mouse.x,this._mouse.y,0);c.unproject(this.object);const f=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),o=f!==this.object.zoom;const d=new re(this._mouse.x,this._mouse.y,0);d.unproject(this.object),this.object.position.sub(d).add(c),this.object.updateMatrixWorld(),l=Gn.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;l!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(l).add(this.object.position):(Bp.origin.copy(this.object.position),Bp.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(Bp.direction))<nce?this.object.lookAt(this.target):(tD.setFromNormalAndCoplanarPoint(this.object.up,this.target),Bp.intersectPlane(tD,this.target))))}else if(this.object.isOrthographicCamera){const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),l!==this.object.zoom&&(this.object.updateProjectionMatrix(),o=!0)}return this._scale=1,this._performCursorZoom=!1,o||this._lastPosition.distanceToSquared(this.object.position)>qb||8*(1-this._lastQuaternion.dot(this.object.quaternion))>qb||this._lastTargetPosition.distanceToSquared(this.target)>qb?(this.dispatchEvent(eD),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?Yi/60*this.autoRotateSpeed*e:Yi/60/60*this.autoRotateSpeed}_getZoomScale(e){const n=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,n){Gn.setFromMatrixColumn(n,0),Gn.multiplyScalar(-e),this._panOffset.add(Gn)}_panUp(e,n){this.screenSpacePanning===!0?Gn.setFromMatrixColumn(n,1):(Gn.setFromMatrixColumn(n,0),Gn.crossVectors(this.object.up,Gn)),Gn.multiplyScalar(e),this._panOffset.add(Gn)}_pan(e,n){const i=this.domElement;if(this.object.isPerspectiveCamera){const r=this.object.position;Gn.copy(r).sub(this.target);let o=Gn.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*o/i.clientHeight,this.object.matrix),this._panUp(2*n*o/i.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const i=this.domElement.getBoundingClientRect(),r=e-i.left,o=n-i.top,l=i.width,c=i.height;this._mouse.x=r/l*2-1,this._mouse.y=-(o/c)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(Yi*this._rotateDelta.x/n.clientHeight),this._rotateUp(Yi*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let n=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Yi*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Yi*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Yi*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Yi*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),i=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);this._rotateStart.set(i,r)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),i=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);this._panStart.set(i,r)}}_handleTouchStartDolly(e){const n=this._getSecondPointerPosition(e),i=e.pageX-n.x,r=e.pageY-n.y,o=Math.sqrt(i*i+r*r);this._dollyStart.set(0,o)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e),r=.5*(e.pageX+i.x),o=.5*(e.pageY+i.y);this._rotateEnd.set(r,o)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(Yi*this._rotateDelta.x/n.clientHeight),this._rotateUp(Yi*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),i=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);this._panEnd.set(i,r)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const n=this._getSecondPointerPosition(e),i=e.pageX-n.x,r=e.pageY-n.y,o=Math.sqrt(i*i+r*r);this._dollyEnd.set(0,o),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const l=(e.pageX+n.x)*.5,c=(e.pageY+n.y)*.5;this._updateZoomParameters(l,c)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(e){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId)return!0;return!1}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new _t,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(e){const n=e.deltaMode,i={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(n){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(i.deltaY*=10),i}}function rce(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.ownerDocument.addEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function ace(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function oce(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(Ij),this.state=on.NONE;break;case 1:const e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y});break}}function sce(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Wc.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=on.DOLLY;break;case Wc.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=on.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=on.ROTATE}break;case Wc.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=on.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=on.PAN}break;default:this.state=on.NONE}this.state!==on.NONE&&this.dispatchEvent(X1)}function lce(t){switch(this.state){case on.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case on.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case on.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function cce(t){this.enabled===!1||this.enableZoom===!1||this.state!==on.NONE||(t.preventDefault(),this.dispatchEvent(X1),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(Ij))}function uce(t){this.enabled!==!1&&this._handleKeyDown(t)}function fce(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case Hc.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=on.TOUCH_ROTATE;break;case Hc.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=on.TOUCH_PAN;break;default:this.state=on.NONE}break;case 2:switch(this.touches.TWO){case Hc.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=on.TOUCH_DOLLY_PAN;break;case Hc.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=on.TOUCH_DOLLY_ROTATE;break;default:this.state=on.NONE}break;default:this.state=on.NONE}this.state!==on.NONE&&this.dispatchEvent(X1)}function dce(t){switch(this._trackPointer(t),this.state){case on.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case on.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case on.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case on.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=on.NONE}}function hce(t){this.enabled!==!1&&t.preventDefault()}function pce(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function mce(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const nD=({wallData:t,extrusionHeight:e,landLength:n,landWidth:i})=>{const r=M.useRef(null);return M.useEffect(()=>{if(!r.current)return;const o=new Hie;o.background=new Dt("#fdfcf0");const l=new kr(50,r.current.clientWidth/r.current.clientHeight,.1,1e3);l.position.set(n*1.5,n*.8,i*1.5),l.lookAt(n/2,0,i/2);const c=new tce({antialias:!0,alpha:!0});c.setSize(r.current.clientWidth,r.current.clientHeight),c.shadowMap.enabled=!0,c.shadowMap.type=ej,r.current.appendChild(c.domElement);const f=new ice(l,c.domElement);f.target.set(n/2,0,i/2),f.enableDamping=!0,f.dampingFactor=.05;const d=new nre(16777215,.7);o.add(d);const h=new tre(16774630,1.2);h.position.set(n,30,i),h.castShadow=!0,h.shadow.mapSize.width=2048,h.shadow.mapSize.height=2048,o.add(h);const m=new Ts(n+4,.5,i+4),g=new kp({color:"#94a3b8"}),y=new mr(m,g);y.position.set(n/2,-.25,i/2),y.receiveShadow=!0,o.add(y);const S=new rre(Math.max(n,i)+10,20,9741240,14870768);S.position.set(n/2,-.01,i/2),o.add(S);let w=1/0,v=-1/0,_=1/0,A=-1/0;if(t.forEach((O,D)=>{const z=new re(...O.start),R=new re(...O.end);w=Math.min(w,z.x,R.x),v=Math.max(v,z.x,R.x),_=Math.min(_,z.z,R.z),A=Math.max(A,z.z,R.z);const U=z.distanceTo(R),F=new re().addVectors(z,R).multiplyScalar(.5);F.y+=e/2;const j=new Ts(U,e,O.thickness),W=new kp({color:"#f8f9fa",roughness:.8,metalness:.1}),$=new mr(j,W);$.position.copy(F);const Q=new re().subVectors(R,z).normalize(),B=Math.atan2(Q.z,Q.x);if($.rotation.y=-B,$.castShadow=!0,$.receiveShadow=!0,o.add($),D%3===0&&U>5){const V=new Ts(2,2,O.thickness+.1),K=new kp({color:"#fbbf24",emissive:"#fbbf24",emissiveIntensity:.2}),ge=new mr(V,K);ge.position.copy(F),ge.rotation.y=-B,o.add(ge)}}),v>-1/0){const O=v-w+1,D=A-_+1,z=4,R=new Vr,U=new Float32Array([-O/2,0,-D/2,O/2,0,-D/2,O/2,0,D/2,-O/2,0,-D/2,O/2,0,D/2,-O/2,0,D/2,-O/2,0,-D/2,O/2,0,-D/2,0,z,0,O/2,0,-D/2,O/2,0,D/2,0,z,0,O/2,0,D/2,-O/2,0,D/2,0,z,0,-O/2,0,D/2,-O/2,0,-D/2,0,z,0]);R.setAttribute("position",new sa(U,3)),R.computeVertexNormals();const F=new kp({color:"#450a0a",roughness:.5}),j=new mr(R,F);j.position.set((w+v)/2,e,(_+A)/2),j.castShadow=!0,o.add(j)}const T=()=>{requestAnimationFrame(T),f.update(),c.render(o,l)},C=requestAnimationFrame(T),P=()=>{r.current&&(l.aspect=r.current.clientWidth/r.current.clientHeight,l.updateProjectionMatrix(),c.setSize(r.current.clientWidth,r.current.clientHeight))};return window.addEventListener("resize",P),()=>{var O;cancelAnimationFrame(C),window.removeEventListener("resize",P),(O=r.current)==null||O.removeChild(c.domElement),c.dispose()}},[t,e,n,i]),x.jsxs("div",{className:"relative w-full h-[550px] bg-dwello-parchment rounded-3xl overflow-hidden border border-dwello-lilac/20 shadow-inner",children:[x.jsx("div",{ref:r,className:"w-full h-full"}),x.jsxs("div",{className:"absolute top-4 left-4 z-10 flex flex-col gap-2",children:[x.jsx("span",{className:"px-3 py-1 bg-dwello-indigo text-white text-[10px] font-black uppercase tracking-widest rounded-full shadow-lg",children:"Architectural Render"}),x.jsxs("span",{className:"px-3 py-1 bg-dwello-silk text-dwello-indigo text-[8px] font-black uppercase tracking-widest rounded-full shadow-sm",children:["Interactive Preview (",n,"' x ",i,"')"]})]})]})},gce=()=>{const[t,e]=M.useState({landLength:50,landWidth:40,floors:2,rooms:3,kitchenCount:1,bathrooms:2,hallSize:200,parking:!0,budgetRange:"Medium"}),[n,i]=M.useState(null),[r,o]=M.useState("2d"),[l,c]=M.useState(!1),[f,d]=M.useState(null),[h,m]=M.useState(null),g=v=>{const _=[];let A=1;return v.forEach(T=>{[{start:[T.x,0,T.y],end:[T.x+T.width,0,T.y]},{start:[T.x+T.width,0,T.y],end:[T.x+T.width,0,T.y+T.height]},{start:[T.x+T.width,0,T.y+T.height],end:[T.x,0,T.y+T.height]},{start:[T.x,0,T.y+T.height],end:[T.x,0,T.y]}].forEach(P=>_.push({id:A++,...P,thickness:.2}))}),_},y=async()=>{c(!0);try{const _=(await yt.post("/ai/generate-blueprint",t)).data.data;_.wallData||(_.wallData=g(_.rooms)),i(_),o("2d")}catch(v){console.error(v)}finally{c(!1)}},S=(v,_,A)=>{if(!n)return;const T=[...n.rooms];T[v]={...T[v],x:_,y:A},i({...n,rooms:T,wallData:g(T)})},w=async v=>{if(v.preventDefault(),!f)return;const _=new FormData;_.append("blueprint",f),c(!0);try{const A=await yt.post("/ai/upload",_,{headers:{"Content-Type":"multipart/form-data"}});m(A.data.data)}catch(A){console.error(A)}finally{c(!1)}};return x.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-10 animate-fadeIn h-full pb-20",children:[x.jsx("header",{className:"space-y-4",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-12 h-12 bg-dwello-indigo text-white rounded-3xl flex items-center justify-center font-black text-xl shadow-xl",children:"AI"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-4xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tighter",children:"Architectural Intelligence Hub"}),x.jsx("p",{className:"text-dwello-lilac font-medium italic",children:"Powered by Groq-Plan Generative Synthesis"})]})]})}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[x.jsxs("aside",{className:"lg:col-span-4 space-y-8",children:[x.jsxs("section",{className:"bg-white dark:bg-slate-800 p-8 rounded-[48px] shadow-2xl border border-dwello-lilac/10",children:[x.jsx("h2",{className:"text-xl font-black text-dwello-indigo dark:text-dwello-silk mb-6 uppercase tracking-widest text-[10px]",children:"Site Parameters"}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[8px] font-black uppercase text-dwello-lilac ml-4",children:"Plot Length (ft)"}),x.jsx("input",{type:"number",value:t.landLength,onChange:v=>e({...t,landLength:parseInt(v.target.value)}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border-2 border-transparent focus:border-dwello-silk outline-none font-bold"})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[8px] font-black uppercase text-dwello-lilac ml-4",children:"Plot Width (ft)"}),x.jsx("input",{type:"number",value:t.landWidth,onChange:v=>e({...t,landWidth:parseInt(v.target.value)}),className:"w-full px-6 py-4 rounded-2xl bg-dwello-parchment/50 border-2 border-transparent focus:border-dwello-silk outline-none font-bold"})]})]}),x.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{label:"Rooms",key:"rooms"},{label:"Kitchens",key:"kitchenCount"},{label:"Baths",key:"bathrooms"}].map(v=>x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[8px] font-black uppercase text-dwello-lilac ml-2",children:v.label}),x.jsx("input",{type:"number",value:t[v.key],onChange:_=>e({...t,[v.key]:parseInt(_.target.value)}),className:"w-full p-4 rounded-xl bg-dwello-parchment/30 text-center font-black text-dwello-indigo outline-none"})]},v.key))}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[8px] font-black uppercase text-dwello-lilac ml-4",children:"Budget Spectrum"}),x.jsx("div",{className:"flex bg-dwello-parchment/50 p-1.5 rounded-2xl",children:["Low","Medium","High","Luxury"].map(v=>x.jsx("button",{onClick:()=>e({...t,budgetRange:v}),className:`flex-1 py-3 text-[8px] font-black uppercase tracking-widest rounded-xl transition-all ${t.budgetRange===v?"bg-dwello-indigo text-white":"text-dwello-lilac"}`,children:v},v))})]}),x.jsx("button",{onClick:y,disabled:l,className:"w-full py-6 bg-dwello-indigo text-white rounded-[32px] font-black uppercase tracking-[0.2em] shadow-2xl shadow-dwello-indigo/30 hover:scale-[1.02] active:scale-95 transition-all text-xs",children:l?"Synthesizing...":"Generate Neural Layout "})]})]}),x.jsxs("section",{className:"bg-dwello-indigo p-8 rounded-[48px] text-white space-y-6 relative overflow-hidden group",children:[x.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-dwello-silk/10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 group-hover:bg-dwello-silk/20 transition-all"}),x.jsx("h2",{className:"text-xl font-black text-dwello-silk uppercase tracking-widest text-[10px]",children:"Legacy Ingestion"}),x.jsx("p",{className:"text-dwello-parchment/60 text-xs font-bold leading-relaxed",children:"Have a 2D sketch? Upload it for real-time 3D extrusion processing."}),x.jsxs("div",{className:"relative border-2 border-dashed border-dwello-silk/30 rounded-3xl p-6 text-center group-hover:border-dwello-silk transition-all",children:[x.jsx("input",{type:"file",onChange:v=>{var _;return d(((_=v.target.files)==null?void 0:_[0])||null)},className:"absolute inset-0 opacity-0 cursor-pointer"}),x.jsx("p",{className:"font-black text-[10px] uppercase tracking-widest",children:f?f.name:"Drop blueprint file here"})]}),x.jsx("button",{onClick:w,disabled:!f||l,className:"w-full py-4 bg-dwello-parchment text-dwello-indigo rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-dwello-silk transition-colors",children:"Start Extrusion Engine"})]})]}),x.jsxs("main",{className:"lg:col-span-8 space-y-8",children:[n?x.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex bg-white dark:bg-slate-800 p-1.5 rounded-2xl shadow-sm border border-dwello-lilac/10",children:[x.jsx("button",{onClick:()=>o("2d"),className:`px-8 py-3 font-black uppercase tracking-widest text-[10px] rounded-xl transition-all ${r==="2d"?"bg-dwello-indigo text-white shadow-lg":"text-dwello-lilac hover:bg-dwello-parchment"}`,children:"2D Blueprint"}),x.jsx("button",{onClick:()=>o("3d"),className:`px-8 py-3 font-black uppercase tracking-widest text-[10px] rounded-xl transition-all ${r==="3d"?"bg-dwello-indigo text-white shadow-lg":"text-dwello-lilac hover:bg-dwello-parchment"}`,children:"3D Vision"})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-[8px] font-black uppercase text-dwello-lilac",children:"Neural Accuracy"}),x.jsxs("p",{className:"text-sm font-black text-dwello-indigo",children:[(n.layoutMetadata.efficiencyScore*100).toFixed(1),"%"]})]}),x.jsx("div",{className:"h-8 w-px bg-dwello-lilac/20"}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-[8px] font-black uppercase text-dwello-lilac",children:"Total Footprint"}),x.jsxs("p",{className:"text-sm font-black text-dwello-indigo",children:[t.landLength*t.landWidth," ft"]})]})]})]}),x.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[56px] p-2 shadow-2xl border border-dwello-lilac/10 overflow-hidden min-h-[550px]",children:r==="2d"?x.jsx(Ine,{rooms:n.rooms,landLength:t.landLength,landWidth:t.landWidth,onRoomMove:S}):x.jsx(nD,{wallData:n.wallData,extrusionHeight:3.5,landLength:t.landLength,landWidth:t.landWidth})}),x.jsx("div",{className:"grid grid-cols-4 gap-6",children:[{label:"Walls Engaged",val:n.wallData.length},{label:"Room Count",val:n.rooms.length},{label:"Extrusion",val:"3.5m"},{label:"Status",val:"RENDERED",premium:!0}].map((v,_)=>x.jsxs("div",{className:`p-6 rounded-[32px] border ${v.premium?"bg-dwello-silk/20 border-dwello-silk":"bg-white border-dwello-lilac/10"}`,children:[x.jsx("p",{className:"text-[8px] font-black uppercase text-dwello-lilac tracking-widest mb-1",children:v.label}),x.jsx("p",{className:"text-lg font-black text-dwello-indigo",children:v.val})]},_))})]}):x.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-20 text-center space-y-6 bg-dwello-parchment/30 rounded-[56px] border-4 border-dashed border-dwello-lilac/10",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-2xl text-dwello-indigo animate-pulse",children:x.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),x.jsxs("div",{className:"max-w-xs",children:[x.jsx("h3",{className:"text-xl font-black text-dwello-indigo tracking-tight",children:"System Idle"}),x.jsx("p",{className:"text-xs font-bold text-dwello-lilac mt-2 italic",children:'Configure your plot dimensions and hit "Generate" to initialize the neural architectural pipeline.'})]})]}),h&&!n&&x.jsx("div",{className:"animate-fadeIn",children:x.jsx(nD,{wallData:h.wallData,extrusionHeight:h.extrusionHeight,landLength:t.landLength,landWidth:t.landWidth})})]})]})]})},vce=()=>{const[t,e]=M.useState([]),[n,i]=M.useState(!0),[r,o]=M.useState(!1),[l,c]=M.useState({name:"",role:"Laborer",salaryType:"Daily",salaryAmount:0,attendanceDays:0,assignedProject:"",paymentStatus:"Pending"}),[f,d]=M.useState(null),[h,m]=M.useState([]);M.useEffect(()=>{y(),g()},[]);const g=async()=>{try{const _=await yt.get("/projects");m(_.data.data)}catch(_){console.error("Failed to fetch projects",_)}},y=async()=>{try{const _=await yt.get("/workers");e(_.data.data)}catch(_){console.error("Failed to fetch workers:",_)}finally{i(!1)}},S=async _=>{_.preventDefault();try{f?await yt.put(`/workers/${f._id}`,l):await yt.post("/workers",l),o(!1),d(null),y(),c({name:"",role:"Laborer",salaryType:"Daily",salaryAmount:0,attendanceDays:0,assignedProject:"",paymentStatus:"Pending"})}catch(A){console.error("Failed to save worker:",A)}},w=_=>{var A;d(_),c({name:_.name,role:_.role,salaryType:_.salaryType,salaryAmount:_.salaryAmount,attendanceDays:_.attendanceDays,assignedProject:((A=_.assignedProject)==null?void 0:A._id)||"",paymentStatus:_.paymentStatus||"Pending"}),o(!0)},v=async _=>{if(window.confirm("Are you sure you want to remove this worker?"))try{await yt.delete(`/workers/${_}`),y()}catch(A){console.error("Failed to remove worker:",A)}};return x.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-4xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tight",children:"Workforce"}),x.jsx("p",{className:"text-dwello-lilac mt-2 font-medium",children:"Manage your construction team"})]}),x.jsxs("button",{onClick:()=>o(!0),className:"btn-primary flex items-center gap-2",children:[x.jsx(an.Add,{className:"w-5 h-5"}),x.jsx("span",{children:"Add Worker"})]})]}),n?x.jsx("div",{className:"text-center py-20 text-dwello-lilac",children:"Loading workforce data..."}):x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-xl overflow-hidden border border-dwello-lilac/20",children:[x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"bg-dwello-indigo text-white uppercase text-xs font-black tracking-widest",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-6",children:"Name"}),x.jsx("th",{className:"p-6",children:"Role"}),x.jsx("th",{className:"p-6",children:"Salary Type"}),x.jsx("th",{className:"p-6",children:"Assigned Project"}),x.jsx("th",{className:"p-6",children:"Amount"}),x.jsx("th",{className:"p-6",children:"Attendance"}),x.jsx("th",{className:"p-6",children:"Status"}),x.jsx("th",{className:"p-6 text-right",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-dwello-lilac/10",children:t.map(_=>{var A;return x.jsxs("tr",{className:"hover:bg-dwello-parchment/50 dark:hover:bg-slate-700/50 transition-colors",children:[x.jsx("td",{className:"p-6 font-bold text-dwello-indigo dark:text-dwello-parchment",children:_.name}),x.jsx("td",{className:"p-6 font-medium text-dwello-lilac",children:_.role}),x.jsx("td",{className:"p-6 font-medium text-dwello-lilac",children:_.salaryType}),x.jsx("td",{className:"p-6 font-bold text-dwello-indigo",children:((A=_.assignedProject)==null?void 0:A.name)||"Unassigned"}),x.jsxs("td",{className:"p-6 font-bold text-dwello-grape",children:["$",_.salaryAmount]}),x.jsxs("td",{className:"p-6 font-bold",children:[_.attendanceDays," Days"]}),x.jsx("td",{className:"p-6",children:x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider ${_.paymentStatus==="Paid"?"bg-green-100 text-green-700":_.paymentStatus==="Pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:_.paymentStatus||"Pending"})}),x.jsxs("td",{className:"p-6 text-right space-x-2",children:[x.jsx("button",{onClick:()=>w(_),className:"p-2 text-dwello-lilac hover:bg-dwello-indigo hover:text-white rounded-lg transition-all",children:x.jsx(an.Settings,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>v(_._id),className:"p-2 text-dwello-lilac hover:bg-red-500 hover:text-white rounded-lg transition-all",children:x.jsx(an.Trash,{className:"w-5 h-5"})})]})]},_._id)})})]}),t.length===0&&x.jsx("div",{className:"text-center py-20 text-dwello-lilac font-medium",children:"No workers found. Add your first crew member."})]}),r&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] p-8 w-full max-w-md shadow-2xl border border-dwello-lilac/20 animate-fadeIn",children:[x.jsx("h2",{className:"text-2xl font-black text-dwello-indigo dark:text-dwello-silk mb-6",children:"New Worker"}),x.jsxs("form",{onSubmit:S,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"Name"}),x.jsx("input",{required:!0,type:"text",value:l.name,onChange:_=>c({...l,name:_.target.value}),className:"w-full px-4 py-3 rounded-xl bg-dwello-parchment/30 dark:bg-slate-700 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-bold"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"Role"}),x.jsxs("select",{value:l.role,onChange:_=>c({...l,role:_.target.value}),className:"w-full px-4 py-3 rounded-xl bg-dwello-parchment/30 dark:bg-slate-700 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-bold",children:[x.jsx("option",{children:"Laborer"}),x.jsx("option",{children:"Mason"}),x.jsx("option",{children:"Carpenter"}),x.jsx("option",{children:"Electrician"}),x.jsx("option",{children:"Plumber"}),x.jsx("option",{children:"Engineer"}),x.jsx("option",{children:"Supervisor"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"Salary Type"}),x.jsxs("select",{value:l.salaryType,onChange:_=>c({...l,salaryType:_.target.value}),className:"w-full px-4 py-3 rounded-xl bg-dwello-parchment/30 dark:bg-slate-700 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-bold",children:[x.jsx("option",{children:"Daily"}),x.jsx("option",{children:"Monthly"}),x.jsx("option",{children:"Contract"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"Amount ($)"}),x.jsx("input",{required:!0,type:"number",value:l.salaryAmount,onChange:_=>c({...l,salaryAmount:Number(_.target.value)}),className:"w-full px-4 py-3 rounded-xl bg-dwello-parchment/30 dark:bg-slate-700 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-bold"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"Attendance (Days)"}),x.jsx("input",{required:!0,type:"number",value:l.attendanceDays,onChange:_=>c({...l,attendanceDays:Number(_.target.value)}),className:"w-full px-4 py-3 rounded-xl bg-dwello-parchment/30 dark:bg-slate-700 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-bold"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"Assign Project"}),x.jsxs("select",{value:l.assignedProject,onChange:_=>c({...l,assignedProject:_.target.value}),className:"w-full px-4 py-3 rounded-xl bg-dwello-parchment/30 dark:bg-slate-700 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-bold",children:[x.jsx("option",{value:"",children:"None"}),h.map(_=>x.jsx("option",{value:_._id,children:_.name},_._id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-black uppercase text-dwello-lilac tracking-widest block mb-2",children:"Payment Status"}),x.jsxs("select",{value:l.paymentStatus,onChange:_=>c({...l,paymentStatus:_.target.value}),className:"w-full px-4 py-3 rounded-xl bg-dwello-parchment/30 dark:bg-slate-700 border border-dwello-lilac/20 focus:border-dwello-indigo outline-none font-bold",children:[x.jsx("option",{children:"Pending"}),x.jsx("option",{children:"Paid"}),x.jsx("option",{children:"Delayed"})]})]})]}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 py-3 rounded-xl font-bold bg-dwello-parchment text-dwello-indigo hover:bg-dwello-lilac/20 transition-colors",children:"Cancel"}),x.jsx("button",{type:"submit",className:"flex-1 py-3 rounded-xl font-bold bg-dwello-indigo text-white hover:bg-dwello-grape transition-colors shadow-lg shadow-dwello-indigo/20",children:"Add Worker"})]})]})]})})]})},xce=()=>{const[t,e]=M.useState("profile"),[n,i]=M.useState(!1),r=()=>{i(!0),setTimeout(()=>i(!1),2e3)};return x.jsxs("div",{className:"max-w-5xl mx-auto space-y-10 animate-fadeIn h-full pb-20",children:[x.jsxs("header",{children:[x.jsx("h1",{className:"text-4xl font-black text-dwello-indigo dark:text-dwello-silk tracking-tighter",children:"System Configuration"}),x.jsx("p",{className:"text-dwello-lilac font-medium",children:"Manage your architectural workspace and security parameters."})]}),x.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[x.jsx("aside",{className:"w-full lg:w-64 space-y-2",children:[{id:"profile",name:"User Identity",icon:an.Settings},{id:"notifications",name:"Alert Engine",icon:an.Contact},{id:"security",name:"Access Control",icon:an.Calendar},{id:"billing",name:"Capital Billing",icon:an.Projects}].map(o=>x.jsxs("button",{onClick:()=>e(o.id),className:`w-full flex items-center gap-4 px-6 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] transition-all ${t===o.id?"bg-dwello-indigo text-white shadow-xl shadow-dwello-indigo/20 translate-x-1":"bg-white dark:bg-slate-800 text-dwello-lilac hover:bg-dwello-parchment"}`,children:[x.jsx(o.icon,{className:"w-4 h-4"}),o.name]},o.id))}),x.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-[48px] p-12 shadow-2xl border border-dwello-lilac/10",children:[t==="profile"&&x.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[x.jsxs("div",{className:"flex items-center gap-8 mb-4",children:[x.jsxs("div",{className:"w-24 h-24 rounded-[32px] bg-dwello-parchment dark:bg-slate-700 flex items-center justify-center border-4 border-dwello-parchment overflow-hidden relative group",children:[x.jsx("span",{className:"text-3xl font-black text-dwello-indigo",children:"AB"}),x.jsx("div",{className:"absolute inset-0 bg-dwello-indigo/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",children:x.jsx("span",{className:"text-[8px] font-black text-white uppercase tracking-widest text-center px-4 leading-relaxed",children:"Update Blueprint Profile"})})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-black text-dwello-indigo dark:text-dwello-silk",children:"Alex J. Builder"}),x.jsx("p",{className:"text-dwello-lilac font-bold text-xs uppercase tracking-widest mt-1",children:"Founding Architect  Summit Construct"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac ml-4",children:"Deployment Email"}),x.jsx("input",{type:"email",defaultValue:"alex@dwello.build",className:"w-full px-8 py-4 rounded-3xl bg-dwello-parchment/30 border-2 border-transparent focus:border-dwello-silk outline-none font-bold"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac ml-4",children:"Structural ID"}),x.jsx("input",{type:"text",defaultValue:"DW-ARCH-7721",disabled:!0,className:"w-full px-8 py-4 rounded-3xl bg-dwello-parchment/10 border-2 border-transparent font-black opacity-50 outline-none"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac ml-4",children:"Organization Name"}),x.jsx("input",{type:"text",defaultValue:"Summit Construction Ltd.",className:"w-full px-8 py-4 rounded-3xl bg-dwello-parchment/30 border-2 border-transparent focus:border-dwello-silk outline-none font-bold"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-dwello-lilac ml-4",children:"Geographic Node"}),x.jsx("input",{type:"text",defaultValue:"Denver, CO",className:"w-full px-8 py-4 rounded-3xl bg-dwello-parchment/30 border-2 border-transparent focus:border-dwello-silk outline-none font-bold"})]})]}),x.jsxs("div",{className:"pt-10 flex gap-4 border-t border-dwello-parchment/50",children:[x.jsx("button",{onClick:r,className:"px-12 py-5 bg-dwello-indigo text-white rounded-3xl font-black text-xs uppercase tracking-[0.2em] shadow-xl hover:bg-dwello-grape transition-all active:scale-95",children:n?"Sync Successful ":"Push Synchronization"}),x.jsx("button",{className:"px-12 py-5 bg-dwello-parchment text-dwello-indigo rounded-3xl font-black text-xs uppercase tracking-[0.2em] hover:bg-dwello-lilac/20 transition-all",children:"Hard Reset"})]})]}),t==="notifications"&&x.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[x.jsx("h2",{className:"text-2xl font-black text-dwello-indigo dark:text-dwello-silk mb-8",children:"Alert Frequency Engine"}),[{title:"Logistics Breach",desc:"Alert when material shipments are delayed more than 24h.",default:!0},{title:"Capital Margin Alert",desc:"Notify when project expenditure exceeds 95% of allocation.",default:!0},{title:"Structural Milestones",desc:"Broadcast across internal feed when a floor is completed.",default:!1},{title:"Weather Vector warnings",desc:"Warn crew if local weather patterns threaten site safety.",default:!0}].map((o,l)=>x.jsxs("div",{className:"flex items-center justify-between p-6 rounded-3xl bg-dwello-parchment/20 border border-dwello-lilac/10",children:[x.jsxs("div",{className:"max-w-md",children:[x.jsx("p",{className:"font-black text-dwello-indigo text-sm uppercase tracking-widest",children:o.title}),x.jsx("p",{className:"text-xs font-medium text-dwello-lilac mt-1",children:o.desc})]}),x.jsx("div",{className:`w-14 h-8 rounded-full relative cursor-pointer transition-colors ${o.default?"bg-dwello-silk":"bg-dwello-parchment"}`,children:x.jsx("div",{className:`absolute top-1 w-6 h-6 rounded-full bg-white transition-all ${o.default?"left-7":"left-1"}`})})]},l))]}),t!=="profile"&&t!=="notifications"&&x.jsxs("div",{className:"py-20 text-center space-y-4",children:[x.jsx("div",{className:"w-20 h-20 bg-dwello-parchment rounded-full mx-auto flex items-center justify-center text-dwello-indigo",children:x.jsx(an.Settings,{className:"w-10 h-10 animate-spin-slow"})}),x.jsxs("p",{className:"text-xl font-black text-dwello-indigo uppercase tracking-widest italic",children:[t," module under maintenance"]}),x.jsx("p",{className:"text-dwello-lilac font-medium",children:"This architectural node is being optimized for real-time synchronization."})]})]})]})]})},yce=()=>{const[t,e]=M.useState("light"),[n,i]=M.useState(null),r=(c,f)=>{const d={name:(f==null?void 0:f.name)||"Alex Builder",email:(f==null?void 0:f.email)||"alex@dwello.build",role:c,isLoggedIn:!0,_id:f==null?void 0:f._id};i(d),localStorage.setItem("user",JSON.stringify(d))},o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),i(null)},l=()=>{e(c=>c==="light"?"dark":"light")};return M.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),M.useEffect(()=>{const c=localStorage.getItem("user"),f=localStorage.getItem("token");c&&f&&i(JSON.parse(c))},[]),x.jsx(Ez,{children:x.jsx(u6,{theme:t,toggleTheme:l,user:n,onLogout:o,children:x.jsxs(ez,{children:[x.jsx(Zn,{path:"/",element:n?x.jsx(Oi,{to:"/dashboard"}):x.jsx(f6,{})}),x.jsx(Zn,{path:"/login",element:x.jsx(Pne,{onLogin:r})}),x.jsx(Zn,{path:"/signup",element:x.jsx(Dne,{onLogin:r})}),x.jsx(Zn,{path:"/dashboard",element:n?x.jsx(r2,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"/projects",element:n?x.jsx(r2,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"/projects/new",element:n?x.jsx(Lne,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"/projects/:id",element:n?x.jsx(Tne,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"/resource-planning",element:n?x.jsx(Une,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"/budget-planning",element:n?x.jsx(kne,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"/ai-blueprint",element:n?x.jsx(gce,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"/workers",element:n?x.jsx(vce,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"/calendar",element:n?x.jsx(Nne,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"/feed",element:n?x.jsx(Cne,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"/logistics",element:n?x.jsx(Rne,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"/feedback",element:n?x.jsx(One,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"/settings",element:n?x.jsx(xce,{}):x.jsx(Oi,{to:"/login"})}),x.jsx(Zn,{path:"*",element:x.jsx(Oi,{to:"/",replace:!0})})]})})})},jj=document.getElementById("root");if(!jj)throw new Error("Could not find root element to mount to");const bce=nF.createRoot(jj);bce.render(x.jsx(ea.StrictMode,{children:x.jsx(yce,{})}));
